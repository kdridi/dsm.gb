Consulte le [script]("../scripts/bfs_explorer.py") qui a permis de générer ces informations

Je souhaite pouvoir améliorer ce script en te laissant constater les résultats qu'il a  produit

Voici le commentaire git
<CommentaireGit>
[BFS-5832] State14_Handler - (Bank 1, zone données)
</CommentaireGit>

Le diff git
<DiffGit>
diff --git a/scripts/bfs_state.json b/scripts/bfs_state.json
index 3be5fa4..db2bd51 100644
--- a/scripts/bfs_state.json
+++ b/scripts/bfs_state.json
@@ -5459,6 +5459,7 @@
     "$110D",
     "$2d55",
     "$2435",
+    "$5832",
     "$2544",
     "$0DCA",
     "$16D1",
@@ -5992,6 +5993,6 @@
     "$4CD9",
     "$07B7"
   ],
-  "commits_since_push": 0,
-  "total_explored": 581
+  "commits_since_push": 1,
+  "total_explored": 582
 }
\ No newline at end of file
diff --git a/src/bank_001.asm b/src/bank_001.asm
index 80ce8e1..5740c2b 100644
--- a/src/bank_001.asm
+++ b/src/bank_001.asm
@@ -3464,7 +3464,7 @@ Level3EntitiesData:  ; $5694
     db $FF  ; Terminateur
 
 ; ==============================================================================
-; ZONE MAL DÉSASSEMBLÉE: $56CB-$574A (Données compressées)
+; ZONE MAL DÉSASSEMBLÉE: $56CB-$5A5F (Données compressées + pointeurs états)
 ; ==============================================================================
 ; ATTENTION: Les instructions ci-dessous sont en réalité des DONNÉES compressées
 ; mal interprétées comme du code par le désassembleur.
@@ -3472,18 +3472,29 @@ Level3EntitiesData:  ; $5694
 ; Structure réelle:
 ;   $56CB-$56CC: Padding (2 bytes: $00 $00)
 ;   $56CD-$5749: CompressedTilesetData (125 bytes de données compressées)
+;   $574A-$5A5F: Continuation données compressées/tiles
+;
+; Pointeurs d'états dans cette zone (bank_000.asm StateJumpTable):
+;   $5832: État $14 - State14_CompressedData (pointeur dans stream)
+;   $5835: État $15 - State15_CompressedData
+;   $5838: État $17 - State17_CompressedData
+;   $583B: État $18 - State18_CompressedData
+;   $583E: État $19 - State19_CompressedData
+;   $5841: État $1A - State1A_CompressedData
 ;
 ; Référencé par:
 ;   - SharedTilesetData_024 (ligne 3381) - niveaux 0, 1, 2
 ;   - SharedMapData_012 (ligne 3396) - niveaux 0, 1, 2
 ;   - SharedEntitiesData_012 (ligne 3411) - niveaux 0, 1, 2
+;   - StateJumpTable (bank_000.asm:688-694) - états $14-$15, $17-$1A
 ;
 ; Format compression: Stream de commandes + données
 ;   - $5D $FE: Commande de répétition/copie
 ;   - $E2 XX: Commande avec argument
 ;   - Autres: Données brutes ou arguments
 ;
-; TODO: Reconstruire cette zone avec des 'db' statements corrects
+; TODO BFS: Reconstruire cette zone avec des 'db' statements corrects pour pouvoir
+;           placer les labels State14-State1A aux adresses exactes
 ; ==============================================================================
 TilesetData_Padding:  ; $56CB
     nop
diff --git a/tmp/bank_000.asm.txt b/tmp/bank_000.asm.txt
new file mode 100644
index 0000000..406f7cf
--- /dev/null
+++ b/tmp/bank_000.asm.txt
@@ -0,0 +1,14389 @@
+;; ============================================================================
+;; ROM Bank 0 - Vecteurs RST et Interruptions ($0000-$00FF)
+;; ============================================================================
+SECTION "ROM Bank $000", ROM0[$0]
+
+;; ============================================================================
+;; RST_00 - Soft Reset Entry Point
+;; ============================================================================
+;; Description: Vecteur RST $00, point d'entrée principal du programme.
+;;              Appelé au démarrage de la Game Boy ou lors d'un reset.
+;; In:  Aucun (état initial de la Game Boy)
+;; Out: Ne retourne jamais (jump vers SystemInit)
+;; Modifie: Tous les registres (via SystemInit)
+;; ============================================================================
+RST_00::
+    jp SystemInit
+
+    ; Padding jusqu'à RST $08
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+
+;; --- RST $08 : Soft Reset (alias) ---
+RST_08::
+    jp SystemInit
+
+    ; Padding jusqu'à RST $10
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; --- RST $10-$20 : Non utilisés ---
+RST_10::
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+RST_18::
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+RST_20::
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+RST_24::
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; ============================================================================
+;; RST $28 : Jump Table Dispatcher
+;; ============================================================================
+;; Usage : rst $28 suivi immédiatement d'une table de mots (dw addr1, addr2...)
+;; Entrée : A = index dans la table (0, 1, 2...)
+;; Effet  : Saute vers l'adresse à table[A]
+;;
+;; Exemple :
+;;   ld a, [hGameState]
+;;   rst $28
+;;   dw State0Handler, State1Handler, State2Handler
+;; ============================================================================
+; JumpTableDispatcher
+; --------------------
+; Description: Dispatcher générique de jump table. Utilise A comme index
+;              pour sauter vers une entrée dans une table de pointeurs 16-bit.
+;              La table doit immédiatement suivre l'appel "rst $28".
+; In:  a = index dans la jump table (0, 1, 2...)
+; Out: Saute vers l'adresse ciblée (ne retourne jamais)
+; Modifie: de, hl
+JumpTableDispatcher::
+    add a               ; A = A * 2 (car chaque entrée = 2 octets)
+    pop hl              ; HL = adresse de retour (= début de la table)
+    ld e, a
+    ld d, $00           ; DE = offset
+    add hl, de          ; HL = table + offset
+    ld e, [hl]          ; E = octet bas de l'adresse
+    inc hl
+    ; Suite dans JumpTableDispatcherContinue...
+
+;; --- RST $30 : Suite du dispatcher ---
+; JumpTableDispatcherContinue
+; ----------------------------
+; Description: Seconde partie du dispatcher (continue depuis RST $28).
+;              Charge l'octet haut et effectue le saut.
+; In:  hl = pointeur vers octet haut de l'adresse cible, e = octet bas
+; Out: Saute vers l'adresse ciblée
+; Modifie: de, hl
+JumpTableDispatcherContinue::
+    ld d, [hl]          ; D = octet haut de l'adresse
+    push de
+    pop hl              ; HL = adresse cible
+    jp hl               ; Saut vers le handler
+
+    ; Padding jusqu'à RST $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; --- RST $38 : Non utilisé (trap) ---
+RST_38::
+    rst $38             ; Boucle infinie si appelé par erreur
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; ==========================================================================
+;; Interrupt Vectors ($0040-$0068)
+;; ==========================================================================
+;; Le Game Boy a 5 vecteurs d'interruption fixes. Chaque vecteur a 8 bytes.
+;; On utilise un JP pour sauter vers le handler réel (car 8 bytes = trop court).
+;; ==========================================================================
+
+;; --- INT $40 : VBlank Interrupt ---
+; VBlankInterrupt
+; ---------------
+; Description: Vecteur d'interruption VBlank. Déclenché quand LY atteint 144.
+;              Redirige vers VBlankHandler pour le traitement principal.
+; In:  Aucun (interruption matérielle)
+; Out: Aucun (jump vers handler)
+; Modifie: PC uniquement (jump)
+VBlankInterrupt::
+    jp VBlankHandler
+
+    ; Padding jusqu'à $0048
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; --- INT $48 : LCD STAT Interrupt ---
+; LCDCInterrupt
+; -------------
+; Description: Vecteur d'interruption LCD STAT. Déclenché selon STAT (LYC=LY, mode 0/1/2).
+;              Utilisé pour les effets de scanline (scroll, window).
+;              Redirige vers LCDStatHandler pour le traitement principal.
+; In:  Aucun (interruption matérielle)
+; Out: Aucun (jump vers handler)
+; Modifie: PC uniquement (jump)
+LCDCInterrupt::
+    jp LCDStatHandler
+
+    ; Padding jusqu'à $0050
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; --- INT $50 : Timer Overflow Interrupt ---
+; TimerOverflowInterrupt
+; ----------------------
+; Description: Handler d'interruption timer overflow (TIMA). Appelle la routine audio en bank 3.
+; In:  (none - interrupt context)
+; Out: (none)
+; Modifie: af (sauvegardé/restauré), bank ROM
+; Note: L'interruption Serial ($0058) tombe au milieu du call $7ff0.
+;       Ce n'est pas un vrai handler - le jeu n'utilise pas le port série.
+TimerOverflowInterrupt::
+    push af
+    ld a, BANK_AUDIO         ; Bank 3 = audio
+    ld [rROMB0], a           ; Switch to audio bank
+    call AudioEntryPoint      ; Routine audio en bank 3
+    ldh a, [hCurrentBank]    ; Restaurer bank courante
+    ld [rROMB0], a
+    pop af
+    reti
+
+
+;; ==========================================================================
+; VBlankHandler
+; ----------------
+; Description: Handler principal VBlank, appelé 60 fois par seconde.
+;              Sauvegarde contexte, met à jour la logique de jeu (scroll, vies, score, animations),
+;              effectue le DMA OAM transfer, incrémente le compteur de frames, gère l'activation
+;              du Window selon l'état de jeu, réinitialise le scroll et signale la fin du VBlank.
+; In:  (aucun)
+; Out: (aucun)
+; Modifie: af, bc, de, hl (sauvegardés/restaurés), hFrameCounter, hVBlankFlag, SCX, SCY, LCDC
+;
+; Structure :
+;   1. SaveRegisters      → push af/bc/de/hl
+;   2. UpdateGameLogic    → Scroll, vies, score, animations
+;   3. DMATransfer        → call $FFB6 (copie OAM depuis wShadowOAM)
+;   4. IncrementFrame     → hFrameCounter++
+;   5. CheckWindowEnable  → Active Window si game_state == $3A
+;   6. ResetScrollAndFlag → SCX/SCY = 0, hVBlankFlag = 1
+;   7. RestoreRegisters   → pop + reti
+VBlankHandler::
+    ; --- 1. SaveRegisters ---
+    push af
+    push bc
+    push de
+    push hl
+
+    ; --- 2. UpdateGameLogic ---
+    call UpdateScrollColumn
+    call ProcessBlockCollision
+    call UpdateLivesDisplay
+
+    ; --- 3. DMATransfer ---
+    call hDmaRoutine        ; Routine OAM DMA copiée en HRAM
+
+    ; --- UpdateGameLogic (suite) ---
+    call UpdateScoreDisplay
+    call UpdateLevelScore
+    call UpdateAnimTiles
+
+    ; --- 4. IncrementFrame ---
+    ld hl, hFrameCounter
+    inc [hl]                ; frame_counter++
+
+    ; --- 5. CheckWindowEnable ---
+CheckWindowEnable:
+    ldh a, [hGameState]          ; Lire game_state
+    cp GAME_STATE_WINDOW    ; État spécial $3A (window) ?
+    jr nz, .resetScrollAndFlag   ; Non → sauter
+
+    ld hl, rLCDC
+    set 5, [hl]             ; Activer le Window (bit 5)
+
+    ; --- 6. ResetScrollAndFlag ---
+.resetScrollAndFlag:
+    xor a
+    ldh [rSCX], a           ; Scroll X = 0
+    ldh [rSCY], a           ; Scroll Y = 0
+    inc a                   ; A = 1
+    ldh [hVBlankFlag], a          ; frame_ready = 1 → réveille la game loop
+
+    ; --- 7. RestoreRegisters ---
+    pop hl
+    pop de
+    pop bc
+    pop af
+    reti                    ; Retour d'interruption
+
+
+;; ==========================================================================
+;; LCDStatHandler - Handler LCD STAT Interrupt ($0095)
+;; ==========================================================================
+;; Déclenché par LYC=LY. Gère les effets de scanline :
+;;   - Scroll mid-screen (hShadowSCX/wLevelInitFlag)
+;;   - Animation window (état $3A = écran spécial window)
+;;
+;; Modes (wGameConfigA5) :
+;;   0 = Mode normal : applique scroll, gère window
+;;   !=0 = Mode retour : désactive window, reset LYC
+;;
+;; Points d'entrée publics (utilisés par bank 2/3) :
+;;   LCDStat_CheckCarryExit : Vérifie carry et saute à exit si >= $87
+;;   LCDStat_SetLYC : Écrit A dans rLYC et wGameConfigA5
+;;   LCDStat_PopAndReti : Pop af + reti
+;; ==========================================================================
+LCDStatHandler:
+    push af
+    push hl
+
+    ; Attendre Mode 0 (HBlank) avant de toucher aux registres
+LCDStatHandler_WaitMode0:
+    ldh a, [rSTAT]
+    and STATF_LCD               ; Bits 0-1 = mode LCD
+    jr nz, LCDStatHandler_WaitMode0 ; Boucle tant que != Mode 0
+
+    ; Vérifier le mode du handler
+    ld a, [wGameConfigA5]
+    and a
+    jr nz, LCDStatHandler_RestoreMode ; Si !=0 → mode retour
+
+    ; --- Mode normal : appliquer scroll ---
+    ldh a, [hShadowSCX]
+    ldh [rSCX], a               ; Scroll X = shadow
+
+    ld a, [wAudioSaveDE]        ; Flag scroll Y actif ?
+    and a
+    jr z, LCDStatHandler_CheckWindow
+
+    ld a, [wLevelInitFlag]      ; Si oui, appliquer scroll Y
+    ldh [rSCY], a
+
+LCDStatHandler_CheckWindow:
+    ; Vérifier si état $3A (écran spécial window)
+    ldh a, [hGameState]
+    cp GAME_STATE_WINDOW        ; $3A
+    jr nz, LCDStatHandler_Exit
+
+    ; --- Animation window (état $3A) ---
+    ld hl, rWY                  ; $FF4A = Window Y position
+    ld a, [hl]
+    cp WY_WINDOW_DONE           ; WY == $40 ?
+    jr z, LCDStatHandler_WindowDone ; Oui → animation terminée
+
+    dec [hl]                    ; Sinon décrémenter WY
+    cp LY_WINDOW_MAX            ; A >= $87 ?
+
+; LCDStat_CheckCarryExit
+; ----------------------
+; Description: Point d'entrée public - vérifie carry flag et exit si carry clear
+; In:  carry = flag à tester (résultat du cp précédent)
+;      a = valeur testée (généralement position window)
+; Out: Si carry clear (valeur >= seuil) → exit handler
+;      Si carry set (valeur < seuil) → continue vers UpdateLYC
+; Modifie: rien (saute à Exit ou continue)
+LCDStat_CheckCarryExit:
+    jr nc, LCDStatHandler_Exit  ; Carry clear → ne pas changer LYC
+
+; LCDStatHandler_UpdateLYC
+; ------------------------
+; Description: Incrémente LYC de 8 lignes pour animation window (1 tile)
+; In:  a = valeur LYC actuelle
+; Out: a = nouvelle valeur LYC (ancienne + 8)
+; Modifie: a (flow-through vers SetLYC)
+LCDStatHandler_UpdateLYC:
+    add LYC_SCANLINE_STRIDE     ; Prochaine ligne LYC (+8 = 1 tile)
+
+; LCDStat_SetLYC
+; --------------
+; Description: Point d'entrée public - écrit la valeur LYC dans le registre hardware et la sauvegarde
+; In:  a = nouvelle valeur LYC (ligne de comparaison pour interruption STAT)
+; Out: a = inchangé
+; Modifie: [rLYC], [wGameConfigA5]
+LCDStat_SetLYC:
+    ldh [rLYC], a               ; Programmer prochaine interruption
+    ld [wGameConfigA5], a       ; Mémoriser pour mode retour
+
+; LCDStatHandler_Exit
+; --------------------
+; Description: Point de sortie du handler LCD STAT - restaure registres et flow-through vers PopAndReti
+; In:  hl = sur la pile (sauvegardé en début de handler)
+; Out: rien (flow-through vers LCDStat_PopAndReti)
+; Modifie: hl (restauré depuis pile)
+LCDStatHandler_Exit:
+    pop hl
+
+; LCDStat_PopAndReti
+; ------------------
+; Description: Point d'entrée public - restaure AF et retourne d'interruption
+; In:  af = sur la pile
+; Out: rien (retour d'interruption)
+; Modifie: af (restauré depuis pile)
+LCDStat_PopAndReti:
+    pop af
+    reti
+
+
+LCDStatHandler_RestoreMode:
+    ; --- Mode retour : désactiver window ---
+    ld hl, rLCDC                ; $FF40
+    res 5, [hl]                 ; Désactiver Window (bit 5)
+    ld a, LYC_TOP_SCREEN
+    ldh [rLYC], a               ; LYC = 15 (haut écran)
+    xor a
+    ld [wGameConfigA5], a       ; Repasser en mode normal
+    jr LCDStatHandler_Exit
+
+LCDStatHandler_WindowDone:
+    ; WY a atteint $40 : ajuster animation sprites
+    push af
+    ldh a, [hOAMIndex]
+    and a
+    jr z, LCDStatHandler_OAMDone
+
+    dec a
+    ldh [hOAMIndex], a
+
+LCDStatHandler_OAMContinue:
+    pop af
+    jr LCDStatHandler_UpdateLYC
+
+LCDStatHandler_OAMDone:
+    ld a, FLAG_ANIM_DONE
+    ld [wPlayerVarAD], a        ; Flag animation terminée
+    jr LCDStatHandler_OAMContinue
+
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+;; ==========================================================================
+;; Entry Point ($0100-$0103)
+;; ==========================================================================
+;; Le bootstrap du Game Boy termine à $0100. C'est là que l'exécution
+;; commence après le boot screen Nintendo. La convention est :
+;;   $0100: nop
+;;   $0101-$0103: jp <init>
+;; Le nop laisse la place pour un éventuel di avant le jump.
+;; ==========================================================================
+Boot::
+    nop
+    jp AfterHeader
+
+
+;; ==========================================================================
+;; ROM Header ($0104-$014F)
+;; ==========================================================================
+;; Structure fixe imposée par Nintendo, vérifiée par le bootstrap.
+;; Le header contient le logo Nintendo (obligatoire pour boot), le titre,
+;; et les métadonnées de la cartouche.
+;; ==========================================================================
+
+;; Logo Nintendo ($0104-$0133) - Obligatoire, vérifié au boot
+HeaderLogo::
+    db $ce, $ed, $66, $66, $cc, $0d, $00, $0b, $03, $73, $00, $83, $00, $0c, $00, $0d
+    db $00, $08, $11, $1f, $88, $89, $00, $0e, $dc, $cc, $6e, $e6, $dd, $dd, $d9, $99
+    db $bb, $bb, $67, $63, $6e, $0e, $ec, $cc, $dd, $dc, $99, $9f, $bb, $b9, $33, $3e
+
+;; Titre du jeu ($0134-$0143) - 16 caractères max, padding avec $00
+HeaderTitle::
+    db "SUPER MARIOLAND", $00
+
+;; Code éditeur nouveau format ($0144-$0145) - Non utilisé ici
+HeaderNewLicenseeCode::
+    db $00, $00
+
+;; Flag Super Game Boy ($0146) - $00 = pas de fonctions SGB
+HeaderSGBFlag::
+    db $00
+
+;; Type cartouche ($0147) - $01 = ROM + MBC1
+HeaderCartridgeType::
+    db $01
+
+;; Taille ROM ($0148) - $01 = 64 KB (4 banks × 16 KB)
+HeaderROMSize::
+    db $01
+
+;; Taille RAM ($0149) - $00 = pas de RAM externe
+HeaderRAMSize::
+    db $00
+
+;; Code destination ($014A) - $00 = Japon
+HeaderDestinationCode::
+    db $00
+
+;; Code éditeur ancien format ($014B) - $01 = Nintendo
+HeaderOldLicenseeCode::
+    db $01
+
+;; Version ROM ($014C) - $00 = version 1.0
+HeaderMaskROMVersion::
+    db $00
+
+;; Checksum header ($014D) - Vérifié au boot
+HeaderComplementCheck::
+    db $9e
+
+;; Checksum global ($014E-$014F) - Non vérifié
+HeaderGlobalChecksum::
+    db $41, $6b
+
+; AfterHeader
+; -----------
+; Description: Point d'entrée après le header ROM. Saute vers l'initialisation système.
+; In:  (aucun)
+; Out: (ne retourne jamais, saute vers SystemInit)
+; Modifie: (aucun avant le saut)
+AfterHeader:
+    jp SystemInit
+
+
+; -----------------------------------------------------------------------------
+; ReadTileUnderSprite - Lit le tile BG sous le sprite de manière sûre
+; -----------------------------------------------------------------------------
+; Entrées : hSpriteY, hSpriteX (coordonnées OAM en pixels)
+; Sortie  : A = numéro du tile BG sous le sprite
+; Note    : Double lecture + AND pour filtrer les erreurs VRAM
+; -----------------------------------------------------------------------------
+ReadTileUnderSprite:
+    call GetTileAddrFromSprite
+
+    WAIT_FOR_HBLANK
+    ld b, [hl]
+
+    WAIT_FOR_HBLANK
+    ld a, [hl]
+    and b
+    ret
+
+; AddScore
+; --------
+; Description: Ajoute des points au score en notation BCD (Binary-Coded Decimal)
+;              et plafonne à 999999 en cas de dépassement
+; In:  de = Points à ajouter (format BCD, ex: $0100 = 100 points)
+; Out: Aucun
+; Modifie: a, hl
+; Note: Gère automatiquement la retenue BCD sur 3 octets (6 chiffres décimaux)
+AddScore:
+    ReturnIfLocked
+
+    ld a, e
+    ld hl, wScoreBCDHigh
+    add [hl]
+    daa
+    ld [hl+], a
+    ld a, d
+    adc [hl]
+    daa
+    ld [hl+], a
+    ld a, FLAG_FALSE
+    adc [hl]
+    daa
+    ld [hl], a
+    ld a, FLAG_UPDATE_NEEDED
+    ldh [hScoreNeedsUpdate], a
+    ret nc
+
+    ld a, BCD_MAX_DIGIT         ; Score max = 999999 (BCD)
+    ld [hl-], a
+    ld [hl-], a
+    ld [hl], a
+    ret
+
+
+;; ==========================================================================
+;; SystemInit - Initialisation complète du système Game Boy
+;; ==========================================================================
+;; Appelé par : RST_00 (soft reset), Boot ($0150)
+;; Entrée    : Aucune
+;; Sortie    : Système prêt, LCD OFF, mémoire effacée
+;; Modifie   : A, HL, BC, SP, tous les registres hardware
+;; ==========================================================================
+SystemInit:
+    ConfigureInterrupts         ; DI + config VBlank/STAT
+    ConfigureLCDStat            ; Mode LYC interrupt
+    ResetScroll                 ; SCX/SCY = 0
+    WaitVBlankAndDisableLCD     ; Attendre VBlank puis LCD OFF
+    ConfigurePalettes           ; BGP, OBP0, OBP1
+    EnableAudio                 ; NR50/51/52 = ON + volume max
+    SetupStack                  ; SP = $CFFF
+    ClearWRAM                   ; $C000-$DFFF = 0
+    ClearVRAM                   ; $8000-$9FFF = 0
+    ClearOAM                    ; $FE00-$FEFF = 0
+    ClearHRAM                   ; $FF80-$FFFE = 0
+    CopyVBlankRoutine           ; Copie DMA handler vers $FFB6
+    InitGameVariables           ; Variables + bank switch → bank 2
+
+;; ==========================================================================
+;; GameLoop - Boucle principale du jeu
+;; ==========================================================================
+;; Structure :
+;;   1. CheckSpecialState  → Vérifie wSpecialState == 3 (reset ?)
+;;   2. CallBank3Logic     → Appelle la logique en bank 3
+;;   3. CheckPauseOrSkip   → Vérifie si on doit sauter le frame
+;;   4. DecrementTimers    → Décrémente 2 timers (hTimer1, hTimer2)
+;;   5. HandleAttractMode  → Gestion de l'Attract Mode (voir ci-dessous)
+;;   6. CallStateHandler   → Appelle le handler d'état (StateDispatcher)
+;;   7. WaitForNextFrame   → HALT + attend flag VBlank
+;;
+;; --------------------------------------------------------------------------
+;; ATTRACT MODE (étape 5)
+;; --------------------------------------------------------------------------
+;; Pattern classique Nintendo : écran titre → timeout → démo auto → boucle
+;;
+;;   ┌─────────────────────────────────────────────────────────┐
+;;   │                                                         │
+;;   │  ┌───────────────────┐  timeout   ┌──────────────────┐  │
+;;   │  │   Écran titre     │ ────────→  │   Démo auto      │  │
+;;   │  │ (GAME_STATE_TITLE)│            │ (GAME_STATE_DEMO)│  │
+;;   │  └───────────────────┘            └──────────────────┘  │
+;;   │           ↑                              │              │
+;;   │           │       timeout / fin démo     │              │
+;;   │           └──────────────────────────────┘              │
+;;   │           │                                             │
+;;   │           │ Start pressé                                │
+;;   │           ↓                                             │
+;;   │  ┌──────────────────┐                                   │
+;;   │  │  Démarrer le jeu │                                   │
+;;   │  └──────────────────┘                                   │
+;;   └─────────────────────────────────────────────────────────┘
+;;
+;; Mécanisme :
+;;   - wAttractModeTimer : compteur décrémenté toutes les 16 frames
+;;   - Quand timer = 0 ET hGameState = GAME_STATE_TITLE ($00)
+;;     → Switch vers bank 2, hGameState = GAME_STATE_DEMO ($0E)
+;;   - Start pressé : bypass le timer (déclenchement immédiat)
+;;
+;; Timing : ~256 × 16 frames ÷ 60fps ≈ 68 secondes avant démo
+;; ==========================================================================
+
+; --- 1. CheckSpecialState ---
+GameLoop:
+    CheckSpecialStateAndReset .callBank3Logic
+
+; --- 2. CallBank3Logic ---
+.callBank3Logic:
+    CallBank3Routine ROM_BANK3_MAIN_LOGIC
+
+; --- 3. CheckPauseOrSkip ---
+    CheckPauseAndSkip .decrementTimers, .waitVBlank
+
+; --- 4. DecrementTimers ---
+.decrementTimers:
+    ld hl, hTimer1
+    ld b, GAMELOOP_TIMER_COUNT
+    DECREMENT_TIMERS_LOOP
+
+; --- 5. HandleAttractMode ---
+    CheckAttractModeTimer .callStateHandler, .triggerAttractDemo
+
+.triggerAttractDemo:
+    TriggerAttractDemoIfOnTitle .callStateHandler
+
+; --- 6. CallStateHandler ---
+.callStateHandler:
+    call StateDispatcher
+
+; --- 7. WaitForNextFrame ---
+.waitVBlank:
+    WaitForNextFrame
+    jr GameLoop
+
+DeadLoop:
+    jr DeadLoop
+
+;; ==========================================================================
+;; StateDispatcher - Dispatch vers le handler selon game_state ($FFB3)
+;; ==========================================================================
+; StateDispatcher
+; ----------------
+; Description: Point d'aiguillage principal du jeu. Dispatche l'exécution vers
+;              le handler d'état approprié selon la valeur de hGameState (0-59).
+;              Utilise le mécanisme rst $28 avec une jump table de 60 entrées.
+; In:  hGameState = index d'état (0-59, lu depuis $FFB3)
+; Out: Saute vers le handler correspondant (ne retourne jamais directement)
+; Modifie: a, de, hl (via rst $28)
+; Appelé par: GameLoop (.callStateHandler)
+StateDispatcher:
+    ldh a, [hGameState]     ; Charger l'index d'état actuel
+    rst $28                 ; → Dispatcher via jump table (voir JumpTableDispatcher)
+; === StateDispatcher Jump Table (60 états) ===
+; Index = hGameState (0-59), chaque entrée = adresse handler
+StateJumpTable:
+    dw State00_MainGameplay     ; État $00 - Init/main gameplay
+    dw State01_WaitClearObjects ; État $01 - Reset objets
+    dw State02_PrepareRender    ; État $02 - Préparation rendu
+    dw State03_SetupTransition  ; État $03 - Setup sprites transition
+    dw State04_AnimTransition   ; État $04 - Animation transition
+    dw State05_SpecialLevel     ; État $05 - Niveau spécial gestion
+    dw State06_PostLevel        ; État $06 - Transition post-niveau
+    dw State07_WaitBank3        ; État $07 - Attente + bank 3
+    dw State08_WorldProgress    ; État $08 - Progression monde/niveau
+    dw State09_PipeEnterRight  ; État $09 - Entrée tuyau droite
+    dw State0A_LoadSubLevel    ; État $0A - Chargement sous-niveau
+    dw State0B_PipeEnterDown   ; État $0B - Descente tuyau
+    dw State0C_PipeExitLeft    ; État $0C - Sortie tuyau gauche
+    dw State0D_GameplayFull    ; État $0D - Gameplay avec objets
+    dw State0E_LevelInit       ; État $0E - Init niveau + HUD
+    dw State0F_LevelSelect     ; État $0F - Menu sélection
+    dw State10_Noop            ; État $10 - Vide (placeholder)
+    dw State11_LevelStart      ; État $11 - Démarrage niveau
+    dw State12_EndLevelSetup       ; État $12 - Setup fin de niveau
+    dw State13_DrawEndBorder       ; État $13 - Dessin bordure fin
+    dw $5832    ; État $14 - (Bank 1, zone données)
+    dw $5835    ; État $15 - (Bank 1, zone données)
+    dw State16_CopyTilemapData     ; État $16 - Copie données tilemap
+    dw $5838    ; État $17 - (Bank 1, zone données)
+    dw $583b    ; État $18 - (Bank 1, zone données)
+    dw $583e    ; État $19 - (Bank 1, zone données)
+    dw $5841    ; État $1A - (Bank 1, zone données)
+    dw $0df0    ; État $1B - (décalé d'1 byte par rapport à State1B_BonusComplete)
+    dw State1C_WaitTimerGameplay   ; État $1C - Attente timer gameplay
+    dw State1D_SetupVRAMPointer    ; État $1D - Setup pointeur VRAM
+    dw State1E_ClearTilemapColumn  ; État $1E - Clear colonne tilemap
+    dw State1F_EnableVBlankMode    ; État $1F - Active mode VBlank
+    dw State20_WaitPlayerPosition  ; État $20 - Attente position joueur
+    dw State21_SetupEndCutscene    ; État $21 - Setup cutscene fin
+    dw State22_ScrollCutscene      ; État $22 - Scroll cutscene
+    dw State23_WalkToDoor          ; État $23 - Marche vers porte
+    dw State24_DisplayText         ; État $24 - Affichage texte
+    dw State25_SpriteBlinkAnimation ; État $25 - Animation clignotante
+    dw State26_PrincessRising      ; État $26 - Princesse montante
+    dw State27_PlayerOscillation   ; État $27 - Oscillation joueur
+    dw State20_WaitPlayerPosition  ; État $28 - (= État $20)
+    dw State29_SetupEndScreen      ; État $29 - Setup écran fin
+    dw State2A_DisplayEndText      ; État $2A - Affichage texte fin
+    dw State2B_PrincessDescending  ; État $2B - Princesse descendante
+    dw State2C_SpriteOscillation   ; État $2C - Oscillation sprite
+    dw State2D_DisplayText2        ; État $2D - Affichage texte 2
+    dw State2E_DuoAnimation        ; État $2E - Animation duo
+    dw State2F_TransferSpriteData  ; État $2F - Transfert données sprite
+    dw State30_WalkLeft            ; État $30 - Marche gauche
+    dw State31_HorizontalScroll    ; État $31 - Scroll horizontal
+    dw State32_CreditsScroll       ; État $32 - Scroll crédits
+    dw State33_DisplayCreditsText  ; État $33 - Affichage texte crédits
+    dw State34_WaitCreditsCounter  ; État $34 - Attente compteur crédits
+    dw State35_WaitTimer           ; État $35 - Attente timer
+    dw State36_CreditsFinalTransition ; État $36 - Transition finale crédits
+    dw State37_FinalSpriteAnimation ; État $37 - Animation sprite finale
+    dw State38_CreditsAnimation    ; État $38 - Animation crédits
+    dw State39_GameOver            ; État $39 - Game Over
+    dw State3A_WindowUpdate        ; État $3A - Mise à jour window
+    dw State3B_WindowSetup         ; État $3B - Setup window
+
+; === Données non référencées ($031E-$0321) ===
+; Peut-être du padding ou des données obsolètes
+    db $14, $1d, $a4, $06
+
+; ===========================================================================
+; État $0E - Initialisation niveau (chargement tiles et HUD)
+; LCD off → charge tiles VRAM → configure HUD → LCD on → état $0F
+; ===========================================================================
+; State0E_LevelInit
+; ----------------
+; Description: Initialise un niveau - désactive LCD, copie les tiles en VRAM,
+;              configure le HUD (MARIO, WORLD, score), et gère les sprites de menu.
+; In:  [wLevelType] = index du niveau à charger
+; Out: [hGameState] = GAME_STATE_LEVEL_SELECT
+; Modifie: af, bc, de, hl, tous les buffers VRAM/OAM
+State0E_LevelInit::
+    xor a                   ; A = 0 ($AF)
+    ldh [rLCDC], a          ; Désactiver LCD
+    di
+    ldh [hShadowSCX], a
+    ld hl, wOamBuffer
+    ld b, OAM_BUFFER_SIZE
+
+ClearOamLoop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearOamLoop
+
+    ldh [hTimerAux], a
+    ld [wGameConfigA5], a
+    ld [wPlayerVarAD], a
+    ld hl, wLevelVarD8
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld a, [wLevelType]
+    ldh [hLevelIndex], a
+    ld hl, ROM_TILES_MAIN
+    ld de, VRAM_TILES_MAIN
+    ld bc, SIZE_TILES_MAIN
+    call MemCopy
+    ld hl, ROM_TILES_AUX
+    ld de, VRAM_TILES_AUX
+    ld bc, SIZE_TILES_AUX
+    call MemCopy
+    ld hl, ROM_TILES_LEVEL_1
+    ldh a, [hLevelIndex]
+    cp WORLD_1                  ; Monde 1 = premier monde
+    jr c, SelectLevelAudioTable
+
+    ld hl, ROM_TILES_LEVEL_2
+
+SelectLevelAudioTable:
+    ld de, VRAM_TILES_LEVEL
+    ld bc, SIZE_TILES_LEVEL
+    call MemCopy
+    ld hl, ROM_TILES_OBJECTS
+    ld de, VRAM_TILES_OBJECTS
+    ld bc, SIZE_TILES_OBJECTS
+    call MemCopy
+    ld hl, ROM_TILES_OBJECTS
+    ld de, VRAM_TILES_SPRITES
+    ld bc, SIZE_TILES_SPRITES
+    call MemCopy
+    call ClearBGTilemap
+    xor a
+    ldh [hTilemapScrollX], a
+    ldh a, [hRenderContext]
+    push af
+    ld a, RENDER_CONTEXT_MAX        ; $0C contexte spécial
+    ldh [hRenderContext], a
+    call LoadLevelData
+    pop af
+    ldh [hRenderContext], a
+    ld a, TILE_HUD_BORDER
+    ld hl, VRAM_BG_BASE
+    call FillTilemapRow
+    ld hl, VRAM_HUD_MARIO
+    ld [hl], TILE_HUD_MARIO_M
+    ld hl, VRAM_HUD_COINS
+    ld [hl], TILE_HUD_MARIO_A
+    inc l
+    ld [hl], TILE_HUD_MARIO_R
+    inc l
+    ld [hl], TILE_HUD_MARIO_I
+    ld hl, VRAM_HUD_WORLD
+    ld [hl], TILE_HUD_WORLD_W
+    inc l
+    ld [hl], TILE_HUD_WORLD_O
+    inc l
+    ld [hl], TILE_HUD_WORLD_R
+    ld hl, wScoreBCD
+    ld de, wScorePrevious
+    ld b, SCORE_BCD_SIZE
+
+CompareBCDScoresLoop:
+    ld a, [de]
+    sub [hl]
+    jr c, CopyScoreBCD
+
+    jr nz, CompareBCDScoresToDisplay
+
+    dec e
+    dec l
+    dec b
+    jr nz, CompareBCDScoresLoop
+
+    jr CompareBCDScoresToDisplay
+
+CopyScoreBCD:
+    ld hl, wScoreBCD
+    ld de, wScorePrevious
+    ld b, SCORE_BCD_SIZE
+
+CopyScoreBCDPreviousLoop:
+    ld a, [hl-]
+    ld [de], a
+    dec e
+    dec b
+    jr nz, CopyScoreBCDPreviousLoop
+
+CompareBCDScoresToDisplay:
+    ld de, wScorePrevious
+    ld hl, VRAM_HIGHSCORE
+    call ConvertBCDToTiles
+    ld hl, wOamSprite1Y
+    ld [hl], SPRITE_Y_MENU
+    ld a, [wGameConfigA6]
+    and a
+    jr z, FinalizeGameStateAfterScore
+
+    ldh a, [hLevelIndex]
+    cp LEVEL_THRESHOLD_SPRITES
+    jr c, DisplaySpritesForLowLevel
+
+    jr FinalizeGameStateAfterScore
+
+DisplaySpritesForLowLevel:
+    ld hl, ROM_MENU_SPRITES
+    ld de, VRAM_MENU_DEST
+    ld b, SIZE_MENU_SPRITES
+
+CopySpriteDataLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    dec b
+    jr nz, CopySpriteDataLoop
+
+    ld hl, wOamBuffer
+    ld [hl], OAM_TITLE_SPRITE_Y
+    inc l
+    ld [hl], OAM_TITLE_SPRITE_X
+    inc l
+    ld a, [wGameConfigA6]
+    ld [hl], a
+    inc l
+    ld [hl], OAM_ATTR_NORMAL         ; Attributs sprite (palette 0, pas de flip)
+    inc l
+    ld [hl], OAM_TITLE_SPRITE2_Y
+
+FinalizeGameStateAfterScore:
+    inc l
+    ld [hl], OAM_TITLE_SPRITE2_X
+    inc l
+    ld [hl], OAM_TITLE_TILE
+    xor a
+    ldh [rIF], a
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a
+    ei
+    ld a, GAME_STATE_LEVEL_SELECT
+    ldh [hGameState], a
+    xor a
+    ldh [hVBlankMode], a
+    ld a, ATTRACT_MODE_TIMEOUT
+    ld [wAttractModeTimer], a
+    ldh [hUpdateLockFlag], a
+    ld hl, wCurrentROMBank
+    inc [hl]
+    ld a, [hl]
+    cp ROM_BANK_COUNT
+    ret nz
+
+    ld [hl], BANK_0                  ; Reset au bank 0
+    ret
+
+
+    inc c
+    jr @+$19
+
+    dec e
+    ld [de], a
+    rla
+    ld e, $0e
+    inc l
+    dec hl
+
+; StartSelectedLevel
+; ------------------
+; Description: Lance le niveau sélectionné quand Start est pressé
+; In:  wOamSprite1Y = position Y du sprite menu
+;      wAnimTileIdx = index de la tuile animée correspondant au niveau
+;      wGameConfigA6 = configuration du jeu
+; Out: Ne retourne pas (jp vers InitLevelStartFull)
+; Modifie: a, e, hAnimTileIndex, hRenderContext
+StartSelectedLevel:
+    ld a, [wOamSprite1Y]
+    cp SPRITE_Y_MENU
+    jr z, ResetRenderForHighLevels
+
+    ld a, [wGameConfigA6]
+    dec a
+    ld [wGameConfigA6], a
+    ld a, [wAnimTileIdx]
+    ldh [hAnimTileIndex], a
+    ld e, $00
+    cp ANIM_TILE_W1_L1
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W1_L2
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W1_L3
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W2_L1
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W2_L2
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W2_L3
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W3_L1
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W3_L2
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W3_L3
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W4_L1
+    jr z, SelectTileIndexForLevel
+
+    inc e
+    cp ANIM_TILE_W4_L2
+    jr z, SelectTileIndexForLevel
+
+    inc e
+
+; SelectTileIndexForLevel
+; ----------------
+; Description: Point de convergence pour la sélection du contexte de rendu.
+;              Convertit l'index incrémenté (e) en index de niveau (0-11).
+; In:  e = index de niveau calculé (0-11)
+; Out: a = e, puis saute vers ApplyRenderContext
+; Modifie: a
+SelectTileIndexForLevel:
+    ld a, e
+
+; ApplyRenderContext
+; ----------------
+; Description: Applique le contexte de rendu et démarre le niveau complet.
+; In:  a = contexte de rendu (index de niveau 0-11)
+; Out: Ne retourne pas (jp vers InitLevelStartFull)
+; Modifie: hRenderContext
+ApplyRenderContext:
+    ldh [hRenderContext], a
+    jp InitLevelStartFull
+
+
+; =============================================================================
+; ResetRenderForHighLevels
+; =============================================================================
+; Description: Réinitialise le contexte de rendu pour les niveaux élevés.
+;              Si niveau < seuil sprites ($02), réinitialise hAnimTileIndex
+;              à $11 et applique contexte rendu 0. Sinon, init complète.
+; In:  hLevelIndex = index du niveau courant
+; Out: Ne retourne pas (jp vers InitLevelStartFull ou ApplyRenderContext)
+; Modifie: a, wGameConfigA6, hAnimTileIndex (si niveau < seuil)
+; =============================================================================
+ResetRenderForHighLevels:
+    xor a
+    ld [wGameConfigA6], a
+    ldh a, [hLevelIndex]
+    cp LEVEL_THRESHOLD_SPRITES
+    jp nc, InitLevelStartFull
+
+    ld a, INIT_ANIM_TILE_IDX
+    ldh [hAnimTileIndex], a
+    xor a
+    jr ApplyRenderContext
+
+; =============================================================================
+; HandleSelectButtonLevelSelect
+; =============================================================================
+; Description: Gère le bouton Select dans le menu de sélection de niveau.
+;              Toggle la position Y du sprite menu (XOR avec $F8).
+; In:  wGameConfigA6 = flag activation (0 = désactivé, autre = activé)
+;      wOamSprite1Y = position Y actuelle du sprite
+; Out: wOamSprite1Y = position Y modifiée si activé
+; Modifie: a, hl
+; =============================================================================
+HandleSelectButtonLevelSelect:
+    ld a, [wGameConfigA6]
+    and a
+    jr z, UpdateLevelSelectDisplay
+
+    ld hl, wOamSprite1Y
+    ld a, [hl]
+    xor TOGGLE_SPRITE_Y_MASK
+    ld [hl], a
+    jr UpdateLevelSelectDisplay
+
+; =============================================================================
+; State0F_LevelSelect
+; =============================================================================
+; Description: Menu de sélection de niveau. Gère l'input joypad (Start/Select/A),
+;              met à jour l'affichage des sprites menu (monde-niveau), et lance
+;              le mode attract si aucune action après timeout.
+; In:  hJoypadDelta = état boutons (edge detect)
+;      hLevelIndex = index niveau courant
+;      hAnimTileIndex = index tile animation (format $XY: X=monde, Y=niveau)
+;      wAttractModeTimer = timer avant mode attract
+; Out: hGameState = GAME_STATE_LEVEL_START ($11) si niveau lancé
+;      hRenderContext = contexte de rendu mis à jour
+; Modifie: a, b, c, de, hl
+; =============================================================================
+State0F_LevelSelect::
+    ldh a, [hJoypadDelta]        ; Joypad state (edge detect)
+    ld b, a
+    bit 3, b                     ; Start pressé ?
+    jr nz, StartSelectedLevel
+
+    bit 2, b                     ; Select pressé ?
+    jr nz, HandleSelectButtonLevelSelect
+
+; =============================================================================
+; UpdateLevelSelectDisplay
+; =============================================================================
+; Description: Met à jour l'affichage des sprites du menu de sélection de niveau
+;              (monde-niveau). Gère l'animation si bouton A pressé et niveau >= seuil.
+; In:  b = état joypad (bit 0 = bouton A)
+;      hLevelIndex = index du niveau courant
+;      hAnimTileIndex = index tile animation ($XY: X=monde, Y=niveau)
+;      hRenderContext = contexte de rendu actuel
+; Out: wOamSprite2 à wOamSprite4 = sprites menu configurés (monde, niveau, sélecteur)
+;      hAnimTileIndex, hRenderContext = incrémentés si bouton A (avec wrap-around)
+; Modifie: a, b, c, hl
+; =============================================================================
+UpdateLevelSelectDisplay:
+    ldh a, [hLevelIndex]
+    cp LEVEL_THRESHOLD_SPRITES
+    jr c, InitAttractModeDisplay
+
+    bit 0, b
+    jr z, AnimRenderContextReady
+
+    ldh a, [hAnimTileIndex]
+    inc a
+    ld b, a
+    and NIBBLE_LOW_MASK              ; Isoler le niveau (bits bas)
+    cp ANIM_TILE_LEVELS_PER_WORLD    ; Niveau 4 atteint ?
+    ld a, b
+    jr nz, SkipAnimTileAdd
+
+    add ANIM_TILE_WORLD_OFFSET       ; Passer au monde suivant niveau 1
+
+SkipAnimTileAdd:
+    ldh [hAnimTileIndex], a
+    ldh a, [hRenderContext]
+    inc a
+    cp RENDER_CONTEXT_MAX
+    jr nz, AnimRenderContextUpdateDone
+
+    ld a, INIT_ANIM_TILE_IDX
+    ldh [hAnimTileIndex], a
+    xor a
+
+AnimRenderContextUpdateDone:
+    ldh [hRenderContext], a
+
+AnimRenderContextReady:
+    ld hl, wOamSprite2
+    ldh a, [hAnimTileIndex]
+    ld b, SPRITE_Y_MENU
+    ld c, a
+    and NIBBLE_HIGH_MASK     ; Isoler le monde (bits hauts)
+    swap a
+    ld [hl], b               ; Sprite 0: Y = SPRITE_Y_MENU
+    inc l
+    ld [hl], SPRITE_X_LEFT   ; Sprite 0: X = gauche
+    inc l
+    ld [hl+], a
+    inc l
+    ld a, c
+    and NIBBLE_LOW_MASK      ; Isoler le niveau (bits bas)
+    ld [hl], b               ; Sprite 1: Y = SPRITE_Y_MENU
+    inc l
+    ld [hl], SPRITE_X_RIGHT  ; Sprite 1: X = droite
+    inc l
+    ld [hl+], a
+    inc l
+    ld [hl], b               ; Sprite 2: Y = SPRITE_Y_MENU
+    inc l
+    ld [hl], SPRITE_X_CENTER ; Sprite 2: X = centre
+    inc l
+    ld [hl], TILE_LEVEL_SELECT
+
+; =============================================================================
+; InitAttractModeDisplay
+; =============================================================================
+; Description: Point d'entrée fall-through qui initialise le mode attract si le
+;              timer attract est à 0. Charge les paramètres depuis la table ROM
+;              indexée par bank et lance l'état LEVEL_START avec mode attract.
+; In:  wAttractModeTimer = timer attract mode (0 = lancer attract)
+;      wCurrentROMBank = bank ROM courante (index dans la table)
+; Out: Si timer = 0:
+;        hAnimTileIndex, hRenderContext = chargés depuis ROM_ATTRACT_INDEX_TABLE
+;        wAttractModeTimer = ATTRACT_MODE_LONG ($50)
+;        hGameState = GAME_STATE_LEVEL_START ($11)
+;        hLevelIndex = 0
+; Modifie: a, de, hl
+; =============================================================================
+InitAttractModeDisplay:
+    ld a, [wAttractModeTimer]
+
+InitAttractModeDisplay_CheckTimer:
+    and a
+    ret nz
+
+    ld a, [wCurrentROMBank]
+    sla a
+    ld e, a
+    ld d, $00
+    ld hl, ROM_ATTRACT_INDEX_TABLE
+    add hl, de
+    ld a, [hl+]
+    ldh [hAnimTileIndex], a
+    ld a, [hl]
+    ldh [hRenderContext], a
+
+; InitLevelStartWithAttractMode
+; ------------------------------
+; Description: Démarre un niveau avec le mode attract activé (démo auto)
+; In:  (aucun)
+; Out: (aucun)
+; Modifie: a
+InitLevelStartWithAttractMode:
+    ld a, ATTRACT_MODE_LONG
+    ld [wAttractModeTimer], a
+    ld a, GAME_STATE_LEVEL_START
+    ldh [hGameState], a
+    xor a
+    ldh [hLevelIndex], a
+    ret
+
+
+; InitLevelStartFull
+; ------------------
+; Description: Initialisation complète pour démarrer un niveau (état $11)
+;              Reset des flags système, config interruptions et état de rendu
+; In:  Aucun
+; Out: Aucun
+; Modifie: a
+InitLevelStartFull:
+    ld a, GAME_STATE_LEVEL_START
+    ldh [hGameState], a          ; Passe en état $11 (Level Start)
+    xor a
+    ldh [rIF], a                 ; Clear interrupt flags
+    ldh [hUpdateLockFlag], a     ; Déverrouille les mises à jour
+    ld [wROMBankInit], a         ; Reset bank init à 0
+    dec a                        ; a = $FF
+    ld [wStateRender], a         ; Force re-render complet
+    ld a, IE_VBLANK_STAT_TIMER
+    ldh [rIE], a                 ; Active interruptions VBlank+STAT+Timer
+    ret
+
+; ROM_ATTRACT_INDEX_TABLE
+; -----------------------
+; Description: Table des paramètres d'attract mode par ROM bank
+;              Chaque entrée contient 2 octets:
+;              - Octet 1: hAnimTileIndex (index tile animation)
+;              - Octet 2: hRenderContext (contexte de rendu)
+; Format: db AnimTileIndex, RenderContext (par bank 0-2)
+ROM_ATTRACT_INDEX_TABLE:
+    db $11, $00  ; Bank 0: AnimTileIndex=$11, RenderContext=$00
+    db $12, $01  ; Bank 1: AnimTileIndex=$12, RenderContext=$01
+    db $33, $08  ; Bank 2: AnimTileIndex=$33, RenderContext=$08
+
+; FillTilemapRow
+; --------------
+; Description: Remplit une ligne de tilemap avec la tile spécifiée
+; In:  a = tile à écrire, hl = adresse de début dans la tilemap
+; Out: hl = adresse après la ligne (HL + 20)
+; Modifie: b
+FillTilemapRow:
+    ld b, TILEMAP_ROW_WIDTH
+
+.fillTilemapLoop:
+    ld [hl+], a
+    dec b
+    jr nz, .fillTilemapLoop
+
+    ret
+
+; ===========================================================================
+; State11_LevelStart
+; ------------------
+; Description: Initialise le démarrage d'un niveau (reset score, config LCD/timers, init display)
+; In:  Aucun
+; Out: Aucun
+; Modifie: a, bc, de, hl, flags
+;
+; Étapes:
+; 1. Désactive LCD et interruptions
+; 2. Reset score (si pas verrouillé par hUpdateLockFlag)
+; 3. Charge les tiles du jeu et efface les tilemaps
+; 4. Configure le HUD, les timers hardware (LYC=$0F, TAC=16kHz), et la fenêtre
+; 5. Initialise les données niveau, l'audio, les animations
+; 6. Affiche les vies et pièces
+; 7. Fall-through vers State10_Noop (retourne immédiatement)
+; ===========================================================================
+State11_LevelStart::
+    xor a
+    ldh [rLCDC], a               ; LCD off
+    di
+    JumpIfLocked .skipScoreReset
+
+    ; Reset score si pas verrouillé
+    xor a
+    ld [wScoreBCDHigh], a
+    ld [wScoreBCDMid], a
+    ld [wScoreBCD], a
+    ldh [hCoinCount], a
+
+.skipScoreReset:
+    call LoadGameTiles
+    call ClearBGTilemap
+    ld hl, _SCRN1
+    ld b, SCRN1_CLEAR_SIZE
+    ld a, TILE_EMPTY
+
+.clearTilemapLoop:
+    ld [hl+], a
+    dec b
+    jr nz, .clearTilemapLoop
+
+    call CopyHudTilemap
+    ld a, LYC_TOP_SCREEN
+    ldh [rLYC], a
+    ld a, TAC_ENABLED_16KHZ
+    ldh [rTAC], a
+    ld hl, rWY              ; Window Y position
+    ld [hl], WY_INIT_GAME
+    inc l
+    ld [hl], WX_INIT_GAME
+    xor a
+    ldh [rTMA], a
+    ldh [rIF], a
+    dec a
+    ldh [hTimer2], a
+    ldh [hScoreNeedsUpdate], a
+    ld a, SCROLL_COLUMN_INIT
+    ldh [hScrollColumn], a
+    call InitAudioAndAnimContext
+    call InitLevelData
+    call UpdateCoinDisplay
+    call DisplayLivesCount
+    ldh a, [hAnimTileIndex]
+    call LoadAnimTilesByIndex
+; ===========================================================================
+; State10_Noop
+; ------------
+; Description: État vide (placeholder) - Retourne immédiatement sans action
+; In:  Aucun
+; Out: Aucun
+; Modifie: Aucun
+; ===========================================================================
+State10_Noop::
+    ret
+
+
+; ===========================================================================
+; ClearBGTilemap
+; ----------------
+; Description: Efface toute la tilemap background en la remplissant avec le tile vide
+; In:  Aucun
+; Out: Aucun (_SCRN0 rempli avec TILE_EMPTY)
+; Modifie: a, bc, hl
+; ===========================================================================
+ClearBGTilemap::
+    ld hl, _SCRN0 + SCRN_SIZE_MINUS_1 ; Fin de _SCRN0 ($9BFF)
+    ld bc, SCRN_SIZE            ; 1024 octets (32×32 tiles)
+    ; Fall through vers FillTilemapLoop
+
+; FillTilemapLoop
+; ----------------
+; Description: Remplit une zone mémoire avec le tile vide en décrémentant
+; In:  hl = adresse de fin (inclusif), bc = nombre d'octets
+; Out: Aucun (zone remplie avec TILE_EMPTY)
+; Modifie: a, bc, hl
+; ===========================================================================
+FillTilemapLoop::
+.loop:
+    ld a, TILE_EMPTY
+    ld [hl-], a
+    dec bc
+    ld a, b
+    or c
+    jr nz, .loop
+
+    ret
+
+
+; MemCopy
+; --------
+; Description: Copie un bloc mémoire de BC octets de source vers destination
+; In:  HL = pointeur source, DE = pointeur destination, BC = nombre d'octets
+; Out: HL et DE avancés de BC octets, BC = 0
+; Modifie: a, bc, de, hl
+MemCopy::
+.loop:
+    ld a, [hl+]
+    ld [de], a
+    inc de
+    dec bc
+    ld a, b
+    or c
+    jr nz, .loop
+
+    ret
+
+
+; LoadGameTiles
+; -------------
+; Description: Charge les tiles du jeu en VRAM et copie le buffer d'animation
+; In:  (aucun)
+; Out: (aucun)
+; Modifie: a, bc, de, hl
+LoadGameTiles:
+    ld hl, ROM_GAME_TILES_A
+    ld de, VRAM_TILES_OBJECTS
+    ld bc, SIZE_GAME_TILES_A
+    call MemCopy
+    ld hl, ROM_GAME_TILES_B
+    ld de, VRAM_TILES_SPRITES
+    ld bc, SIZE_GAME_TILES_B
+    call MemCopy
+    ld hl, ROM_ANIM_BUFFER
+    ld de, wAnimBuffer
+    ld b, ANIM_BUFFER_COPY_SIZE
+
+LoadGameTiles_TileCopyLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc hl
+    inc de
+    dec b
+    jr nz, LoadGameTiles_TileCopyLoop
+
+    ret
+
+
+; ===========================================================================
+; CopyHudTilemap
+; --------------
+; Description: Copie les 2 lignes du HUD depuis ROM vers la tilemap VRAM
+; In:  Aucun
+; Out: Aucun
+; Modifie: a, b, de, hl
+; ===========================================================================
+CopyHudTilemap:
+    ld hl, ROM_HUD_TILEMAP
+    ld de, VRAM_BG_BASE
+    ld b, HUD_LINE_COUNT
+
+.copyHudTilemapLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, e
+    and TILEMAP_COLUMN_MASK      ; Wrap colonne (0-31)
+    cp TILEMAP_ROW_WIDTH
+    jr nz, .copyHudTilemapLoop
+
+    ld e, TILEMAP_STRIDE
+    dec b
+    jr nz, .copyHudTilemapLoop
+
+    ret
+
+
+;; ==========================================================================
+;; State00_MainGameplay - Handler d'état $00 ($0610)
+;; ==========================================================================
+;; Description: Handler principal du gameplay actif. Orchestre les mises à jour
+;;              par frame : animations, scroll, collisions, objets, audio.
+;;              Switch entre banks 3 et 2 pour appeler les routines spécialisées.
+;; In:  rien (lit hGameState implicitement = $00)
+;; Out: rien (met à jour l'état complet du jeu via appels multiples)
+;; Modifie: a, bc, de, hl (via tous les appels), hCurrentBank, hSavedBank
+;; Structure :
+;;   1. Init animations et graphiques (UpdateScroll, UpdateAnimatedObjectState)
+;;   2. Appels multiples vers bank 3 (init objets wObject1-wObject5)
+;;   3. Appels vers bank 2 (UpdateGameTimersAndAnimation)
+;;   4. Mise à jour diverses (collisions, animations, audio)
+;;   5. Gestion wLevelConfig (décrément si != 0)
+;; ==========================================================================
+State00_MainGameplay::
+    call UpdateScroll
+    call UpdateAnimatedObjectState
+
+    ; Switch vers bank 3 pour initialisation objets
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_AUDIO              ; Bank 3 (aussi utilisé pour objets)
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+    ; Vérifier état des objets
+    call CheckObjectState
+
+    ; Init 5 buffers objets (wObject1-wObject5)
+    ; Chaque buffer = 16 bytes, données depuis ROM_OBJECT_INIT_DATA
+    ld bc, wObject1
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject2
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject3
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject4
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject5
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+
+    ; Autres routines bank 3
+    call CheckUnlockState
+    call ProcessGameStateInput
+    call InitRenderLoop
+    call CheckBlockCollision
+    call CheckPlayerBounds
+    call CheckTimerAux1
+    call CheckTimerAux2
+
+    ; Restaurer bank
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+    ; Mises à jour locales
+    call ProcessAllObjectCollisions
+    call UpdateAudio
+
+    ; Switch vers bank 2
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_DEMO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call UpdateGameTimersAndAnimation
+
+    ; Restaurer bank
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+    ; Mises à jour finales
+    call CheckPlayerFeetCollision
+    call UpdatePipeAnimation
+    call CheckPlayerHeadCollision
+    call CheckPlayerObjectCollision
+    call HandleObjectAnimationOnBlockHit
+    call UpdatePlayerInvulnBlink
+
+    ; Gestion compteur niveau
+    ld hl, wLevelConfig
+    ld a, [hl]
+    and a
+    ret z                         ; Si 0, fin
+
+    dec [hl]                      ; Sinon décrémente
+    call LoadDemoInput
+    ret
+
+
+;; ==========================================================================
+;; State01_WaitClearObjects - Handler d'état $01 ($06A5)
+;; ==========================================================================
+;; Description: Attente puis reset des objets avant transition vers état $02.
+;;              Attend que hTimer1 atteigne 0, puis clear 10 slots d'objets
+;;              (marque comme inactifs avec $FF), reset timers auxiliaires,
+;;              et transition vers GAME_STATE_PREPARE_RENDER.
+;; In:  hTimer1 = timer d'attente
+;; Out: hGameState = GAME_STATE_PREPARE_RENDER ($02)
+;;      wObjectBuffer = 10 slots marqués SLOT_EMPTY ($FF)
+;;      hTimerAux = 0
+;;      wUpdateCounter = $FF
+;; Modifie: a, b, de, hl
+;; ==========================================================================
+State01_WaitClearObjects::
+    ; Attendre que le timer soit à 0
+    ld hl, hTimer1
+    ld a, [hl]
+    and a
+    ret nz                        ; Pas encore → attendre
+
+    ; Clear 10 entrées de wObjectBuffer (16 bytes chacune)
+    ; Mettre $FF dans le premier byte de chaque entrée = objet inactif
+    ld hl, wObjectBuffer
+    ld de, OBJECT_SLOT_SIZE       ; Stride = 16 bytes
+    ld b, OBJECT_BUFFER_COUNT     ; 10 objets
+
+.clearLoop:
+    ld [hl], SLOT_EMPTY           ; Marquer comme inactif
+    add hl, de                    ; Passer à l'entrée suivante
+    dec b
+    jr nz, .clearLoop
+
+    ; Reset des timers
+    xor a
+    ldh [hTimerAux], a            ; Timer aux = 0
+    dec a                         ; A = $FF
+    ld [wUpdateCounter], a        ; Update counter = $FF
+
+    ; Transition vers état $02
+    ld a, GAME_STATE_PREPARE_RENDER
+    ldh [hGameState], a
+    ret
+
+
+;; ==========================================================================
+;; State02_PrepareRender - Handler d'état $02 ($06C5)
+;; ==========================================================================
+;; State02_PrepareRender
+;; ---------------------
+;; Description: Désactive LCD, nettoie les buffers écran/sprites, charge le
+;;              style du niveau selon le monde actuel, initialise les variables
+;;              de jeu et configure le mode gameplay/special selon le contexte.
+;; In:  hVBlankMode = flag mode VBlank (0=normal, autre=mode spécial)
+;;      hRenderMode = mode rendu alternatif (si VBlank ≠ 0)
+;;      hTilemapScrollX = scroll X tilemap pour détecter style niveau
+;;      hAnimTileIndex = index tile animation (contient monde+niveau en BCD)
+;;      hRenderContext = contexte rendu (RENDER_CONTEXT_GAMEPLAY/SPECIAL)
+;; Out: hGameState = GAME_STATE_MAIN ($00) ou GAME_STATE_GAMEPLAY selon contexte
+;;      LCD éteint puis rallumé avec LCDC_GAME_STANDARD
+;;      Niveau chargé, tilemap initialisé, variables de jeu réinitialisées
+;; Modifie: af, bc, de, hl, tous les buffers OAM/tilemap/scroll
+;; ==========================================================================
+State02_PrepareRender::
+    di
+    ld a, LCDCF_OFF
+    ldh [rLCDC], a
+    call ClearOamAndSpriteBuffers
+    call ClearTilemapBuffer
+    ld hl, hTilemapScrollX
+    ldh a, [hVBlankMode]
+    and a
+    jr z, LoadLevelStyleFromHL
+
+    xor a
+    ldh [hVBlankMode], a
+    ldh a, [hRenderMode]
+    inc a
+    jr StyleLevelCheck
+
+LoadLevelStyleFromHL:
+    ld a, [hl]
+
+StyleLevelCheck:
+    cp LEVEL_STYLE_SPECIAL          ; Style $03 (non décrémenté)
+    jr z, StyleLevelAdjusted
+
+    dec a
+
+StyleLevelAdjusted:
+    ld bc, ROM_STYLE_LVL_0
+    cp LEVEL_GROUP_7_START
+    jr c, ApplyLevelStyleConfig
+
+    ld bc, ROM_STYLE_LVL_7
+    cp LEVEL_GROUP_11_START
+    jr c, ApplyLevelStyleConfig
+
+    ld bc, ROM_STYLE_LVL_11
+    cp LEVEL_GROUP_15_START
+    jr c, ApplyLevelStyleConfig
+
+    ld bc, ROM_STYLE_LVL_15
+    cp LEVEL_GROUP_19_START
+    jr c, ApplyLevelStyleConfig
+
+    ld bc, ROM_STYLE_LVL_19
+    cp LEVEL_GROUP_23_START
+    jr c, ApplyLevelStyleConfig
+
+    ld bc, ROM_STYLE_LVL_23
+
+ApplyLevelStyleConfig:
+    ld [hl], b
+    inc l
+    ld [hl], PLAYER_STATE_CLEAR     ; Clear second byte style
+    ld a, c
+    ld [wPlayerVarAB], a
+    call LoadLevelData
+    ld hl, VRAM_WORLD_NUMBER
+    ld [hl], TILE_EMPTY
+    inc l
+    ldh a, [hAnimTileIndex]
+    ld b, a
+    and NIBBLE_HIGH_MASK         ; Isoler monde (bits hauts)
+    swap a
+    ld [hl+], a
+    ld a, b
+    and NIBBLE_LOW_MASK          ; Isoler niveau (bits bas)
+    inc l
+    ld [hl], a
+    ld hl, _SCRN1
+    ld de, ROM_TILEMAP_INIT
+    ld b, TILEMAP_INIT_SIZE
+
+.copyTilemapInitLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    dec b
+    jr nz, .copyTilemapInitLoop
+
+    xor a
+    ldh [hGameState], a
+    ld [wPlayerInvuln], a
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a
+    call RenderPlayerUpdate
+    xor a
+    ldh [rIF], a
+    ldh [hShadowSCX], a
+    ld [wCollisionFlag], a
+    ldh [hBlockHitType], a
+    ld [wSpecialState], a
+    ldh [rTMA], a
+    ld hl, wLevelBCD1
+    ld [hl+], a
+    ld [hl], LEVEL_BCD2_INIT
+    ld a, LEVEL_DATA_INIT
+    ld [wLevelData], a
+    ld a, SCROLL_COLUMN_INIT
+    ldh [hScrollColumn], a
+    ldh a, [hRenderContext]
+    ld c, PLAYER_MODE_GAMEPLAY
+    cp RENDER_CONTEXT_GAMEPLAY
+    jr z, EnterGameplayState
+
+    ld c, PLAYER_MODE_SPECIAL
+    cp RENDER_CONTEXT_SPECIAL
+    jr nz, ContinueAfterStateSetup
+
+EnterGameplayState:
+    ld a, GAME_STATE_GAMEPLAY
+    ldh [hGameState], a
+    ld a, [wPlayerDir]
+    and NIBBLE_HIGH_MASK         ; Garder bits hauts direction
+    or c
+    ld [wPlayerDir], a
+
+ContinueAfterStateSetup:
+    call FindAudioTableEntry
+    ei
+    ret
+
+;; ==========================================================================
+;; Padding/Data zone ($0783-$078B)
+;; ==========================================================================
+    db $2c, $84, $19, $0a, $1e, $1c, $0e, $84, $2c
+
+;; ==========================================================================
+;; RenderPlayerUpdate ($078C)
+;; ==========================================================================
+;; Description: Met à jour l'état de rendu du joueur selon le contexte actuel
+;; In:  hRenderContext = index dans la table de rendu
+;;      hRenderCounter = compteur (0 = normal, ≠0 = mode spécial)
+;;      wPlayerInvuln = flag d'invulnérabilité
+;; Out: wStateRender = nouvel état de rendu
+;; Modifie: a, de, hl
+;; ==========================================================================
+RenderPlayerUpdate:
+    ; Si joueur invulnérable, ne pas mettre à jour le rendu
+    ld a, [wPlayerInvuln]
+    and a
+    ret nz
+
+    ; Initialiser la bank audio (bank 3)
+    ld a, BANK_AUDIO
+    ld [rROMB0], a
+    call ROM_INIT_BANK3
+    ; Restaurer la bank courante
+    ldh a, [hCurrentBank]
+    ld [rROMB0], a
+
+    ; Vérifier le compteur de rendu
+    ldh a, [hRenderCounter]
+    and a
+    jr nz, SetStateRenderEnd
+
+    ; Mode normal: chercher l'état de rendu dans la table
+    ldh a, [hRenderContext]
+    ld hl, RenderContextTable
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld a, [hl]
+    ld [wStateRender], a
+    ret
+
+SetStateRenderEnd:
+    ; Mode spécial: forcer l'état de rendu de fin
+    ld a, STATE_RENDER_SPECIAL
+    ld [wStateRender], a
+    ret
+
+;; ==========================================================================
+;; RenderContextTable ($07B7) - Table de contexte de rendu
+;; ==========================================================================
+;; Description: Table indexée par hRenderContext pour déterminer l'état de
+;;              rendu du joueur (wStateRender). Chaque octet correspond à un
+;;              contexte de rendu différent (marche, attaque, saut, etc.)
+;; In:  Utilisé avec hRenderContext comme index (0-11, soit 12 entrées)
+;; Out: Valeur d'état de rendu à stocker dans wStateRender
+;; Taille: 12 octets (index 0 à RENDER_CONTEXT_MAX-1)
+;; ==========================================================================
+RenderContextTable:
+    db $07, $07, $03, $08, $08, $05, $07, $03, $03, $06, $06, $05
+
+;; ==========================================================================
+;; CheckInputAndPause
+;; ==========================================================================
+;; Description : Vérifie input pour soft reset ou toggle pause
+;;   - Si toutes directions D-pad pressées → SOFT RESET (jp SystemInit)
+;;   - Si Start pressé (edge detect) et pas en démo → Toggle pause
+;; In  : hJoypadState = état joypad (directions)
+;;       hJoypadDelta = changements joypad (edge detect)
+;;       hGameState = état du jeu courant
+;; Out : hPauseFlag = toggle si pause activée/désactivée
+;;       rLCDC bit 5 = Window enable/disable selon état pause
+;; Modifie : A, HL
+;; ==========================================================================
+CheckInputAndPause:
+    ; --- CheckSoftReset ---
+    ; Si D-pad = $0F (toutes directions), c'est la combo reset
+    ldh a, [hJoypadState]          ; Lire joypad (directions)
+    and JOYPAD_DPAD_MASK           ; Masquer les 4 bits bas
+    cp JOYPAD_ALL_DPAD             ; Toutes les directions ?
+    jr nz, CheckStartButtonForPause      ; Non → vérifier pause
+
+    jp SystemInit        ; OUI → SOFT RESET !
+
+; --- CheckStartPressed ---
+CheckStartButtonForPause:
+    ldh a, [hJoypadDelta]          ; Lire joypad (boutons, edge detect)
+    bit 3, a                ; Start pressé (nouveau) ?
+    ret z                   ; Non → return
+
+    ; --- CheckCanPause ---
+    ldh a, [hGameState]          ; Lire game_state
+    cp GAME_STATE_DEMO      ; État >= $0E (démo) ?
+    ret nc                  ; Oui → ne peut pas pauser
+
+    ; --- TogglePause ---
+    ld hl, rLCDC
+    ldh a, [hPauseFlag]          ; Lire flag pause
+    xor BIT_0_MASK          ; Toggle (0↔1)
+    ldh [hPauseFlag], a          ; Sauvegarder
+    jr z, ExitPause       ; Si maintenant 0 → unpause
+
+    ; --- EnterPause ---
+    set 5, [hl]             ; Activer Window (afficher "PAUSE")
+    ld a, PAUSE_ENTER
+
+SaveAudioStatePause:
+    ldh [hSavedAudio], a          ; Sauvegarder état audio ?
+    ret
+
+; --- ExitPause ---
+ExitPause:
+    res 5, [hl]             ; Désactiver Window
+    ld a, PAUSE_EXIT
+    jr SaveAudioStatePause
+
+; LoadLevelData
+; ----------------
+; Description: Initialise le niveau en copiant les données ROM vers WRAM et en configurant le scroll
+; In:  -
+; Out: -
+; Modifie: af, bc, de, hl
+LoadLevelData:
+    ld hl, ROM_LEVEL_INIT_DATA
+    ld de, wPlayerY
+    ld b, LEVEL_INIT_DATA_SIZE
+
+.loadLevelDataLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc de
+    dec b
+    jr nz, .loadLevelDataLoop
+
+    ldh a, [hTimerAux]
+    and a
+    jr z, InitScrollState
+
+    ld a, PLAYER_DIR_RIGHT          ; Direction droite
+    ld [wPlayerDir], a
+
+; InitScrollState
+; ----------------
+; Description: Réinitialise les variables de scroll et remplit le buffer de tilemap
+; In:  -
+; Out: -
+; Modifie: af, bc, de, hl
+InitScrollState:
+    ld hl, hTilemapScrollY
+    xor a
+    ld b, SCROLL_VAR_COUNT          ; 6 variables scroll
+
+.clearScrollLoop:
+    ld [hl+], a
+    dec b
+    jr nz, .clearScrollLoop
+
+    ldh [hTemp3], a
+    ld [wGameVarAA], a
+    ld a, SCROLL_COLUMN_DEFAULT     ; 64 tiles par défaut
+    ldh [hScrollColumn], a
+    ld b, TILEMAP_VISIBLE_COLS      ; 20 colonnes visibles
+    ldh a, [hGameState]
+    cp GAME_STATE_PIPE_LOAD         ; État $0A (chargement sous-niveau)
+    jr z, .initScrollColumnsLoop
+
+    ldh a, [hRenderContext]
+    cp RENDER_CONTEXT_MAX           ; Contexte $0C (wrap-around)
+    jr z, .initScrollColumnsLoop
+
+    ld b, TILEMAP_BUFFER_COLS       ; 27 colonnes avec buffer
+
+.initScrollColumnsLoop:
+    push bc
+    call InitScrollBuffer
+    call UpdateScrollColumn
+    pop bc
+    dec b
+    jr nz, .initScrollColumnsLoop
+
+    ret
+
+
+; UpdateAnimatedObjectState
+; -------------------------
+; Description: Met à jour l'état des objets animés, gère la détection de collision
+;              avec le joueur et déclenche les interactions (coins, ennemis, objets spéciaux)
+; In:  hAnimObjCount = nombre d'objets animés restants à traiter
+;      wAudioBuffer = buffer des objets actifs (10 slots)
+; Out: Interactions traitées (ramassage pièces, dégâts, animations)
+; Modifie: a, bc, de, hl, divers flags HRAM (hOAMIndex, hAnimObjCount, etc.)
+UpdateAnimatedObjectState::
+    ldh a, [hAnimObjCount]
+    and a
+    jr z, SkipAnimObjectLoop
+
+DecAnimObjCount:
+    dec a
+    ldh [hAnimObjCount], a
+
+SkipAnimObjectLoop:
+    ld de, hCurrentTile
+    ld b, OBJECT_BUFFER_COUNT     ; 10 slots à scanner
+    ld hl, wAudioBuffer
+
+ScanObjectLoop:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr nz, ProcessAudioSlot
+
+NextAudioSlotCheck:
+    add hl, de
+    dec b
+    jr nz, ScanObjectLoop
+
+    ret
+
+
+ProcessAudioSlot:
+    ldh [hOAMIndex], a
+    ld a, l
+    ldh [hOAMAddrLow], a
+    push bc
+    push hl
+    ld bc, OBJ_FIELD_STATE_OFFSET
+    add hl, bc
+    ld c, [hl]
+    inc l
+    inc l
+    ld a, [hl]
+    ldh [hAnimObjSubState], a
+    ld a, [wPlayerX]
+    ld b, a
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE          ; Mode pipe/transition
+    jr nz, AdjustPlayerXForCollision
+
+    ld a, [wPlayerDir]
+    cp PLAYER_DIR_LEFT
+    jr z, AdjustPlayerXForCollision
+
+    ld a, COLLISION_ADJUST_NEG      ; -2 (ajustement collision droite)
+    add b
+    ld b, a
+
+AdjustPlayerXForCollision:
+    ld a, b
+
+CheckPlayerCollisionWithObject:
+    ldh [hTemp0], a
+    ld a, [wPlayerX]
+    add COLLISION_OFFSET_6      ; +6 pixels pour centrage hitbox
+    ldh [hTemp1], a
+    ld a, [wPlayerState]
+    ld b, a
+    sub COLLISION_MARGIN_3      ; -3 pixels marge haute
+    ldh [hTemp2], a
+    ld a, COLLISION_ADJUST_POS  ; +2 pixels
+    add b
+    ldh [hParam3], a
+    pop hl
+    push hl
+    call CheckBoundingBoxCollision
+    and a
+    jp z, NoCollisionReturn
+
+    ldh a, [hOAMAddrLow]
+    cp OAM_ADDR_LOW_PLAYER
+    jp z, UpdateAnimatedObjectState_ObjectHitDispatch
+
+    ldh a, [hOAMIndex]
+    cp OAM_INDEX_COIN
+    jp z, UpdateAnimatedObjectState_CoinProceed
+
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY
+    jr z, SkipInvulnCheck
+
+    ld a, [wPlayerInvuln]
+    and a
+    jr z, ProcessPlayerInteraction
+
+SkipInvulnCheck:
+    dec l
+    jp PlayerDamageCheckEntry
+
+
+ProcessPlayerInteraction:
+    ld a, [wPlayerState]
+    add COLLISION_OFFSET_6      ; +6 pixels bas hitbox
+    ld c, [hl]
+    dec l
+    sub c
+    jr c, PlayerInteractionCheckDamage
+
+    ld a, [wPlayerState]
+    sub COLLISION_OFFSET_6      ; -6 pixels haut hitbox
+    sub b
+    jr nc, PlayerInteractionCheckDamage
+
+    ld b, [hl]
+    dec b
+    dec b
+    dec b
+    ld a, [wPlayerX]
+    sub b
+    jr nc, PlayerInteractionCheckDamage
+
+    dec l
+    dec l
+    push hl
+    ld bc, OBJ_FIELD_STATE_OFFSET
+    add hl, bc
+    bit 7, [hl]
+    pop hl
+    jr nz, PlayerInteractionDone
+
+    call SelectAnimationBank
+    call GetAnimationDataPointer
+    and a
+    jr z, PlayerInteractionDone
+
+    ld hl, wPlayerUnk0A
+    ld [hl], PLAYER_STATE_CLEAR     ; Reset état
+    dec l
+    dec l
+    ld [hl], PLAYER_ANIM_DEFAULT    ; Frame animation 13
+    dec l
+    ld [hl], PLAYER_FLAG_ACTIVE     ; Flag actif
+    ld hl, wPlayerDir
+    ld a, [hl]
+    and PLAYER_DIR_HIGH_MASK        ; Masque bits hauts
+    or PLAYER_DIR_MODE_INTERACT     ; Mode interaction
+    ld [hl], a
+
+SetupAnimationBuffer:
+    ld a, STATE_BUFFER_ANIM         ; Buffer animation
+    ld [wStateBuffer], a
+    ld a, [wPlayerState]
+    add PLAYER_ANIM_OFFSET          ; -4 offset
+    ldh [hPtrLow], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_OFFSET             ; -16 pixels
+    ldh [hPtrHigh], a
+    ldh a, [hAnimStructBank]
+    ldh [hPtrBank], a
+    ldh a, [hAnimObjCount]
+    and a
+    jr z, ResetAnimScale
+
+    ldh a, [hAnimScaleCounter]
+    cp ANIM_SCALE_MAX               ; Max 3 frames
+    jr z, PlayerAnimScaleEntry
+
+    inc a
+    ldh [hAnimScaleCounter], a
+
+PlayerAnimScaleEntry:
+    ld b, a
+    ldh a, [hPtrBank]
+    cp ANIM_BANK_SPECIAL            ; Bank spéciale
+    jr z, ResetAnimScale
+
+PlayerAnimScaleLoop:
+    sla a
+    dec b
+    jr nz, PlayerAnimScaleLoop
+
+    ldh [hPtrBank], a
+
+AnimObjCountSet:
+    ld a, ANIM_OBJ_COUNT_VALUE      ; 50 objets
+    ldh [hAnimObjCount], a
+    jr PlayerInteractionDone
+
+ResetAnimScale:
+    xor a
+    ldh [hAnimScaleCounter], a
+    jr AnimObjCountSet
+
+PlayerDamageCheckEntry:
+PlayerInteractionCheckDamage:
+    dec l
+    dec l
+    ld a, [wPlayerInvuln]
+    and a
+    jr nz, LoadAudioAndSetupAnim
+
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_DAMAGE_MAX         ; Seuil dégâts
+    jr nc, PlayerInteractionDone
+
+    call TriggerObjectSound
+    and a
+    jr z, PlayerInteractionDone
+
+    ldh a, [hTimerAux]
+    and a
+    jr nz, StartGameplayPhaseJump
+
+    call InitGameState
+
+PlayerInteractionDone:
+    pop hl
+    pop bc
+    ret
+
+
+NoCollisionReturn:
+    pop hl
+    pop bc
+    jp NextAudioSlotCheck
+
+
+StartGameplayPhaseJump:
+    call StartGameplayPhase
+    jr PlayerInteractionDone
+
+LoadAudioAndSetupAnim:
+    call LoadAudioSlotConfiguration
+    and a
+    jr z, PlayerInteractionDone
+
+    jr SetupAnimationBuffer
+
+UpdateAnimatedObjectState_ObjectHitDispatch:
+    ldh a, [hOAMIndex]
+    cp OBJ_TYPE_COIN
+    jr z, ObjectInteraction_CoinHit
+
+    cp OBJ_TYPE_ENEMY
+    jr z, ObjectInteraction_EnemyHit
+
+    cp OBJ_TYPE_SPECIAL
+    jr z, ObjectInteraction_SpecialHit
+
+    cp OBJ_TYPE_DOOR
+    jr nz, PlayerInteractionDone
+
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE          ; Mode pipe/transition
+    jr nz, ObjectInteraction_SetupTimer
+
+    ldh [hSubState], a
+
+ObjectInteraction_SetupStateBuffer:
+    ld a, STATE_BUFFER_OBJECT       ; Buffer objet
+    ld [wStateBuffer], a
+
+ObjectInteraction_SetupAnimBank:
+    ld a, ANIM_BANK_OBJECT          ; Bank objets
+    ldh [hPtrBank], a
+
+ObjectInteraction_CalcAnimPtr:
+    ld a, [wPlayerState]
+    add PLAYER_ANIM_OFFSET          ; -4 offset
+    ldh [hPtrLow], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_OFFSET             ; -16 pixels
+    ldh [hPtrHigh], a
+
+ObjectInteraction_MarkSpriteHandled:
+    dec l
+    dec l
+    dec l
+    ld [hl], SLOT_EMPTY             ; Marquer slot vide
+    jr PlayerInteractionDone
+
+ObjectInteraction_CoinHit:
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE          ; Mode pipe/transition
+    jr z, ObjectInteraction_SetupAnimBank
+
+ObjectInteraction_SetupTimer:
+    ld a, PLAYER_FLAG_ACTIVE        ; Timer actif
+    ldh [hTimerAux], a
+    ld a, ATTRACT_MODE_LONG         ; 80 frames délai coin
+    ldh [hTimer1], a
+    jr ObjectInteraction_SetupStateBuffer
+
+ObjectInteraction_EnemyHit:
+    ld a, PLAYER_INVULN_TIMER
+    ld [wPlayerInvuln], a
+    ld a, STATE_RENDER_DAMAGE
+    ld [wStateRender], a
+    jr ObjectInteraction_SetupAnimBank
+
+ObjectInteraction_SpecialHit:
+    ld a, BANK_NONE
+    ldh [hPtrBank], a
+    ld a, GAME_STATE_CENTER
+    ld [wStateBuffer], a
+    ld a, FLAG_UPDATE_NEEDED
+    ld [wUpdateCounter], a
+    jr ObjectInteraction_CalcAnimPtr
+
+UpdateAnimatedObjectState_CoinProceed:
+    ldh [hPendingCoin], a
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    jr ObjectInteraction_MarkSpriteHandled
+
+; StartGameplayPhase
+; ------------------
+; Description: Initialise la phase de gameplay après avoir pris des dégâts
+; In:  Aucun
+; Out: Aucun
+; Modifie: a
+StartGameplayPhase:
+    ld a, TIMER_AUX_DAMAGE_MAX
+    ldh [hTimerAux], a           ; Réinitialise timer invulnérabilité
+    xor a
+    ldh [hSubState], a           ; Reset sous-état
+    ld a, TIMER_GAMEPLAY_DELAY
+    ldh [hTimer1], a             ; Configure délai gameplay (80 frames)
+    ld a, GAME_STATE_POST_LEVEL
+    ld [wStateBuffer], a         ; Prépare transition post-niveau
+    ret
+
+
+;; ==========================================================================
+;; InitGameState - Initialise l'état de jeu (appelé quand $DA1D == 3)
+;; ==========================================================================
+;; Appelé par : GameLoop (CheckSpecialState)
+;; Condition  : $D007 == 0 (sinon early return)
+;; Effet      : Configure game_state = $03 et initialise les variables
+;; ==========================================================================
+InitGameState:
+    ; --- Early return si $D007 != 0 ---
+    ld a, [wAudioCondition]
+    and a
+    ret nz
+
+    ; --- SetGameState($03) ---
+    ld a, GAME_STATE_SETUP_TRANSITION
+    ldh [hGameState], a          ; game_state = $03
+
+    ; --- ResetTimerAndVariables ---
+    xor a
+    ldh [hSubState], a          ; Variable = 0
+    ldh [rTMA], a           ; Timer Modulo = 0 (désactive timer)
+
+    ld a, STATE_RENDER_INIT
+    ld [wStateRender], a           ; Variable WRAM = $02
+
+    ; --- InitPlayerState ---
+    ld a, PLAYER_Y_INIT
+    ld [wPlayerY], a           ; Player state = $80
+
+    ld a, [wPlayerX]           ; Lire position/état
+    ld [wLevelVarDD], a           ; Copier vers variable de travail
+    ret
+
+
+; SelectAnimationBank
+; --------------------
+; Description: Sélectionne la bank ROM d'animation selon les bits hauts de hAnimObjSubState
+;              Transforme bits 7-6 en index 0-3 pour lire AnimBankTable ($0A20)
+; In:  hAnimObjSubState = sous-état animation objet (bits 7-6 utilisés)
+; Out: hAnimStructBank = bank ROM sélectionnée ($01/$04/$08/$50)
+; Modifie: a
+SelectAnimationBank:
+    push hl
+    push de
+    ldh a, [hAnimObjSubState]
+    and ANIM_SUBSTATE_MASK      ; Garde bits 7-6 uniquement ($C0)
+    swap a                       ; Décalage de 4 bits
+    srl a                        ; Puis encore 2 bits → index 0-3
+    srl a
+    ld e, a
+    ld d, $00
+    ld hl, AnimBankTable
+    add hl, de
+    ld a, [hl]
+    ldh [hAnimStructBank], a
+    pop de
+    pop hl
+    ret
+
+; AnimBankTable
+; --------------
+; Description: Table de mapping bits 7-6 de hAnimObjSubState vers numéros de bank ROM
+; Format: 4 bytes, indexée par (hAnimObjSubState & $C0) >> 6
+;         Index 0 (%00xxxxxx) → bank $01
+;         Index 1 (%01xxxxxx) → bank $04
+;         Index 2 (%10xxxxxx) → bank $08
+;         Index 3 (%11xxxxxx) → bank $50
+; Utilisée par: SelectAnimationBank ($0A07)
+AnimBankTable:
+    db $01, $04, $08, $50
+
+; HandleObjectAnimationOnBlockHit
+; --------------------------------
+; Description: Déclenche l'animation d'un objet quand le joueur frappe un bloc (via saut)
+; In:  hBlockHitType = type de bloc frappé (0=rien, $c0=spécial, autres=normal)
+;      wPlayerX, wPlayerState = position du joueur
+;      wObjectBuffer = table des objets actifs
+; Out: hPtrLow, hPtrHigh, hPtrBank = coordonnées collision si détectée
+; Modifie: a, bc, de, hl
+HandleObjectAnimationOnBlockHit:
+    ldh a, [hBlockHitType]
+    and a
+    ret z
+
+    cp BLOCK_HIT_TYPE_SPECIAL
+    ret z
+
+    ld de, OBJECT_SLOT_SIZE       ; 16 bytes par slot
+    ld b, OBJECT_BUFFER_COUNT     ; 10 slots
+    ld hl, wObjectBuffer
+
+FindObjectLoop:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr nz, ProcessFoundObject
+
+NextObjectSlotCheck:
+    add hl, de
+    dec b
+    jr nz, FindObjectLoop
+
+    ret
+
+
+ProcessFoundObject:
+    push bc
+    push hl
+    ld bc, OBJ_FIELD_STATE_OFFSET
+    add hl, bc
+    bit 7, [hl]
+    jr nz, ContinueObjectScan
+
+    ld c, [hl]
+    inc l
+    inc l
+    ld a, [hl]
+    ldh [hAnimObjSubState], a
+    pop hl
+    push hl
+    inc l
+    inc l
+    ld b, [hl]
+    ld a, [wPlayerX]
+    sub b
+    jr c, ContinueObjectScan
+
+    ld b, a
+    ld a, OBJECT_COLLISION_RANGE ; Distance max collision (20 pixels)
+    sub b
+    jr c, ContinueObjectScan
+
+    cp COLLISION_THRESHOLD_7    ; Seuil collision 7 pixels
+    jr nc, ContinueObjectScan
+
+    inc l
+    ld a, c
+    and ANIM_HEIGHT_MASK
+    swap a
+    ld c, a
+    ld a, [hl]
+
+Loop_AddValueByEight:
+    add TILE_SIZE_PIXELS        ; Ajouter 8 pixels (1 tile)
+    dec c
+    jr nz, Loop_AddValueByEight
+
+    ld c, a
+    ld b, [hl]
+    ld a, [wPlayerState]
+    sub COLLISION_OFFSET_6      ; -6 pixels haut hitbox
+    sub c
+    jr nc, ContinueObjectScan
+
+    ld a, [wPlayerState]
+    add COLLISION_OFFSET_6      ; +6 pixels bas hitbox
+    sub b
+    jr c, ContinueObjectScan
+
+    dec l
+    dec l
+    dec l
+    push de
+    call SelectAnimationBank
+    call CheckObjectBottomCollision
+    pop de
+    and a
+    jr z, ContinueObjectScan
+
+    ld a, [wPlayerState]
+    add PLAYER_ANIM_OFFSET      ; -4 ajustement animation
+    ldh [hPtrLow], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_OFFSET         ; -16 pixels décalage X
+    ldh [hPtrHigh], a
+    ldh a, [hAnimStructBank]
+    ldh [hPtrBank], a
+
+ContinueObjectScan:
+    pop hl
+    pop bc
+    jp NextObjectSlotCheck
+
+
+; CheckBoundingBoxCollision
+; -------------------------
+; Description: Teste collision AABB (Axis-Aligned Bounding Box) entre deux hitboxes rectangulaires.
+;              Vérifie chevauchement sur axes X et Y avec calcul de dimensions multi-tiles.
+;              Algorithme: test séparation X (gauche/droite), puis Y (haut/bas).
+; In:  hl = pointeur objet+2 (position X objet), c = config (nibble bas=largeur tiles, bits 4-6=hauteur tiles)
+;      hTemp0 = position X joueur gauche, hTemp1 = position X joueur droite
+;      hParam3 = position Y joueur haut, hTemp2 = position Y joueur bas
+; Out: a = RETURN_TRUE ($01) si collision détectée, $00 sinon
+; Modifie: a, b, l
+CheckBoundingBoxCollision:
+    inc l
+    inc l
+    ld a, [hl]
+    add TILE_SIZE_PIXELS        ; Décalage hitbox (8 pixels = 1 tile)
+    ld b, a
+    ldh a, [hTemp0]
+    sub b
+    jr nc, .ReturnZero
+
+    ld a, c
+    and NIBBLE_LOW_MASK          ; Isoler nibble bas = largeur en tiles
+    ld b, a
+    ld a, [hl]
+
+    ; Calcule position X droite objet: X_pos + (largeur_tiles - 1) * 8
+.CalculateObjectRightEdge:
+    dec b
+    jr z, .done
+
+    sub TILE_SIZE_PIXELS        ; Soustraire 8 pixels (1 tile)
+    jr .CalculateObjectRightEdge
+
+.done:
+    ld b, a
+    ldh a, [hTemp1]
+    sub b
+    jr c, .ReturnZero
+
+    inc l
+    ldh a, [hParam3]
+    ld b, [hl]
+    sub b
+    jr c, .ReturnZero
+
+    ld a, c
+    and ANIM_HEIGHT_MASK
+    swap a
+    ld b, a
+    ld a, [hl]
+
+.CalculateObjectBottomEdge:
+    add TILE_SIZE_PIXELS        ; Ajouter 8 pixels (1 tile)
+    dec b
+    jr nz, .CalculateObjectBottomEdge
+
+    ld b, a
+    ldh a, [hTemp2]
+    sub b
+    jr nc, .ReturnZero
+
+    ld a, RETURN_TRUE
+    ret
+
+
+.ReturnZero:
+    xor a                       ; RETURN_FALSE
+    ret
+
+
+; CheckPlayerObjectCollision
+; --------------------------
+; Description: Vérifie collision joueur avec tous objets actifs dans le buffer.
+;              Parcourt les 10 slots, teste AABB (Axis-Aligned Bounding Box),
+;              applique knockback si collision détectée.
+; In:  wPlayerUnk07 = état joueur (vérifie si au sol)
+;      wPlayerX, wPlayerState = position joueur
+;      wObjectBuffer = buffer 10 objets (16 bytes chacun)
+; Out: Pas de valeur retour explicite
+;      wPlayerX = ajusté si collision (knockback -10px)
+;      wPlayerUnk07-0A = réinitialisés
+;      Objet+9 = flag collision activé
+; Modifie: a, bc, de, hl
+CheckPlayerObjectCollision:
+    ld a, [wPlayerUnk07]
+    cp PLAYER_UNK07_GROUNDED
+    ret z
+
+    ld de, OBJECT_SLOT_SIZE       ; 16 bytes par slot
+    ld b, OBJECT_BUFFER_COUNT     ; 10 slots
+    ld hl, wObjectBuffer
+
+CheckCollisionLoop:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr nz, CheckCollisionObjectPath
+
+CheckCollisionLoop_NextObject:
+    add hl, de
+    dec b
+    jr nz, CheckCollisionLoop
+
+    ret
+
+
+CheckCollisionObjectPath:
+    push bc
+    push hl
+    ld bc, OBJ_FIELD_STATE_OFFSET
+    add hl, bc
+    bit 7, [hl]
+    jp z, CollisionCheckFailed_Restart
+
+    ld a, [hl]
+    and NIBBLE_LOW_MASK          ; Isoler nibble bas
+    ldh [hTemp0], a
+    ld bc, hVBlankSelector
+    add hl, bc
+    ldh a, [hTemp0]
+    ld b, a
+    ld a, [hl]
+
+SubtractPositionOffset:
+    dec b
+    jr z, CheckCollisionXAxisPath
+
+    sub TILE_SIZE_PIXELS        ; Soustraire 8 pixels (1 tile)
+    jr SubtractPositionOffset
+
+CheckCollisionXAxisPath:
+    ld c, a
+    ldh [hTemp0], a
+    ld a, [wPlayerX]
+    add COLLISION_OFFSET_6      ; +6 pixels centrage hitbox
+    ld b, a
+    ld a, c
+    sub b
+    cp COLLISION_THRESHOLD_7    ; Seuil 7 pixels
+    jr nc, CollisionCheckFailed
+
+    inc l
+    ld a, [wPlayerState]
+    ld b, a
+    ld a, [hl]
+    sub b
+    jr c, CheckCollisionYAxisPath
+
+    cp COLLISION_MARGIN_3       ; Marge 3 pixels
+    jr nc, CollisionCheckFailed
+
+CheckCollisionYAxisPath:
+    push hl
+    inc l
+    inc l
+    inc l
+    inc l
+    inc l
+    inc l
+    inc l
+    ld a, [hl]
+    and ANIM_HEIGHT_MASK
+    swap a
+    ld b, a
+    pop hl
+    ld a, [hl]
+
+AddHeightOffset:
+    add TILE_SIZE_PIXELS        ; Ajouter 8 pixels (1 tile)
+    dec b
+    jr nz, AddHeightOffset
+
+    ld b, a
+    ld a, [wPlayerState]
+    sub b
+    jr c, ApplyCollisionKnockback
+
+    cp COLLISION_MARGIN_3       ; Marge 3 pixels
+    jr nc, CollisionCheckFailed
+
+ApplyCollisionKnockback:
+    dec l
+    ldh a, [hTemp0]
+    sub COLLISION_KNOCKBACK     ; Knockback 10 pixels
+    ld [wPlayerX], a
+    push hl
+    dec l
+    dec l
+    call GetAnimationDataPointer
+    pop hl
+    ld bc, OBJECT_OFFSET_09     ; Offset +9 dans structure
+    add hl, bc
+    ld [hl], FLAG_TRUE          ; Activer le flag
+    xor a
+    ld hl, wPlayerUnk07
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl], FLAG_TRUE          ; wPlayerUnk0A = actif
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    cp COLLISION_THRESHOLD_7    ; Vérifie si >= 7
+    jr c, CollisionBoundsCheckEnd
+
+    ld [hl], COLLISION_OFFSET_6 ; Limite à 6
+
+CollisionBoundsCheckEnd:
+    pop hl
+    pop bc
+    ret
+
+
+CollisionCheckFailed_Restart:
+CollisionCheckFailed:
+    pop hl
+    pop bc
+    jp CheckCollisionLoop_NextObject
+
+
+;; ==========================================================================
+;; State03_SetupTransition - Handler d'état $03 ($0B84)
+;; ==========================================================================
+;; Description: Configure 4 sprites OAM pour un effet visuel de transition.
+;;              Place deux tuiles de transition (normale + flip) formant un
+;;              motif 2×2, puis passe à l'état animation ($04).
+;; In:  wLevelVarDD = Position Y de référence
+;;      wPlayerState = Position X du joueur
+;; Out: hGameState = GAME_STATE_ANIMATION ($04)
+;;      wGameVarAC, hTimerAux, hRenderCounter = 0
+;; Modifie: A, BC, DE, HL, appelle ClearOamAndSpriteBuffers
+;; ==========================================================================
+State03_SetupTransition::
+    ; Configurer 4 sprites OAM pour effet de transition
+    ld hl, wOamVar0C
+    ld a, [wLevelVarDD]
+    ld c, a
+    sub TILE_SIZE_PIXELS          ; Décalage Y sprite (8 pixels)
+    ld d, a
+    ld [hl], a                    ; Sprite 0: Y
+    inc l
+    ld a, [wPlayerState]
+    add SPRITE_X_OFFSET_NEG       ; Décalage X sprite (-8)
+    ld b, a
+    ld [hl+], a                   ; Sprite 0: X
+    ld [hl], TILE_TRANSITION_A    ; Sprite 0: tile
+    inc l
+    ld [hl], OAM_ATTR_NORMAL      ; Sprite 0: attr
+    inc l
+    ld [hl], c                    ; Sprite 1: Y
+    inc l
+    ld [hl], b                    ; Sprite 1: X
+    inc l
+    ld [hl], TILE_TRANSITION_B    ; Sprite 1: tile
+    inc l
+    ld [hl], OAM_ATTR_NORMAL      ; Sprite 1: attr
+    inc l
+    ld [hl], d                    ; Sprite 2: Y
+    inc l
+    ld a, b
+    add TILE_SIZE_PIXELS          ; Décalage X sprite (8 pixels)
+    ld b, a
+    ld [hl+], a                   ; Sprite 2: X
+    ld [hl], TILE_TRANSITION_A    ; Sprite 2: tile
+    inc l
+    ld [hl], OAM_ATTR_X_FLIP      ; Sprite 2: attr (flipped)
+    inc l
+    ld [hl], c                    ; Sprite 3: Y
+    inc l
+    ld [hl], b                    ; Sprite 3: X
+    inc l
+    ld [hl], TILE_TRANSITION_B    ; Sprite 3: tile
+    inc l
+    ld [hl], OAM_ATTR_X_FLIP      ; Sprite 3: attr (flipped)
+
+    ; Transition vers état $04
+    ld a, GAME_STATE_ANIMATION
+    ldh [hGameState], a
+    xor a
+    ld [wGameVarAC], a
+    ldh [hTimerAux], a
+    ldh [hRenderCounter], a
+    call ClearOamAndSpriteBuffers
+    ret
+
+
+;; State04_AnimTransition
+;; ----------------
+;; Description: Gère l'animation de transition des sprites en modifiant leur position Y
+;;              selon une table de vitesses. Utilisé pour faire descendre des sprites
+;;              hors de l'écran avec accélération progressive.
+;; In:  wGameVarAC = index dans la table de vitesses (incrémenté à chaque frame)
+;;      wOamVar0C = buffer OAM des sprites à animer (4 sprites)
+;;      wSpecialState = détermine l'état suivant après animation
+;; Out: Sprites déplacés, état changé si animation terminée
+;; Modifie: A, B, C, D, E, HL
+State04_AnimTransition::
+    ld a, [wGameVarAC]
+    ld e, a
+    inc a
+    ld [wGameVarAC], a
+    ld d, $00
+    ld hl, ROM_ANIM_TRANSITION_TABLE
+    add hl, de
+    ld b, [hl]
+    ld a, b
+    cp ANIM_TRANSITION_END_MARKER
+    jr nz, UpdateSpriteAnimationPath
+
+    ld a, [wGameVarAC]
+    dec a
+    ld [wGameVarAC], a
+    ld b, ANIM_TRANSITION_DEFAULT
+
+;; UpdateSpriteAnimationPath
+;; ----------------
+;; Description: Applique le déplacement Y (dans B) aux 4 sprites OAM du buffer wOamVar0C
+;;              Vérifie si les sprites sont sortis de l'écran (Y >= $B4)
+;; In:  B = déplacement Y à ajouter à chaque sprite
+;;      wOamVar0C = buffer OAM de 4 sprites (16 bytes)
+;; Out: Sprites déplacés, peut changer hGameState si sortie écran
+;; Modifie: A, C, HL, DE
+UpdateSpriteAnimationPath:
+    ld hl, wOamVar0C
+    ld de, OAM_ENTRY_SIZE
+    ld c, OAM_ENTRY_SIZE
+
+SpriteAnimationOAMLoop:
+    ld a, b
+    add [hl]
+    ld [hl], a
+    add hl, de
+    dec c
+    jr nz, SpriteAnimationOAMLoop
+
+    cp SPRITE_Y_THRESHOLD_EXIT
+    ret c
+
+    ld a, [wSpecialState]
+    cp SLOT_EMPTY
+    jr nz, SetGameStateSpecialPath
+
+    ld a, GAME_STATE_WINDOW_UPDATE
+    jr SetGameStateValue
+
+; SetGameStateSpecialPath
+; -----------------------
+; Description: Configure timer spécial et passe à l'état RESET
+; In:  aucun
+; Out: hTimer1 = TIMER_SPECIAL_PATH (144 frames), hGameState = GAME_STATE_RESET
+; Modifie: a
+SetGameStateSpecialPath:
+    ld a, TIMER_SPECIAL_PATH
+    ldh [hTimer1], a
+    ld a, GAME_STATE_RESET
+
+; SetGameStateValue
+; -----------------
+; Description: Écrit la valeur de 'a' dans hGameState (point d'entrée partagé)
+; In:  a = nouvelle valeur de game state
+; Out: hGameState = a
+; Modifie: aucun
+SetGameStateValue:
+    ldh [hGameState], a
+    ret
+
+
+    cp $fe
+    cp $ff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    rst $38
+
+;; AnimTransitionTableData
+;; ----------------
+;; Description: Table des vitesses d'animation pour State04_AnimTransition.
+;;              Chaque byte indique le déplacement Y à appliquer par frame.
+;;              Séquence d'accélération progressive avec pause initiale
+;;              Le marqueur $7F indique la fin (vitesse maintenue)
+;; Utilisé par: State04_AnimTransition ($0BCD)
+;; Taille: 21 bytes
+AnimTransitionTableData:
+    db $00, $00, $ff, $00, $00, $00  ; Pause initiale (2 frames) puis recul $FF puis pause (3 frames)
+    db $01, $00, $00, $01, $00, $01  ; Accélération très progressive
+    db $01, $01, $01, $01, $01, $01  ; Vitesse constante $01
+    db $01, $01, $7f                  ; Continue puis marqueur fin (ANIM_TRANSITION_END_MARKER)
+
+;; ==========================================================================
+;; State07_WaitBank3 - Handler d'état $07 ($0C37)
+;; ==========================================================================
+;; Description: Handler d'état $07 - Gère l'attente et la transition vers
+;;              le niveau spécial. Appelle la logique bank 3 pendant le timer,
+;;              puis passe à l'état SPECIAL_LEVEL ($05). Cas spécial pour W4-L3
+;;              qui passe directement à POST_LEVEL ($06).
+;; In:  hTimer1 = timer d'attente
+;;      wAudioCondition = condition audio (si 0, réinitialise timer)
+;;      hAnimTileIndex = index tuile animation (détection style/niveau)
+;; Out: hGameState = GAME_STATE_SPECIAL_LEVEL ou GAME_STATE_POST_LEVEL
+;; Modifie: a, hl, wSpecialState, rTMA
+;; ==========================================================================
+State07_WaitBank3::
+    ld hl, hTimer1
+    ld a, [hl]
+    and a
+    jr z, .timerDone
+
+    call SwitchBankAndCallBank3Handler
+    ret
+
+
+.timerDone:
+    ld a, [wAudioCondition]
+    and a
+    jr nz, .skipTimerInit
+
+    ld a, TIMER_STATE07_WAIT
+    ldh [hTimer1], a
+
+.skipTimerInit:
+    ld a, GAME_STATE_SPECIAL_LEVEL
+    ldh [hGameState], a
+    xor a
+    ld [wSpecialState], a
+    ldh [rTMA], a
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_LOW_MASK
+    cp LEVEL_STYLE_SPECIAL
+    ret nz
+
+    call DestroyAllObjects
+    ldh a, [hAnimTileIndex]
+    cp ANIM_TILE_W4_L3
+    ret nz
+
+    ld a, GAME_STATE_POST_LEVEL
+    ldh [hGameState], a
+    ret
+
+
+; State05_SpecialLevel - Handler d'état $05 ($0C6A)
+; ----------------
+; Description: Gère la logique du niveau spécial (niveau 3). Si le niveau actuel
+;              est le niveau spécial et que le timer expire, met à jour l'audio,
+;              switch vers bank 2 pour animer, ajoute bonus, et gère transition.
+; In:  hAnimTileIndex = index du niveau actuel (nibble bas)
+;      hTimer1 = timer de la frame
+;      wLevelBCD1 = compteur niveau BCD (2 octets)
+; Out: hGameState = peut être modifié vers GAME_STATE_POST_LEVEL ($06)
+;      hTimer1 = peut être modifié vers TIMER_TRANSITION_LEVEL ou FLAG_TRUE
+; Modifie: a, b, de, hl, wPlayerVarAB, wLevelData, wSpecialState, wStateBuffer
+State05_SpecialLevel::
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_LOW_MASK          ; Isoler niveau (bits bas)
+    cp LEVEL_INDEX_SPECIAL
+    jr nz, .notSpecialLevel
+
+    xor a
+    ld [wPlayerVarAB], a
+    call UpdateAudio
+
+.notSpecialLevel:
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ld hl, wLevelBCD1
+    ld a, [hl+]
+    ld b, [hl]
+    or b
+    jr z, .levelCompleted
+
+    ld a, FLAG_TRUE
+    ld [wLevelData], a
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_DEMO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call UpdateGameTimersAndAnimation
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ld de, SCORE_BONUS_10
+    call AddScore
+    ld a, FLAG_TRUE
+    ldh [hTimer1], a
+    xor a
+    ld [wSpecialState], a
+    ld a, [wLevelBCD1]
+    and FLAG_TRUE
+    ret nz
+
+    ld a, STATE_BUFFER_SPECIAL
+    ld [wStateBuffer], a
+    ret
+
+
+.levelCompleted:
+    ld a, GAME_STATE_POST_LEVEL
+    ldh [hGameState], a
+    ld a, TIMER_TRANSITION_LEVEL
+    ldh [hTimer1], a
+    ret
+
+
+; State06_PostLevel
+; -----------------
+; Description: Transition post-niveau - détermine l'état suivant selon le niveau complété et la position du joueur
+;              Attend expiration du timer puis route vers: niveau spécial ($1C), zone centrale ($08), ou zone extérieure ($12)
+; In:  hTimer1 = timer de transition, hAnimTileIndex = niveau actuel, wPlayerX = position X du joueur
+; Out: hGameState = nouvel état ($1C, $08, ou $12), hCurrentBank = bank chargée (2 ou 3)
+; Modifie: a, hl
+State06_PostLevel::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    xor a
+    ld [wSpecialState], a
+    ldh [rTMA], a
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_LOW_MASK          ; Isoler niveau (bits bas)
+    cp LEVEL_INDEX_SPECIAL
+    ld a, GAME_STATE_SPECIAL      ; État $1C si niveau spécial
+    jr z, State06_PostLevel_SpecialLevel
+
+    ; Vérifier position X du joueur
+    ld a, [wPlayerX]
+    cp PLAYER_X_LEFT
+
+CheckPlayerCenterPosition:
+    jr c, State06_PostLevel_SwitchBank2
+
+    cp PLAYER_X_RIGHT
+    jr nc, State06_PostLevel_SwitchBank2
+
+    ld a, GAME_STATE_CENTER       ; État $08 si position centrale
+    jr State06_PostLevel_SetNextState
+
+State06_PostLevel_SwitchBank2:
+    ld a, BANK_DEMO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ld a, GAME_STATE_OUTER        ; État $12 si hors centre
+
+State06_PostLevel_SetNextState:
+    ldh [hGameState], a
+    ret
+
+
+State06_PostLevel_SpecialLevel:
+    ldh [hGameState], a
+    ld a, BANK_AUDIO
+    ld [rROMB0], a
+    ldh [hCurrentBank], a
+    ld hl, hRenderContext
+    ld a, [hl]
+    ldh [hOAMIndex], a
+    ld [hl], STATE_RENDER_DAMAGE ; Mode rendu collision ($0C)
+    inc l
+    xor a
+    ld [hl+], a
+    ld [hl+], a
+    ldh [hTemp3], a
+    inc l
+    inc l
+    ld a, [hl]
+    ldh [hVramPtrLow], a
+    ld a, TIMER_CUTSCENE_6
+    ldh [hTimer1], a
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_HIGH_MASK
+    cp ANIM_TILE_WORLD_4_NIBBLE
+    ret nz
+
+    xor a
+    ldh [hOAMIndex], a
+    ld a, FLAG_TRUE
+    ld [wAudioSaveDE], a
+    ld a, VRAM_DEST_CUTSCENE_HIGH
+    ldh [hOAMAddrLow], a
+    ld a, TIMER_CUTSCENE_LONG
+    ldh [hTimer1], a
+    ld a, GAME_STATE_INIT27
+    ldh [hGameState], a
+    call ROM_INIT_BANK3
+    ret
+
+
+; LoadGameTilesWithBank
+; ----------------
+; Description: Charge les tiles du jeu depuis une bank spécifique puis initialise le gameplay
+; In:  c = numéro de bank ROM à charger (BANK_1, BANK_2, BANK_3)
+; Out: (passe au GameplayInitStart)
+; Modifie: a, bc, de, hl (via LoadGameTiles et GameplayInitStart)
+LoadGameTilesWithBank:
+    di
+    ld a, c
+    ld [rROMB0], a
+    ldh [hCurrentBank], a
+    xor a
+    ldh [rLCDC], a
+    call LoadGameTiles
+    jp GameplayInitStart
+
+
+;; ==========================================================================
+;; State08_WorldProgress - Handler d'état $08 ($0D40)
+;; ==========================================================================
+;; Description: Gère la progression monde/niveau et charge les ressources
+;;              graphiques selon le monde actuel (tiles, palettes, animations)
+;; In:  hTimer1 = timer de délai
+;;      wStateEnd = flag de fin de niveau
+;;      hRenderContext = contexte de rendu actuel (0-11)
+;;      hAnimTileIndex = index monde/niveau (nibble haut=monde, nibble bas=niveau)
+;; Out: hGameState = GAME_STATE_PREPARE_RENDER ($02)
+;;      hRenderContext = incrémenté avec wrap à RENDER_CONTEXT_MAX ($0C)
+;;      hAnimTileIndex = incrémenté (wrap niveau 4→monde suivant niveau 1)
+;; Modifie: a, b, c, d, e, h, l
+;; ==========================================================================
+State08_WorldProgress::
+    ld hl, hTimer1
+    ld a, [hl]
+    and a
+    ret nz
+
+    ld a, [wStateEnd]
+    and a
+    ret nz
+
+    ldh a, [hRenderContext]
+    inc a
+    cp RENDER_CONTEXT_MAX           ; $0C wrap-around
+    jr nz, IncrementRenderContextPath
+
+    xor a
+
+IncrementRenderContextPath:
+    ldh [hRenderContext], a
+    ldh a, [hAnimTileIndex]
+    inc a
+    ld b, a
+    and NIBBLE_LOW_MASK              ; Isoler le niveau (bits bas)
+    cp ANIM_TILE_LEVELS_PER_WORLD    ; Niveau 4 atteint ?
+    ld a, b
+    jr nz, UpdateAnimationTileIndexPath
+
+    add ANIM_TILE_WORLD_OFFSET       ; Passer au monde suivant niveau 1
+
+UpdateAnimationTileIndexPath:
+    ldh [hAnimTileIndex], a
+
+; LoadAnimTilesByIndex
+; --------------------
+; Description: Charge les tiles animées et palettes selon l'index du monde
+;              Extrait le numéro de monde depuis hAnimTileIndex et charge les
+;              ressources graphiques appropriées depuis la bank correspondante
+; In:  a = AnimTileIndex (déjà chargé depuis hAnimTileIndex)
+; Out: VRAM chargé avec tiles monde, palette, et buffer animation
+; Modifie: af, bc, de, hl
+LoadAnimTilesByIndex:
+    and NIBBLE_HIGH_MASK     ; Isoler le monde (bits hauts)
+    swap a
+    cp WORLD_1              ; Monde 1 ?
+    ld c, BANK_2            ; Bank 2 pour monde 1
+    jr z, LoadGameTilesWithBank
+
+    cp WORLD_2              ; Monde 2 ?
+    ld c, BANK_1            ; Bank 1 pour monde 2
+    jr z, LoadAnimTilesWithBank
+
+    cp WORLD_3              ; Monde 3 ?
+    ld c, BANK_3            ; Bank 3 pour monde 3
+    jr z, LoadAnimTilesWithBank
+
+    ld c, BANK_1            ; Bank 1 par défaut (monde 4+)
+
+; LoadAnimTilesWithBank
+; ----------------------
+; Description: Charge les tiles animées, palettes et buffer d'animation depuis une bank spécifique puis initialise le gameplay
+; In:  a = numéro de monde (WORLD_1, WORLD_2, etc.)
+;      c = numéro de bank ROM à charger (BANK_1, BANK_2, BANK_3)
+; Out: (passe au GameplayInitStart)
+; Modifie: a, bc, de, hl (copie tiles, palette et buffer animation vers VRAM/WRAM)
+LoadAnimTilesWithBank:
+    ld b, a
+    di
+    ld a, c
+    ld [rROMB0], a
+    ldh [hCurrentBank], a
+    xor a
+    ldh [rLCDC], a
+    ld a, b
+    dec a
+    dec a
+    sla a
+    ld d, $00
+    ld e, a
+    ld hl, GraphicsTableA       ; Table pointeurs tiles monde ($0DE4)
+    push de
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    ld hl, VRAM_WORLD_TILES     ; Destination tiles monde ($8A00)
+
+CopyPatternTileDataLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    push hl
+    ld bc, VRAM_WORLD_OVERFLOW  ; Overflow check fin copie ($7230)
+    add hl, bc
+    pop hl
+    jr nc, CopyPatternTileDataLoop
+
+    pop de
+    ld hl, GraphicsTableB       ; Table pointeurs palette monde ($0DEA)
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    push de
+    ld hl, VRAM_WORLD_PALETTE   ; Destination palette monde ($9310)
+
+CopyColorPaletteDataLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    ld a, h
+    cp VRAM_COPY_LIMIT_HIGH
+    jr nz, CopyColorPaletteDataLoop
+
+    pop hl
+    ld de, WORLD_ANIM_OFFSET    ; Offset vers buffer animation ($02C1)
+    add hl, de
+    ld de, wAnimBuffer
+    ld b, ANIM_BUFFER_COPY_SIZE
+
+CopyAnimBufferLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc hl
+    inc de
+    dec b
+    jr nz, CopyAnimBufferLoop
+
+; GameplayInitStart
+; -----------------
+; Description: Finalise l'initialisation du gameplay après chargement des tiles/palettes.
+;              Réactive le LCD, configure le scroll initial, réinitialise les flags et
+;              passe à l'état PREPARE_RENDER pour lancer la partie.
+; In:  (aucun)
+; Out: (aucun, passe à l'état GAME_STATE_PREPARE_RENDER)
+; Modifie: a
+GameplayInitStart:
+    xor a
+    ldh [rIF], a                    ; Efface les interruptions en attente
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a                  ; Réactive le LCD avec config standard
+    ei                              ; Réactive les interruptions
+    ld a, TILEMAP_SCROLL_X_INIT
+    ldh [hTilemapScrollX], a        ; Initialise le scroll horizontal
+    xor a
+    ld [wCollisionFlag], a          ; Efface le flag de collision
+    ldh [hVBlankMode], a            ; Réinitialise le mode VBlank
+    ld a, GAME_STATE_PREPARE_RENDER
+    ldh [hGameState], a             ; Passe à l'état de préparation du rendu
+    call InitAudioAndAnimContext    ; Initialise audio et contexte d'animation
+    ret
+
+; ===========================================================================
+; GraphicsTableA / GraphicsTableB - Tables de pointeurs graphiques par monde
+; ===========================================================================
+; Description: Tables indexées par (monde - 2) * 2 pour charger les graphiques
+;              spécifiques à chaque monde (tiles et palettes)
+; Utilisé par: State08_WorldProgress (src/bank_000.asm:3111, 3130)
+; Format:      GraphicsTableA[i] = pointeur ROM vers tiles du monde (i+2)
+;              GraphicsTableB[i] = pointeur ROM vers palette du monde (i+2)
+; Index:       0 = Monde 1, 2 = Monde 2, 4 = Monde 3
+; Taille:      6 octets par table (3 entrées × 2 octets)
+; ===========================================================================
+
+; GraphicsTableA - Pointeurs vers les tiles de chaque monde ($0DE4)
+GraphicsTableA:
+    dw $4032               ; Monde 1 - pointeur tiles
+    dw $4032               ; Monde 2 - pointeur tiles (identique monde 1)
+    dw JoypadReadHandler   ; Monde 3 - ATTENTION: pointe vers code joypad, pas tiles!
+
+; GraphicsTableB - Pointeurs vers les palettes de chaque monde ($0DEA)
+GraphicsTableB:
+    dw ROM_WORLD1_PALETTE  ; Monde 1 - pointeur palette
+    dw ROM_WORLD1_PALETTE  ; Monde 2 - pointeur palette (identique monde 1)
+    dw ROM_WORLD3_PALETTE  ; Monde 3 - pointeur palette
+
+; ===========================================================================
+; État $1B - Transition bonus complété ($0DF0)
+; ===========================================================================
+; State1B_BonusComplete
+; ---------------------
+; Description: Recharge l'écran après complétion zone bonus
+;              LCD off → mise à jour HUD/pièces/vies → LCD on → retour état $08
+; In:  -
+; Out: -
+; Modifie: a, flags, appelle CopyHudTilemap/UpdateCoinDisplay/DisplayLivesCount
+State1B_BonusComplete::
+    di                          ; Désactive interruptions
+    xor a
+    ldh [rLCDC], a              ; Éteint LCD ($FF40 = $00)
+    call CopyHudTilemap         ; Copie tilemap HUD
+    call UpdateCoinDisplay      ; Actualise affichage pièces
+    call DisplayLivesCount      ; Actualise compteur vies
+    xor a
+    ldh [rIF], a                ; Efface flags interruptions ($FF0F = $00)
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a              ; Rallume LCD en mode jeu ($FF40 = $C3)
+    ei                          ; Réactive interruptions
+    ld a, GAME_STATE_CENTER
+    ldh [hGameState], a         ; Passe à l'état $08 (joueur centré)
+    ldh [hScoreNeedsUpdate], a  ; Marque score à mettre à jour
+    ret
+
+; ===========================================================================
+; State1C_WaitTimerGameplay ($0E0C)
+; ----------------
+; Description: Handler d'état $1C - Exécute la logique gameplay si timer actif,
+;              sinon passe à l'état suivant avec nouveau timer
+; In:  hTimer1 = compteur frames
+; Out: hGameState = incrémenté si timer expiré, hTimer1 = réinitialisé si expiré
+; Modifie: a, hl, appelle InitScrollBuffer, UpdateAudio, SwitchBankAndCallBank3Handler
+; ===========================================================================
+State1C_WaitTimerGameplay::
+    ldh a, [hTimer1]
+    and a
+    jr z, TimerExpiredPath
+
+    call InitScrollBuffer
+    xor a
+    ld [wPlayerVarAB], a
+    call UpdateAudio
+    call SwitchBankAndCallBank3Handler
+    ret
+
+
+; TimerExpiredPath
+; ----------------
+; Description: Gère la fin du timer gameplay - réinitialise timer et passe à l'état suivant
+; In:  rien (appelé quand hTimer1 == 0)
+; Out: hTimer1 = TIMER_STATE07_WAIT, hGameState = incrémenté
+; Modifie: a, hl
+TimerExpiredPath:
+    ld a, TIMER_STATE07_WAIT
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $1D - Setup VRAM pointer ($0E28)
+; State1D_SetupVRAMPointer
+; -------------------------
+; Description: Calcule l'adresse VRAM pour le rendu du scroll et initialise
+;              les compteurs OAM et timer. Attend que hTimer1 expire avant d'exécuter.
+; In:  hTimer1 = compteur frames (doit être 0 pour exécuter)
+;      hVramPtrLow = position VRAM courante
+; Out: hVramPtrLow = nouvelle position VRAM ajustée
+;      hOAMAddrLow = OAM_ADDR_INIT ($05)
+;      hTimer1 = TIMER_ANIM_STEP ($08)
+;      hGameState = incrémenté
+;      wPlayerVarAB = 0
+; Modifie: a, hl, de
+; ===========================================================================
+State1D_SetupVRAMPointer::
+    xor a
+    ld [wPlayerVarAB], a
+    call UpdateAudio
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ldh a, [hVramPtrLow]
+    sub COLLISION_ADJUST_POS    ; Décalage de 2 colonnes
+    cp SCROLL_COLUMN_DEFAULT    ; Seuil wrap-around (64)
+    jr nc, VRAMPointerAdjustmentPath
+
+    add TILEMAP_STRIDE          ; Ajuster wrap-around (+32 = 1 ligne tilemap)
+
+VRAMPointerAdjustmentPath:
+    ld l, a
+    ld h, VRAM_TILEMAP_HIGH
+    ld de, VRAM_TILEMAP_OFFSET
+    add hl, de
+    ld a, l
+    ldh [hVramPtrLow], a
+    ld a, OAM_ADDR_INIT
+    ldh [hOAMAddrLow], a
+    ld a, TIMER_ANIM_STEP
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $1E - Clear tilemap progressif ($0E54)
+; Efface une colonne de tiles à chaque frame, puis appelle bank 3
+; ===========================================================================
+; State1E_ClearTilemapColumn
+; --------------------------
+; Description: Efface progressivement une colonne de tilemap (1 tile/frame)
+;              en montant de bas en haut. Quand terminé, switche vers bank 3.
+; In:  hOAMAddrLow = nombre de lignes restantes à effacer
+;      hVramPtrLow = position VRAM courante (octet bas)
+; Out: hGameState incrémenté (→ état $1F) si colonne complètement effacée
+; Modifie: a, hl
+State1E_ClearTilemapColumn::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ldh a, [hOAMAddrLow]
+    dec a
+    jr z, TilemapColumnClearCompletePath
+
+    ldh [hOAMAddrLow], a
+    ldh a, [hVramPtrLow]
+    ld l, a
+    ld h, VRAM_SCRN1_HIGH       ; $99 = octet haut _SCRN1
+    sub TILEMAP_STRIDE          ; Ligne précédente (-32 = 1 ligne tilemap)
+    ldh [hVramPtrLow], a
+
+    WAIT_FOR_HBLANK
+    ld [hl], TILE_EMPTY
+    ld a, TIMER_ANIM_STEP       ; Timer = 8 frames
+    ldh [hTimer1], a
+    ld a, STATE_RENDER_STATE_BUFFER
+    ld [wStateBuffer], a
+    ret
+
+
+TilemapColumnClearCompletePath:
+    ld a, TIMER_ANIM_TRANSITION
+    ldh [hTimer1], a
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call ROM_INIT_BANK3
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $1F - Activation VBlank mode ($0E8D)
+; Attente timer, clear collision flags, active le mode VBlank
+; ===========================================================================
+; State1F_EnableVBlankMode
+; ------------------------
+; Description: Attend la fin du timer, réinitialise les flags de collision et active le mode VBlank
+; In:  hTimer1 = timer principal (doit être 0 pour continuer)
+; Out: hVBlankMode = 1 (mode VBlank activé), hGameState incrémenté
+; Modifie: a, hl
+State1F_EnableVBlankMode::
+    ldh a, [hTimer1]
+    and a                  ; Vérifie si timer est à 0
+    ret nz                 ; Retourne si timer pas encore expiré
+
+    xor a                  ; a = 0
+    ld [wCollisionFlag], a ; Clear flag collision
+    ld [wPlayerUnk07], a   ; Clear variable joueur $07
+    inc a                  ; a = 1
+    ldh [hVBlankMode], a   ; Active mode VBlank
+    ld hl, hGameState
+    inc [hl]               ; Passe à l'état suivant ($20)
+    ret
+
+; ===========================================================================
+; ===========================================================================
+; États $20/$28 - Attente position joueur ($0EA0)
+; ===========================================================================
+; State20_WaitPlayerPosition
+; --------------------------
+; Description: Simule input droite et attend que le joueur atteigne la position
+;              cible (PLAYER_POS_THRESHOLD). Passe à l'état suivant une fois
+;              la position atteinte.
+; In:  wPlayerState = position actuelle du joueur
+; Out: hGameState = incrémenté si position atteinte
+;      hTimer1 = initialisé à TIMER_ANIM_WALK si position atteinte
+; Modifie: a, hl
+; ===========================================================================
+State20_WaitPlayerPosition::
+    call AutoMovePlayerRight
+    ld a, [wPlayerState]
+    cp PLAYER_POS_THRESHOLD
+    ret c
+
+    ld a, TIMER_ANIM_WALK
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; AutoMovePlayerRight ($0EB2)
+; -----------------
+; Description: Simule une pression sur la touche droite pour déplacer
+;              automatiquement le joueur. Gère collision tête et animation pipe.
+; In:  wPlayerDir = direction et mode du joueur
+; Out: hJoypadState = PADF_RIGHT (input simulé)
+; Modifie: a
+; ===========================================================================
+AutoMovePlayerRight:
+    ld a, PADF_RIGHT
+    ldh [hJoypadState], a
+    ld a, [wPlayerDir]
+    and NIBBLE_LOW_MASK
+    cp PLAYER_MODE_GAMEPLAY
+    call c, CheckPlayerHeadCollision
+    call UpdatePipeAnimation
+    ret
+
+; ===========================================================================
+; State21_SetupEndCutscene
+; ------------------------
+; Description: Setup cutscene de fin de niveau. Attend que hTimer1 soit à zéro,
+;              puis reset la position du joueur, initialise le scroll et démarre
+;              le timer de cutscene avant de passer à l'état suivant.
+; In:  hTimer1 = timer à vérifier
+; Out: hTimer1 = TIMER_CUTSCENE (161 frames), hGameState incrémenté
+; Modifie: a, bc, de, hl
+; ===========================================================================
+State21_SetupEndCutscene::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    call ResetPlayerForCutscene
+    xor a
+    ldh [hScrollPhase], a
+    ldh [hTemp3], a
+    ld a, TIMER_CUTSCENE        ; Timer cutscene (161 frames)
+    ldh [hTimer1], a
+    ld a, STATE_RENDER_CUTSCENE
+    ld [wStateRender], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ResetPlayerForCutscene
+; ----------------------
+; Description: Réinitialise la position et les données du joueur pour la cutscene.
+;              Positionne le joueur à CUTSCENE_PLAYER_X/Y, copie les données OAM
+;              depuis ROM_LEVEL_INIT_DATA et configure quelques valeurs fixes.
+; In:  Aucun
+; Out: wPlayerX/Y = position cutscene, wPlayerUnk10-1F = données OAM + valeurs fixes
+; Modifie: a, bc, de, hl
+ResetPlayerForCutscene:
+    ld hl, wPlayerX
+    ld [hl], CUTSCENE_PLAYER_X
+    inc l
+    ld [hl], CUTSCENE_PLAYER_Y
+    inc l
+    ld a, [hl]
+    and NIBBLE_HIGH_MASK
+    ld [hl], a
+    ld hl, wPlayerUnk10
+    ld de, ROM_LEVEL_INIT_DATA
+    ld b, OAM_COPY_SIZE
+
+CopyOAMDataLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    dec b
+    jr nz, CopyOAMDataLoop
+
+    ld hl, wPlayerUnk11
+    ld [hl], CUTSCENE_PLAYER_X  ; wPlayerUnk11 = position X cutscene
+    inc l
+    ld [hl], CUTSCENE_INIT_VALUE ; wPlayerUnk12 = valeur init
+    inc l
+    ld [hl], CUTSCENE_TILE_ATTR ; wPlayerUnk13 = attribut/tile cutscene
+    inc l
+    inc l
+    ld [hl], CUTSCENE_PARAM     ; wPlayerUnk15 = paramètre cutscene
+    ret
+
+; ===========================================================================
+; State22_ScrollCutscene ($0F09)
+; ----------------
+; Description: Anime le scroll horizontal de cutscene et déplace le joueur.
+;              Incrémente SCX, décrémente wPlayerState et wPlayerUnk12.
+;              Continue pendant que hTimer1 > 0, puis passe à l'état suivant.
+; In:  hTimer1 = compteur frames restantes
+; Out: hGameState = incrémenté quand timer expiré
+;      hRenderContext = hOAMIndex (à la fin)
+; Modifie: a, hl, hShadowSCX, wPlayerState, wPlayerUnk12
+; ===========================================================================
+State22_ScrollCutscene::
+    ldh a, [hTimer1]
+    and a
+    jr z, CutsceneEndPath
+
+    ld hl, hShadowSCX
+    inc [hl]
+    call UpdateScroll
+    ld hl, wPlayerState
+    dec [hl]
+    ld hl, wPlayerUnk12
+    dec [hl]
+
+; CutsceneAnimationContinuePath ($0F1D)
+; ----------------
+; Description: Appelle le handler bank 3 pour continuer l'animation cutscene
+; In:  rien
+; Out: rien
+; Modifie: a, bc, de, hl (via SwitchBankAndCallBank3Handler)
+CutsceneAnimationContinuePath:
+    call SwitchBankAndCallBank3Handler
+    ret
+
+
+; CutsceneEndPath ($0F21)
+; ----------------
+; Description: Termine la cutscene - copie hOAMIndex vers hRenderContext,
+;              passe à l'état suivant (State23_WalkToDoor)
+; In:  hOAMIndex = index OAM actuel
+; Out: hRenderContext = hOAMIndex, hGameState = incrémenté
+; Modifie: a, hl
+CutsceneEndPath:
+    ldh a, [hOAMIndex]
+    ldh [hRenderContext], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $23 - Animation joueur vers porte ($0F2A)
+; ===========================================================================
+; State23_WalkToDoor
+; ------------------
+; Description: Simule input droite pour faire marcher le joueur vers la porte,
+;              anime le sprite, et calcule la position VRAM de destination
+; In:  -
+; Out: -
+; Modifie: a, b, hl
+State23_WalkToDoor::
+    ld a, PADF_RIGHT
+    ldh [hJoypadState], a
+    call CheckPlayerHeadCollision
+    call UpdatePipeAnimation
+    ld a, [wPlayerState]
+    cp PLAYER_STATE_PIPE_THRESHOLD
+    ret c
+
+    ld a, [wPlayerDir]
+    and NIBBLE_HIGH_MASK
+    ld [wPlayerDir], a
+    ldh a, [hVramPtrLow]
+    sub SCROLL_COLUMN_DEFAULT    ; Soustraction offset 64
+    add MOVEMENT_OFFSET_4        ; Ajout offset 4
+    ld b, a
+    and NIBBLE_HIGH_MASK         ; Isoler bits hauts position
+    cp PLAYER_POS_THRESHOLD      ; Comparer avec seuil $C0 (192)
+    ld a, b
+    jr nz, DoorPositionCalculationPath
+
+    sub TILEMAP_STRIDE          ; Ajuster position porte (-32 = 1 ligne tilemap)
+
+DoorPositionCalculationPath:
+    ldh [hCopyDstHigh], a
+    ld a, VRAM_TILEMAP_HIGH     ; $98 = octet haut _SCRN0
+    ldh [hCopyDstLow], a
+    xor a
+    ldh [hOAMIndex], a
+    ld hl, hGameState
+    inc [hl]
+    jr CutsceneAnimationContinuePath
+
+; ===========================================================================
+; State24_DisplayText
+; -------------------
+; Description: Affiche le texte "THANK YOU MARIO! ♥OH! DAISY" caractère par caractère
+;              puis passe à l'état suivant quand le texte est entièrement affiché
+; In:  -
+; Out: a = TEXT_CMD_END si texte terminé, autre sinon
+; Modifie: a, hl
+; ===========================================================================
+State24_DisplayText::
+    ld hl, TextData_ThankYou
+    call WriteCharToVRAM
+    cp TEXT_CMD_END             ; Fin de texte ?
+    ret nz
+
+    ld hl, hGameState
+    inc [hl]
+    ld a, PLAYER_ANIM_INITIAL
+    ld [wPlayerUnk10], a
+    ld a, TIMER_ANIM_STEP
+    ldh [hTimer1], a
+    ld a, OAM_INDEX_CUTSCENE
+    ldh [hOAMIndex], a
+    ld a, GAME_STATE_OUTER
+    ld [wStateRender], a
+    ret
+
+; WriteCharToVRAM
+; ---------------
+; Description: Écrit un caractère de texte en VRAM, gère les commandes spéciales
+;              (saut de ligne, fin de texte) et incrémente la position de lecture
+; In:  hl = pointeur vers table de texte
+; Out: a = caractère lu (TEXT_CMD_END, TEXT_CMD_NEWLINE ou tile)
+; Modifie: a, bc, de, hl
+WriteCharToVRAM:
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ldh a, [hOAMIndex]
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld a, [hl]
+    ld b, a
+    cp TEXT_CMD_NEWLINE
+
+; ValidateAndWriteTextCharToVram
+; -------------------------------
+; Point d'entrée secondaire: valide le caractère et dispatche vers traitement approprié
+; Si TEXT_CMD_NEWLINE → charge offset et copie, si TEXT_CMD_END → retourne, sinon → écrit
+ValidateAndWriteTextCharToVram:
+    jr z, LoadOffsetAndCopy
+
+    cp TEXT_CMD_END
+    ret z
+
+    ldh a, [hCopyDstLow]
+    ld h, a
+    ldh a, [hCopyDstHigh]
+    ld l, a
+
+; WaitAndStoreVram
+; ----------------
+; Écrit le caractère en VRAM avec attente HBlank, puis ajuste la position destination
+; Gère le retour à la ligne quand on atteint la fin d'une ligne tilemap
+WaitAndStoreVram:
+    WAIT_FOR_HBLANK
+    WAIT_FOR_HBLANK
+    ld [hl], b
+    inc hl
+    ld a, h
+    ldh [hCopyDstLow], a
+    ld a, l
+    and NIBBLE_LOW_MASK          ; Isoler nibble bas
+    jr nz, AdjustDestHighByte
+
+    bit 4, l
+    jr nz, AdjustDestHighByte
+
+    ld a, l
+    sub TILEMAP_STRIDE          ; Ligne précédente (-32 = 1 ligne tilemap)
+
+; StoreDestHighByte
+; -----------------
+; Stocke le byte haut de l'adresse destination et configure le timer
+StoreDestHighByte:
+    ldh [hCopyDstHigh], a
+    inc e
+    ld a, e
+    ldh [hOAMIndex], a
+    ld a, TIMER_TEXT_CHAR
+    ldh [hTimer1], a
+    ret
+
+; AdjustDestHighByte
+; ------------------
+; Point de convergence pour l'ajustement de l'adresse destination
+AdjustDestHighByte:
+    ld a, l
+    jr StoreDestHighByte
+
+; LoadOffsetAndCopy
+; -----------------
+; Charge l'offset de nouvelle ligne (commande TEXT_CMD_NEWLINE) et prépare la copie
+; Format: $FE <offset_low> <offset_high>
+LoadOffsetAndCopy:
+    inc hl
+    ld a, [hl+]
+    ld c, a
+    ld b, $00
+    ld a, [hl]
+    push af
+    ldh a, [hCopyDstLow]
+    ld h, a
+    ldh a, [hCopyDstHigh]
+    ld l, a
+    add hl, bc
+    pop bc
+    inc de
+    inc de
+    jr WaitAndStoreVram
+
+; === Table de texte cutscene ($0FD8-$0FF3) ===
+; Texte en indices de tiles pour la cutscene de fin
+; Ligne 1: "THANK YOU MARIO!" ($FE = saut de ligne)
+; Ligne 2: "♥OH! DAISY" ($FF = fin)
+TextData_ThankYou:
+    db TEXT_CHAR_T, TEXT_CHAR_H, TEXT_CHAR_A, TEXT_CHAR_N, TEXT_CHAR_K  ; "THANK"
+    db TEXT_CHAR_SPACE                                                  ; " "
+    db TEXT_CHAR_Y, TEXT_CHAR_O, TEXT_CHAR_U                            ; "YOU"
+    db TEXT_CHAR_SPACE                                                  ; " "
+    db TEXT_CHAR_M, TEXT_CHAR_A, TEXT_CHAR_R, TEXT_CHAR_I, TEXT_CHAR_O  ; "MARIO"
+    db TEXT_CHAR_EXCLAIM                                                ; "!"
+    db TEXT_CHAR_NEWLINE                                                ; Saut de ligne
+    db TEXT_CHAR_HEART                                                  ; ♥
+    db TEXT_CHAR_O, TEXT_CHAR_H                                         ; "OH"
+    db TEXT_CHAR_EXCLAIM_ALT                                            ; "!"
+    db TEXT_CHAR_SPACE                                                  ; " "
+    db TEXT_CHAR_D, TEXT_CHAR_A, TEXT_CHAR_I, TEXT_CHAR_S, TEXT_CHAR_Y  ; "DAISY"
+    db TEXT_CHAR_END                                                    ; Fin
+
+; ===========================================================================
+; État $25 - Animation sprite clignotant ($0FF4)
+; ===========================================================================
+
+; State25_SpriteBlinkAnimation
+; ----------------------------
+; Description: Animation de sprites clignotants qui alterne entre deux
+;              configurations sprite jusqu'à ce que le compteur atteigne 0
+; In:  hTimer1 = timer d'animation
+;      hOAMIndex = compteur de frames restantes
+; Out: hGameState = incrémenté si animation terminée
+; Modifie: a, hl, de, b
+State25_SpriteBlinkAnimation::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ldh a, [hOAMIndex]
+    dec a
+    jr z, State25_NextState
+
+State25_StoreOAMIndex:
+    ldh [hOAMIndex], a
+
+State25_LoadSpriteTableAddress:
+    and FRAME_MASK_2             ; Sélection table selon parité
+    ld hl, ROM_SPRITE_CONFIG_1
+    jr nz, State25_CopySpriteDataToOam
+
+    ld hl, ROM_SPRITE_CONFIG_2
+    ld a, SPRITE_CONFIG_COUNT
+
+State25_StoreSpriteValue:
+    ld [wStateFinal], a
+
+State25_CopySpriteDataToOam:
+    call Copy16BytesToOam
+    ld a, TIMER_ANIM_STEP
+    ldh [hTimer1], a
+    ret
+
+
+State25_NextState:
+    ld hl, wPlayerUnk10
+    ld [hl], $00
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; Copy16BytesToOam
+; ----------------
+; Description: Copie 16 octets depuis une table source vers la zone OAM
+; In:  hl = pointeur vers données source (16 octets)
+; Out: hl = pointeur après les 16 octets lus
+;      de = wOamVar1C + 16
+; Modifie: a, b
+Copy16BytesToOam:
+    ld de, wOamVar1C
+    ld b, OAM_COPY_SIZE
+
+Copy16BytesOam_Loop:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    dec b
+    jr nz, Copy16BytesOam_Loop
+
+    ret
+
+; === Tables de configuration sprites cutscene ($102C-$104B) ===
+; Format OAM : Y position, X position, Tile index, Attributes
+; 4 bytes par sprite × 4 sprites × 2 configurations = 32 bytes
+;
+; SpriteConfig1 ($102C): Configuration normale (tile $06)
+; SpriteConfig2 ($103C): Configuration alternative/clignement (tile $07)
+
+SpriteConfigTable:
+; Configuration 1 - Tile $06 (normal)
+    db $78, $58, $06, $00  ; Sprite 0: Y=$78, X=$58, Tile=$06, Attr=$00
+    db $78, $60, $06, $20  ; Sprite 1: Y=$78, X=$60, Tile=$06, Attr=$20 (X flip)
+    db $80, $58, $06, $40  ; Sprite 2: Y=$80, X=$58, Tile=$06, Attr=$40 (Y flip)
+    db $80, $60, $06, $60  ; Sprite 3: Y=$80, X=$60, Tile=$06, Attr=$60 (XY flip)
+
+; Configuration 2 - Tile $07 (clignement/alternatif)
+    db $78, $58, $07, $00  ; Sprite 0: Y=$78, X=$58, Tile=$07, Attr=$00
+    db $78, $60, $07, $20  ; Sprite 1: Y=$78, X=$60, Tile=$07, Attr=$20 (X flip)
+    db $80, $58, $07, $40  ; Sprite 2: Y=$80, X=$58, Tile=$07, Attr=$40 (Y flip)
+    db $80, $60, $07, $60  ; Sprite 3: Y=$80, X=$60, Tile=$07, Attr=$60 (XY flip)
+
+; ===========================================================================
+; État $26 - Animation princesse montante ($104C)
+; Déplace sprite princesse vers le haut, appelle bank externe pour animation
+; ===========================================================================
+State26_PrincessRising::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ld hl, wPlayerUnk13
+    ld [hl], PRINCESS_INIT_VALUE
+    ld bc, wObject2
+    ld hl, ROM_OBJECT_INIT_DATA
+    push bc
+    call ProcessObjectData
+    pop hl
+    dec l
+    ld a, [hl]
+    and a
+    jr nz, UpdateAnimationFrame
+
+    ld [hl], FLAG_TRUE
+    ld hl, wPlayerUnk13
+    ld [hl], PRINCESS_NEXT_VALUE
+    ld a, TIMER_PRINCESS_PAUSE
+    ldh [hTimer1], a
+
+UpdateAnimationFrame:
+    ldh a, [hFrameCounter]
+    and FLAG_TRUE
+    jr nz, State26_SwitchBankAndCallBank3Handler
+
+    ld hl, wPlayerUnk12
+    inc [hl]
+    ld a, [hl]
+    cp PRINCESS_ANIM_THRESHOLD
+    jr nc, State26_NextState
+
+State26_SwitchBankAndCallBank3Handler:
+    call SwitchBankAndCallBank3Handler
+    ret
+
+
+State26_NextState:
+    ld hl, hGameState
+    ld [hl], GAME_STATE_OUTER
+    ld a, BANK_DEMO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ret
+
+; ===========================================================================
+; State27_PlayerOscillation
+; -------------------------
+; Description: Gère l'animation d'oscillation horizontale du joueur avec effet
+;              de fade VRAM progressif. Toggle un flag tous les 4 frames.
+; In:  hTimer2 = timer oscillation (si 0, réinitialise)
+;      hTimer1 = compteur frames
+; Out: hGameState = incrémenté vers état suivant si animation terminée
+; Modifie: a, bc, de, hl, wPlayerVarAB, wStateFinal, wLevelInitFlag
+; ===========================================================================
+State27_PlayerOscillation::
+    ldh a, [hTimer2]
+    and a
+    jr nz, State27_ClearPlayerVar
+
+    ld a, FLAG_TRUE
+    ld [wStateFinal], a
+    ld a, OSCIL_TIMER_INIT
+    ldh [hTimer2], a
+
+State27_ClearPlayerVar:
+    xor a
+    ld [wPlayerVarAB], a
+    call UpdateAudio
+    ldh a, [hTimer1]
+    ld c, a
+    and FRAME_MASK_4
+    jr nz, State27_CheckTimer
+
+    ldh a, [hOAMIndex]
+    xor FLAG_TRUE
+    ldh [hOAMIndex], a
+    ld b, OSCIL_OFFSET_NEG
+    jr z, State27_AddOffsetToFlag
+
+    ld b, OSCIL_OFFSET_POS
+
+State27_AddOffsetToFlag:
+    ld a, [wLevelInitFlag]
+    add b
+    ld [wLevelInitFlag], a
+
+State27_CheckTimer:
+    ld a, c
+    cp OSCIL_TIMER_THRESHOLD
+    ret nc
+
+    and TILEMAP_COLUMN_MASK     ; Masque colonnes tilemap (31)
+    ret nz
+
+    ld hl, VRAM_FADE_START
+    ld bc, VRAM_FADE_SIZE
+    ldh a, [hOAMAddrLow]
+    ld d, a
+
+.loopVramOp:
+    WAIT_FOR_HBLANK
+    ld a, [hl]
+    and d
+    ld e, a
+
+    WAIT_FOR_HBLANK
+    ld [hl], e
+    inc hl
+    ld a, h
+    cp VRAM_FADE_BOUND_HI
+    jr nz, .skipWrap
+
+    ld hl, VRAM_FADE_WRAP
+
+.skipWrap:
+    rrc d
+    dec bc
+    ld a, c
+    or b
+    jr nz, .loopVramOp
+
+    ldh a, [hOAMAddrLow]
+    sla a
+    jr z, ResetCollisionFlags
+
+    swap a
+    ldh [hOAMAddrLow], a
+    ld a, OSCIL_TIMER_END
+    ldh [hTimer1], a
+    ret
+
+
+; ResetCollisionFlags
+; -------------------
+; Description: Réinitialise les flags de collision et niveau, active VBlank et passe à l'état suivant
+; In:  -
+; Out: -
+; Modifie: a, hl
+ResetCollisionFlags:
+    xor a
+    ld [wLevelInitFlag], a
+    ld [wCollisionFlag], a
+    inc a
+    ldh [hVBlankMode], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $29 - Setup écran fin de jeu ($110D)
+; LCD off, clear VRAM, configure sprites, LCD on → état suivant
+; ===========================================================================
+; State29_SetupEndScreen
+; ----------------------
+; Description: Configure l'écran de fin de jeu après victoire
+;              - Désactive LCD et interruptions
+;              - Efface tilemap _SCRN1 (256 octets)
+;              - Réinitialise état de scroll et joueur pour cutscene
+;              - Positionne joueur à (16, 56), pos=120
+;              - Clear OAM buffer (12 octets)
+;              - Configure rendu cutscene et réactive LCD
+; In:  Aucun
+; Out: Aucun (état suivant: $2A)
+; Modifie: a, bc, de, hl (via appels de fonctions)
+State29_SetupEndScreen::
+    di
+    xor a
+    ldh [rLCDC], a
+    ldh [hVBlankMode], a
+    ld hl, _SCRN1
+    ld bc, SCRN1_FIN_CLEAR_SIZE
+    call FillTilemapLoop
+    call InitScrollState
+    call ResetPlayerForCutscene
+    ld hl, wPlayerState
+    ld [hl], END_SCREEN_PLAYER_Y
+    inc l
+    ld [hl], END_SCREEN_PLAYER_X
+    ld hl, wPlayerUnk12
+    ld [hl], END_SCREEN_PLAYER_POS
+    xor a
+    ldh [rIF], a
+    ldh [hShadowSCX], a
+    ld [wLevelInitFlag], a
+    ldh [hOAMIndex], a
+    ld hl, wOamBuffer
+    ld b, OAM_CLEAR_SIZE_END
+
+ClearOamBuffer_Loop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearOamBuffer_Loop
+
+    call SwitchBankAndCallBank3Handler
+    ld a, VRAM_TILEMAP_HIGH     ; $98 = octet haut _SCRN0
+    ldh [hCopyDstLow], a
+    ld a, CUTSCENE_TEXT_OFFSET  ; Offset colonne texte
+    ldh [hCopyDstHigh], a
+    ld a, STATE_RENDER_CUTSCENE
+    ld [wStateRender], a
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a
+    ei
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; State2A_DisplayEndText
+; -----------------------
+; Description: Affiche le texte "OH! DAISY", configure la destination VRAM pour
+;              le sprite de la princesse et passe à l'état suivant
+; In:  Aucun
+; Out: Aucun (avance l'état du jeu si texte terminé)
+; Modifie: a, hl, [hOAMIndex], [hCopyDstLow], [hCopyDstHigh], [wPlayerUnk13], [hGameState]
+State2A_DisplayEndText::
+    ld hl, TextData_OhDaisy
+    call WriteCharToVRAM
+    cp TEXT_CMD_END             ; Fin de texte ?
+    ret nz
+
+    xor a
+    ldh [hOAMIndex], a
+    ld a, VRAM_SCRN1_HIGH           ; $99 = octet haut _SCRN1
+    ldh [hCopyDstLow], a
+    ld a, VRAM_COPY_LINE_OFFSET     ; Ligne 2 tilemap
+    ldh [hCopyDstHigh], a
+    ld a, CUTSCENE_COUNTER_23       ; Compteur animation cutscene
+    ld [wPlayerUnk13], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; === Table de texte "OH! DAISY" ($117A-$118A) ===
+; Texte affiché après la descente de la princesse
+; "OH! DAISY" (saut de ligne) "RDAISY" (fin)
+TextData_OhDaisy:
+    db $18, $11                 ; "OH"
+    db $28                      ; "!"
+    db $2c                      ; " " (espace)
+    db $0d, $0a, $12, $1c, $22  ; "DAISY"
+    db TEXT_CMD_NEWLINE         ; Saut de ligne
+    db $1b                      ; "R" (?)
+    db $0d, $0a, $12, $1c, $22  ; "DAISY"
+    db TEXT_CMD_END             ; Fin
+
+; ===========================================================================
+; État $2B - Animation descente princesse ($118B)
+; ===========================================================================
+; State2B_PrincessDescending
+; --------------------------
+; Description: Gère l'animation de descente de la princesse, affiche "THANK YOU MARIO!",
+;              décrémente progressivement la position Y, puis passe à l'état suivant.
+; In:  [wPlayerUnk12] = position Y actuelle de la princesse
+; Out: [hGameState] = incrémenté quand descente terminée
+;      [wSpriteTemp+0..3] = données sprite initialisées (Y, X, Tile, flags)
+; Modifie: a, hl
+State2B_PrincessDescending::
+    ld hl, TextData_ThankYouMario
+    call WriteCharToVRAM
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    ld hl, wPlayerUnk12
+    ld a, [hl]
+    cp PRINCESS_DESCENT_END
+    jr c, State2B_NextState
+
+    dec [hl]
+    call SwitchBankAndCallBank3Handler
+    ret
+
+
+State2B_NextState:
+    ld hl, hGameState
+    inc [hl]
+    ld hl, wSpriteTemp
+
+State2B_InitSpriteData:
+    ld [hl], PRINCESS_SPRITE_Y
+    inc l
+    ld [hl], PRINCESS_SPRITE_X
+    inc l
+    ld [hl], PRINCESS_SPRITE_TILE
+    inc l
+    ld [hl], FLAG_FALSE
+    ret
+
+; === Table de texte "THANK YOU MARIO!" ($11B6-$11C6) ===
+; Texte affiché pendant l'animation de la princesse
+TextData_ThankYouMario:
+    db TEXT_CHAR_T, TEXT_CHAR_H, TEXT_CHAR_A, TEXT_CHAR_N, TEXT_CHAR_K  ; "THANK"
+    db TEXT_CHAR_SPACE                                                   ; " "
+    db TEXT_CHAR_Y, TEXT_CHAR_O, TEXT_CHAR_U                             ; "YOU"
+    db TEXT_CHAR_SPACE                                                   ; " "
+    db TEXT_CHAR_M, TEXT_CHAR_A, TEXT_CHAR_R, TEXT_CHAR_I, TEXT_CHAR_O  ; "MARIO"
+    db TEXT_CHAR_EXCLAIM                                                 ; "!"
+    db TEXT_CHAR_END                                                     ; Fin
+
+; ===========================================================================
+; État $2C - Animation sprite oscillante ($11C7)
+; ===========================================================================
+; State2C_SpriteOscillation
+; -------------------------
+; Description: Anime sprite avec oscillation verticale, efface écran quand terminé
+; In:  hFrameCounter = compteur de frames
+;      wSpriteTemp = compteur oscillation + valeur position
+;      hOAMIndex = direction oscillation (0=descend, autre=monte)
+; Out: hGameState incrémenté si animation terminée
+; Modifie: a, b, hl
+State2C_SpriteOscillation::
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_2             ; 1 frame sur 2 seulement
+    ret nz
+
+    ld hl, wSpriteTemp
+    dec [hl]
+    ld a, [hl+]
+    cp OSCIL_CLEAR_THRESHOLD
+    jr c, State2C_ClearScreen
+
+    ldh a, [hOAMIndex]
+    and a
+    ld a, [hl]
+    jr nz, State2C_IncrementOscillation
+
+    dec [hl]
+    cp OSCIL_DIR_CHANGE_LOW
+    ret nc
+
+State2C_StoreOAMIndex:
+    ldh [hOAMIndex], a
+    ret
+
+
+State2C_IncrementOscillation:
+    inc [hl]
+    cp OSCIL_DIR_CHANGE_HIGH
+    ret c
+
+    xor a
+    jr State2C_StoreOAMIndex
+
+State2C_ClearScreen:
+    ld [hl], OSCIL_RESET_VALUE
+    ld b, CUTSCENE_CLEAR_SIZE
+    ld hl, VRAM_CUTSCENE_TEXT
+
+.loopClear:
+    WAIT_FOR_HBLANK
+    WAIT_FOR_HBLANK
+    ld [hl], TILE_EMPTY
+    inc hl
+    dec b
+    jr nz, .loopClear
+
+    xor a
+    ldh [hOAMIndex], a
+    ld a, VRAM_SCRN1_HIGH        ; $99 = octet haut _SCRN1
+    ldh [hCopyDstLow], a
+    ld a, FLAG_FALSE
+    ldh [hCopyDstHigh], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $2D - Affichage texte deuxième partie ($1212)
+; Affiche texte "YOUR QUEST IS OVER!", configure sprites Mario et Peach
+; ===========================================================================
+State2D_DisplayText2::
+    ld hl, TextData_QuestOver
+    call WriteCharToVRAM
+    cp SLOT_EMPTY
+    ret nz
+
+    ld hl, wPlayerUnk13
+    ld [hl], $24
+    inc l
+    inc l
+    ld [hl], $00
+    ld hl, wObject4Unk09
+    ld [hl], CUTSCENE_PLAYER_X
+    inc l
+    inc l
+    ld [hl], $28
+    inc l
+    inc l
+    ld [hl], $00
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; === Table de texte "YOUR QUEST IS OVER!" ($1236-$124A) ===
+; Texte final de fin de jeu
+TextData_QuestOver:
+    db TEXT_CHAR_PAREN                                      ; "("
+    db TEXT_CHAR_Y, TEXT_CHAR_O, TEXT_CHAR_U, TEXT_CHAR_R   ; "YOUR"
+    db TEXT_CHAR_SPACE                                      ; " "
+    db TEXT_CHAR_Q, TEXT_CHAR_U, TEXT_CHAR_E, TEXT_CHAR_S, TEXT_CHAR_T  ; "QUEST"
+    db TEXT_CHAR_SPACE                                      ; " "
+    db TEXT_CHAR_I, TEXT_CHAR_S                             ; "IS"
+    db TEXT_CHAR_SPACE                                      ; " "
+    db TEXT_CHAR_O, TEXT_CHAR_V, TEXT_CHAR_E, TEXT_CHAR_R   ; "OVER"
+    db TEXT_CHAR_PAREN                                      ; ")"
+    db TEXT_CHAR_END                                        ; Fin
+
+; ===========================================================================
+; State2E_DuoAnimation ($124B)
+; ------------------------
+; Description: Animation de Mario et Peach ensemble. Toggle la frame d'animation
+;              toutes les 4 frames, gère le positionnement vertical des personnages
+;              selon des seuils de position, et fait avancer automatiquement vers
+;              la droite. Passe à l'état suivant quand les seuils sont atteints.
+; In:  hFrameCounter = compteur de frames global
+;      wObject4Unk08, wObject4Unk0A = état et position cutscene
+; Out: hGameState = incrémenté si seuil atteint
+;      wPlayerY, wPlayerUnk10 = positions verticales mises à jour
+; Modifie: a, hl (AutoMovePlayerRight et UpdateScroll)
+; ===========================================================================
+State2E_DuoAnimation::
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    jr nz, State2E_CheckCharPosition
+
+    ld hl, wPlayerUnk13
+    ld a, [hl]
+    xor BIT_0_MASK              ; Toggle animation frame (0↔1)
+    ld [hl], a
+
+State2E_CheckCharPosition:
+    ld hl, wObject4Unk08
+    ld a, [hl]
+    and a
+    jr nz, State2E_UpdateMovement
+
+    inc l
+    inc l
+    dec [hl]
+    ld a, [hl]
+    cp CUTSCENE_POS_THRESHOLD_1
+    jr nz, State2E_CheckCounterFrame2
+
+    ld a, PLAYER_Y_INIT
+    ld [wPlayerY], a
+    jr State2E_UpdateMovement
+
+State2E_CheckCounterFrame2:
+    cp CUTSCENE_POS_THRESHOLD_2
+    jr nz, State2E_UpdateMovement
+
+    ld a, PLAYER_Y_INIT
+    ld [wPlayerUnk10], a
+    ld a, CUTSCENE_POS_THRESHOLD_2
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+
+State2E_UpdateMovement:
+    call AutoMovePlayerRight
+    call UpdateScroll
+    ldh a, [hTilemapScrollX]
+    cp TILEMAP_SCROLL_X_INIT
+    ret nz
+
+    ldh a, [hTilemapScrollY]
+    and a
+    ret nz
+
+    ld hl, wObject4Unk08
+    ld [hl], FLAG_FALSE
+    inc l
+    inc l
+    ld [hl], CUTSCENE_COUNTER_INIT
+    ret
+
+; ===========================================================================
+; État $2F - Transfer données sprite ($1298)
+; State2F_TransferSpriteData
+; ----------------
+; Description: Attend que timer atteigne 0, puis copie 6 octets de wObject4Unk08
+;              vers wPlayerY (position sprite joueur) et avance à l'état suivant
+; In:  hTimer1 = compteur temporisation
+; Out: hGameState = incrémenté si timer = 0
+; Modifie: a, b, de, hl
+; ===========================================================================
+State2F_TransferSpriteData::
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ld hl, wObject4Unk08
+    ld de, wPlayerY
+    ld b, SPRITE_DATA_COPY_SIZE
+
+CopySpriteDataToOam_Loop:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    dec b
+    jr nz, CopySpriteDataToOam_Loop
+
+    ld hl, wPlayerDir
+    ld [hl], PLAYER_DIR_CUTSCENE
+    ld hl, wObject4Unk09
+    ld [hl], SPRITE_ANIM_RESET
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; État $30 - Animation marche gauche ($12B9)
+; ===========================================================================
+; State30_WalkLeft
+; ----------------
+; Description: Déplace le sprite du joueur vers la gauche avec animation
+;              de marche pendant une cutscene. S'arrête à CUTSCENE_WALK_END_X.
+; In:  hFrameCounter = compteur de frames pour timing
+;      wPlayerX = position X actuelle du joueur
+; Out: wPlayerX décrémenté, hGameState avancé si position finale atteinte
+; Modifie: a, b, hl, appelle SwitchBankAndCallBank3Handler, ToggleAnimFrame
+; ===========================================================================
+State30_WalkLeft::
+    call SwitchBankAndCallBank3Handler
+    ldh a, [hFrameCounter]
+    ld b, a
+    and FRAME_MASK_2             ; 1 frame sur 2 seulement
+    ret nz
+
+    ld hl, wObject4Unk08
+    ld [hl], SLOT_EMPTY
+    ld hl, wPlayerX
+    dec [hl]
+    ld a, [hl+]
+    cp CUTSCENE_WALK_END_X
+    jr z, AdvanceToNextState
+
+    call ToggleAnimFrame
+    ret
+
+
+; AdvanceToNextState
+; ------------------
+; Description: Passe à l'état suivant et réinitialise l'index OAM
+; In:  -
+; Out: hGameState incrémenté, hOAMIndex = OAM_ENTRY_SIZE
+; Modifie: a, hl
+AdvanceToNextState:
+    ld hl, hGameState
+    inc [hl]
+    ld a, OAM_ENTRY_SIZE
+    ldh [hOAMIndex], a
+    ret
+
+; ToggleAnimFrame
+; ---------------
+; Description: Alterne la frame d'animation (bit 0) toutes les 4 frames.
+;              Suppose que hl pointe vers wPlayerX-1 (utilise inc l).
+; In:  hl = pointeur vers wPlayerX-1
+;      hFrameCounter = compteur de frames
+; Out: [hl+1] = frame d'animation inversée (bit 0 togglé)
+; Modifie: a, l
+ToggleAnimFrame:
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    inc l
+    ld a, [hl]
+    xor BIT_0_MASK              ; Toggle animation frame (0↔1)
+    ld [hl], a
+    ret
+
+; ===========================================================================
+; State31_HorizontalScroll ($12E8)
+; --------------------------------
+; Description: Gère le scroll horizontal pendant la cutscene finale
+;              Incrémente SCX progressivement et déclenche la transition
+;              vers l'écran final quand wStateVar9 = 0
+; In:  hShadowSCX = position scroll actuelle
+;      wStateVar9 = flag de contrôle (0 = transition vers écran final)
+; Out: hShadowSCX incrémenté, wStateRender = STATE_RENDER_FINAL si transition
+; Modifie: af
+; ===========================================================================
+State31_HorizontalScroll::
+    call AnimateAndCallBank3
+    call UpdateScroll
+    ldh a, [hShadowSCX]
+    inc a
+    call z, SetupFinalScreen
+    inc a
+    call z, SetupFinalScreen
+    ldh [hShadowSCX], a
+    ld a, [wStateVar9]
+    and a
+    ret nz
+
+    ld a, STATE_RENDER_FINAL
+    ld [wStateRender], a
+    ret
+
+; AnimateAndCallBank3 ($1305)
+; ---------------------------
+; Description: Bascule la frame d'animation du joueur et appelle le handler bank 3
+; In:  wPlayerState = état animation joueur
+; Out: Frame d'animation toggleée, handler bank 3 exécuté
+; Modifie: hl, af (via sous-routines)
+AnimateAndCallBank3:
+    ld hl, wPlayerState
+    call ToggleAnimFrame
+    call SwitchBankAndCallBank3Handler
+    ret
+
+; SetupFinalScreen ($130F)
+; ------------------------
+; Description: Configure l'écran final de la cutscene quand SCX atteint $FE ou $FF
+;              Décrémente hOAMIndex, reset LYC, configure sprites et scroll
+;              Incrémente hGameState à la fin
+; In:  hOAMIndex = compteur décrément, hScrollColumn = colonne scroll courante
+; Out: OAM et scroll configurés pour écran final, hGameState incrémenté
+; Modifie: af, hl, de, bc (via sous-routines)
+SetupFinalScreen:
+    push af
+    ldh a, [hOAMIndex]
+    dec a
+    ldh [hOAMIndex], a
+    jr nz, PopAndReturn
+
+    ldh [rLYC], a
+    ld a, OAM_INDEX_FINAL_SETUP
+    ldh [hOAMIndex], a
+    ld a, SCROLL_COLUMN_FINAL
+    ldh [hScrollColumn], a
+    call ClearScrollBuffer
+    ld hl, wPlayerUnk10
+    ld de, ROM_SPRITE_END_DATA_1
+    call Copy5Bytes
+    ld hl, wObject2Unk08
+    ld de, ROM_SPRITE_END_DATA_2
+    call Copy5Bytes
+    ld hl, wObject3Unk08
+    ld de, ROM_SPRITE_END_DATA_3
+    call Copy5Bytes
+    ld hl, hGameState
+    inc [hl]
+
+; PopAndReturn ($1343)
+; --------------------
+; Description: Helper local pour SetupFinalScreen - restaure af et retourne
+;              Utilisé pour sortie précoce quand compteur hOAMIndex != 0
+; In:  Stack contient af sauvegardé
+; Out: af restauré
+; Modifie: af (restauré depuis stack)
+PopAndReturn:
+    pop af
+    ret
+
+; ClearScrollBuffer ($1345)
+; -------------------------
+; Description: Efface le buffer de scroll avec des tiles vides
+;              Active le scroll et efface HUD_LINE_COUNT lignes dans VRAM
+;              en utilisant WAIT_FOR_HBLANK pour chaque tile
+; In:  hScrollColumn = colonne de départ dans tilemap
+; Out: wScrollBuffer rempli de TILE_EMPTY, hScrollPhase = SCROLL_PHASE_ACTIVE
+;      HUD_LINE_COUNT lignes effacées dans VRAM
+; Modifie: af, b, hl
+ClearScrollBuffer:
+    ld hl, wScrollBuffer
+    ld b, SCROLL_BUFFER_SIZE
+    ld a, TILE_EMPTY
+
+ClearBufferLoop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearBufferLoop
+
+    ld a, SCROLL_PHASE_ACTIVE
+    ldh [hScrollPhase], a
+    ld b, HUD_LINE_COUNT
+    ldh a, [hScrollColumn]
+    sub TILEMAP_STRIDE          ; Ligne précédente (-32 = 1 ligne tilemap)
+    ld l, a
+    ld h, VRAM_TILEMAP_HIGH
+
+.loopClearTile:
+    WAIT_FOR_HBLANK
+    ld [hl], TILE_EMPTY
+    ld a, l
+    sub TILEMAP_STRIDE          ; Ligne précédente (-32 = 1 ligne tilemap)
+    ld l, a
+    dec b
+    jr nz, .loopClearTile
+
+    ret
+
+; Copy5Bytes ($136D)
+; ------------------
+; Description: Copie SPRITE_CONFIG_COPY_SIZE bytes de ROM vers RAM
+;              Utilisé pour charger config sprites depuis tables ROM
+; In:  hl = destination RAM, de = source ROM
+; Out: SPRITE_CONFIG_COPY_SIZE (5) bytes copiés, hl et de avancés
+; Modifie: af, b, hl, de
+Copy5Bytes:
+    ld b, SPRITE_CONFIG_COPY_SIZE
+
+CopyByteLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    dec b
+    jr nz, CopyByteLoop
+
+    ret
+
+; === Tables de données sprites finaux ($1376-$1384) ===
+; NOTE: Config sprites pour écran final - 3 tables de 5 octets
+SpriteEndData:
+    db $00, $30, $d0, $29, $80  ; $1376: ROM_SPRITE_END_DATA_1 (joueur)
+    db $80, $70, $10, $2a, $80  ; $137b: ROM_SPRITE_END_DATA_2 (objet 2)
+    db $80, $40, $70, $29, $80  ; $1380: ROM_SPRITE_END_DATA_3 (objet 3)
+
+; State32_CreditsScroll
+; ----------------------
+; Description: État $32 - Anime et scroll les crédits, décrémente les sprites OAM
+;              Scrolle à vitesse 2 pixels/frame, nettoie buffer tous les 8 pixels
+;              Transition vers état $33 quand OAM index atteint 0
+; In:  [hShadowSCX] = position scroll actuelle
+;      [hTemp3] = bit de toggle pour intervalle de nettoyage
+;      [hOAMIndex] = compteur sprites OAM restants
+; Out: [hGameState] = GAME_STATE_CREDITS_TEXT ($33) si OAM=0
+;      [hShadowSCX] = incrémenté de 2, reset à 0 en fin
+;      [rLYC] = LYC_CREDITS_LINE ($60)
+;      [hCopyDstLow/High] = ROM_CREDITS_TEXT ($154E)
+;      [hTimer1] = TIMER_CREDITS_LONG ($F0)
+; Modifie: af, bc, de, hl (via AnimateCreditsFrame et ClearScrollBuffer)
+State32_CreditsScroll::
+    call AnimateCreditsFrame
+    ldh a, [hShadowSCX]
+    inc a
+    inc a
+    ldh [hShadowSCX], a
+    and BIT_3_MASK              ; Test bit 3 (intervalle de 8 pixels)
+    ld b, a
+    ldh a, [hTemp3]
+    cp b
+    ret nz
+
+    xor BIT_3_MASK              ; Toggle bit 3
+    ldh [hTemp3], a
+    call ClearScrollBuffer
+    ldh a, [hOAMIndex]
+    dec a
+    ldh [hOAMIndex], a
+    ret nz
+
+    xor a
+    ldh [hShadowSCX], a
+    ld a, LYC_CREDITS_LINE          ; Ligne 96 pour interruption LYC
+    ldh [rLYC], a
+    ld hl, ROM_CREDITS_TEXT         ; Pointeur texte crédits
+    ld a, h
+    ldh [hCopyDstLow], a
+    ld a, l
+    ldh [hCopyDstHigh], a
+    ld a, TIMER_CREDITS_LONG        ; Timer long crédits (240 frames)
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+
+; UpdateCreditsStars
+; ----------------
+; Description: Met à jour l'animation des 3 étoiles de l'écran de crédits.
+;              Décrémente le compteur d'animation de chaque étoile, et le réinitialise
+;              avec randomisation de position quand il atteint les seuils min/max.
+; In:  Rien (utilise wPlayerUnk12 comme base des structures d'objets)
+; Out: Rien
+; Modifie: af, bc, de, hl
+UpdateCreditsStars:
+    ld hl, wPlayerUnk12
+    ld de, OBJECT_STRUCT_SIZE
+    ld b, CREDITS_STAR_COUNT
+
+.animationLoop:
+    dec [hl]                              ; Décrémente compteur animation
+    ld a, [hl]
+    cp CREDITS_ANIM_LOW_THRESH            ; Atteint le seuil bas (1)?
+    jr nz, .checkCounterReset
+
+    ld [hl], CREDITS_ANIM_RESET           ; Oui: réinitialiser à 254
+    jr .moveToNextSprite
+
+.checkCounterReset:
+    cp CREDITS_ANIM_HIGH_THRESH           ; Atteint le seuil haut (224)?
+    jr nz, .moveToNextSprite
+
+    ; Randomisation de la position
+    push hl
+    ldh a, [rDIV]                         ; Source d'aléatoire (timer DIV)
+    dec l                                 ; Pointe vers le champ précédent
+    add [hl]                              ; Ajoute valeur actuelle
+    and CLEAR_BIT7_MASK                   ; Garde bits 0-6
+    cp CREDITS_POS_RANDOM_THRESH          ; Comparaison avec seuil 104
+    jr nc, .storeOffsetValue
+
+    and ANIM_COUNTER_MASK                 ; Applique masque bits 0-5
+
+.storeOffsetValue:
+    ld [hl-], a                           ; Stocke nouvelle position
+    ld [hl], FLAG_FALSE                   ; Reset flag
+    pop hl
+
+.moveToNextSprite:
+    add hl, de                            ; Passe à la structure suivante
+    dec b
+    jr nz, .animationLoop
+
+    ret
+
+; ===========================================================================
+; State33_DisplayCreditsText
+; --------------------------
+; Description: Affiche le texte des crédits caractère par caractère en VRAM
+;              Gère l'animation des crédits et copie le texte sur 2 lignes
+; In:  hCopyDstLow/hCopyDstHigh = pointeur source texte crédits
+; Out: hGameState incrémenté, pointeur source sauvegardé
+; Modifie: a, b, de, hl, hTimer1
+; ===========================================================================
+State33_DisplayCreditsText::
+    call AnimateCreditsFrame
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ldh a, [hCopyDstLow]
+    ld h, a
+    ldh a, [hCopyDstHigh]
+    ld l, a
+    ld de, VRAM_CREDITS_ROW1
+
+.displayLoop:
+    ld a, [hl]
+    cp TEXT_CMD_NEWLINE
+    jr z, .handleNewline
+
+    inc hl
+    ld b, a
+
+.writeCharToVRAM:
+    WAIT_FOR_HBLANK
+    WAIT_FOR_HBLANK
+    ld a, b
+    ld [de], a
+    inc de
+    ld a, e
+    cp VRAM_CREDITS_LIMIT1
+    jr z, .switchToRow2
+
+    cp VRAM_CREDITS_LIMIT2
+    jr z, .finishRow2
+
+    jr .displayLoop
+
+.handleNewline:
+    ld b, TILE_EMPTY
+    jr .writeCharToVRAM
+
+.switchToRow2:
+    ld de, VRAM_CREDITS_ROW2
+    inc hl
+    jr .displayLoop
+
+.finishRow2:
+    inc hl
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr nz, .savePointerAndAdvanceState
+
+    ld a, SLOT_EMPTY
+    ld [wAudioSaveDE], a
+
+.savePointerAndAdvanceState:
+    ld a, h
+    ldh [hCopyDstLow], a
+    ld a, l
+    ldh [hCopyDstHigh], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; State34_WaitCreditsCounter
+; --------------------------
+; Description: Gère l'attente avec compteur durant l'écran de crédits.
+;              Incrémente wLevelInitFlag toutes les 4 frames jusqu'à $20,
+;              puis passe à l'état suivant et initialise hTimer1.
+; In:  hFrameCounter = compteur de frames global
+;      wLevelInitFlag = compteur à incrémenter
+; Out: hGameState = incrémenté si wLevelInitFlag atteint $20
+;      hTimer1 = TIMER_GAMEPLAY_DELAY ($50) si transition
+; Modifie: af, hl (via AnimateCreditsFrame également)
+; ===========================================================================
+State34_WaitCreditsCounter::
+    call AnimateCreditsFrame
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    ld hl, wLevelInitFlag
+    inc [hl]
+    ld a, [hl]
+    cp TIMER_ANIM_WALK
+    ret nz
+
+    ld hl, hGameState
+    inc [hl]
+    ld a, TIMER_GAMEPLAY_DELAY
+    ldh [hTimer1], a
+    ret
+
+; ===========================================================================
+; État $35 - Attente timer simple ($1451)
+; Attend timer, puis état suivant
+; ===========================================================================
+
+; State35_WaitTimer
+; ----------------
+; Description: Attend que hTimer1 atteigne zéro, puis passe à l'état suivant
+;              Anime les crédits pendant l'attente
+; In:  hTimer1 = compteur timer
+; Out: hGameState = incrémenté si timer = 0
+; Modifie: a, hl
+State35_WaitTimer::
+    call AnimateCreditsFrame
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; State36_CreditsFinalTransition
+; -------------------------------
+; Description: Transition finale après les crédits. Incrémente un compteur jusqu'à
+;              $50 frames, puis bascule vers l'état $33 (crédits texte) ou $37 (sprite finale)
+;              selon le flag wAudioSaveDE
+; In:  [hFrameCounter] = compteur de frames global
+;      [wLevelInitFlag] = compteur local (incrémenté toutes les 4 frames)
+;      [wAudioSaveDE] = flag déterminant l'état suivant (SLOT_EMPTY → $37, autre → $33)
+; Out: [hGameState] = GAME_STATE_CREDITS_TEXT ($33) ou GAME_STATE_SPRITE_FINAL ($37)
+;      [wLevelInitFlag] = 0 (réinitialisé après transition)
+; Modifie: af, hl
+State36_CreditsFinalTransition::
+    call AnimateCreditsFrame
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    ld hl, wLevelInitFlag
+    inc [hl]
+    ld a, [hl]
+    cp TIMER_GAMEPLAY_DELAY
+    ret nz
+
+    xor a
+    ld [wLevelInitFlag], a
+    ld a, [wAudioSaveDE]
+    cp SLOT_EMPTY
+    ld a, GAME_STATE_CREDITS_TEXT
+    jr nz, SetGameStateRegister
+
+    ld a, GAME_STATE_SPRITE_FINAL
+
+; SetGameStateRegister
+; --------------------
+; Description: Helper local pour écrire l'état de jeu dans hGameState
+; In:  a = nouvel état de jeu (GAME_STATE_*)
+; Out: [hGameState] = a
+; Modifie: rien (juste écriture mémoire)
+SetGameStateRegister:
+    ldh [hGameState], a
+    ret
+
+; ===========================================================================
+; État $37 - Animation sprite finale ($147F)
+; Anime sprite vers $D0, copie données tilemap, incrémente niveau
+; ===========================================================================
+; State37_FinalSpriteAnimation
+; ----------------------------
+; Description: Anime la princesse jusqu'à Y=$D0, puis setup l'écran final des crédits
+; In:  wPlayerState = position Y courante de la princesse
+; Out: hGameState incrémenté vers état suivant si animation terminée
+; Modifie: a, b, de, hl
+State37_FinalSpriteAnimation::
+    call AnimateCreditsFrame
+    ld hl, wPlayerState
+    inc [hl]
+    ld a, [hl]
+    cp PRINCESS_ANIM_THRESHOLD
+    ret nz
+
+    dec l
+    ld [hl], SPRITE_ANIM_RESET
+    push hl
+    call SwitchBankAndCallBank3Handler
+    pop hl
+    dec l
+    ld [hl], SLOT_EMPTY
+    ld hl, wTilemapBuf70
+    ld de, ROM_TILEMAP_END_DATA
+    ld b, TILEMAP_END_DATA_SIZE
+
+State37_CopyTilemapData:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    dec b
+    jr nz, State37_CopyTilemapData
+
+    ld b, TILEMAP_END_DATA_SIZE
+    xor a
+
+State37_ClearTilemapBuffer:
+    ld [hl+], a
+    dec b
+    jr nz, State37_ClearTilemapBuffer
+
+    ld a, TIMER_CREDITS_SETUP
+    ldh [hTimer1], a
+    ldh a, [hLevelIndex]
+    inc a
+    ldh [hLevelIndex], a
+    ld [wLevelType], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; === Table de données tilemap ($14BB-$14D2) ===
+; TilemapEndData
+; --------------
+; Description: Données tilemap pour l'écran final des crédits (6 entrées × 4 bytes)
+;              Copiée vers wTilemapBuf70 par State37_FinalSpriteAnimation
+;              Structure probable: Y_offset, attribut/X_hi, tile_id, padding/bank
+; Format: db Y_offset, attr, tile_id, padding (×6)
+TilemapEndData:
+    db $4E, $CC, $52, $00  ; Entrée 0
+    db $4E, $D4, $53, $00  ; Entrée 1
+    db $4E, $DC, $54, $00  ; Entrée 2
+    db $4E, $EC, $54, $00  ; Entrée 3
+    db $4E, $F4, $55, $00  ; Entrée 4
+    db $4E, $FC, $56, $00  ; Entrée 5
+
+; ===========================================================================
+; State38_CreditsAnimation
+; ----------------
+; Description: Animation finale des crédits, décrémente les positions tilemap
+;              jusqu'à atteindre les positions cibles de fin
+; In:  hTimer1 = compteur de frames
+; Out: -
+; Modifie: af, hl (via AnimateCreditsFrame, InitializeCreditsMode)
+; ===========================================================================
+State38_CreditsAnimation::
+    call AnimateCreditsFrame
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ; Vérifier si première position tilemap a atteint sa cible
+    ld hl, wTilemapBuf71
+    ld a, [hl]
+    cp CREDITS_POS_BUF71
+    jr z, CheckTilemapCompletion
+
+DecrementTilemapPositions:
+    ; Décrémenter 3 fois la position courante
+    dec [hl]
+    dec [hl]
+    dec [hl]
+    ret
+
+
+; CheckTilemapCompletion
+; ----------------
+; Description: Vérifie si toutes les positions tilemap ont atteint leurs valeurs finales
+; In:  -
+; Out: -
+; Modifie: af, hl
+CheckTilemapCompletion:
+    ld hl, wTilemapBuf75
+    ld a, [hl]
+    cp CREDITS_POS_BUF75
+    jr nz, DecrementTilemapPositions
+
+    ld hl, wTilemapBuf79
+    ld a, [hl]
+    cp CREDITS_POS_BUF79
+    jr nz, DecrementTilemapPositions
+
+    ld hl, wTilemapBuf7D
+    ld a, [hl]
+    cp CREDITS_POS_BUF7D
+    jr nz, DecrementTilemapPositions
+
+    ld hl, wTilemapBuf81
+    ld a, [hl]
+    cp CREDITS_POS_BUF81
+    jr nz, DecrementTilemapPositions
+
+    ld hl, wTilemapBuf85
+    ld a, [hl]
+    cp CREDITS_POS_BUF85
+    jr nz, DecrementTilemapPositions
+
+    ; Toutes les positions ont atteint leurs cibles -> réinitialiser pour mode démo
+    call InitializeCreditsMode
+    xor a
+    ldh [hRenderContext], a
+    ldh [hTimerAux], a
+    ldh [hSubState], a
+    ld [wGameConfigA6], a
+    ld a, INIT_ANIM_TILE_IDX
+    ldh [hAnimTileIndex], a
+    ret
+
+
+; InitializeCreditsMode
+; ----------------
+; Description: Initialise le mode démo si une touche est pressée
+; In:  hJoypadDelta = touches pressées depuis dernière frame
+; Out: -
+; Modifie: af (via ROM_INIT_BANK3 et SetupCreditsState si touche pressée)
+InitializeCreditsMode:
+    ldh a, [hJoypadDelta]
+    and a
+    ret z
+
+    call ROM_INIT_BANK3
+
+; SetupCreditsState
+; ----------------
+; Description: Configure la bank et l'état du jeu pour mode démo
+; In:  -
+; Out: -
+; Modifie: af
+SetupCreditsState:
+    ld a, BANK_DEMO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ld [wCurrentROMBank], a
+    ld [wROMBankInit], a
+    xor a
+    ld [wLevelData], a
+    ld [wGameConfigA5], a
+    ld [wPlayerVarAD], a
+    ld a, IE_VBLANK_STAT
+    ldh [rIE], a
+    ld a, GAME_STATE_DEMO
+    ldh [hGameState], a
+    ret
+
+
+; AnimateCreditsFrame
+; ----------------
+; Description: Anime une frame des crédits (sprites et étoiles)
+; In:  -
+; Out: -
+; Modifie: af, bc, de, hl (via AnimateAndCallBank3, UpdateCreditsStars)
+AnimateCreditsFrame:
+    call AnimateAndCallBank3
+    call UpdateCreditsStars
+    ret
+
+; === TextData_CreditsStaff ($154E-$1583) ===
+; TextData_CreditsStaff
+; ---------------------
+; Description: Données texte des crédits affichées dans State33_DisplayCreditsText
+;              Référencé par ROM_CREDITS_TEXT ($154E) dans constants.inc
+;              Format: caractères tilemap encodés, $FE = TEXT_CMD_NEWLINE
+;              Contient 6 lignes de texte pour l'écran de crédits final
+; Structure: 54 bytes au total ($154E-$1583)
+TextData_CreditsStaff:
+    db $19, $1b, $18, $0d, $1e, $0c, $0e, $1b, $fe  ; Ligne 1: "producer" + newline (9 bytes)
+    db $10, $23, $22, $18, $14, $18, $12, $fe        ; Ligne 2: nom producteur + newline (8 bytes)
+    db $0d, $12, $1b, $0e, $0c, $1d, $18, $1b, $fe  ; Ligne 3: "director" + newline (9 bytes)
+    db $1c, $23, $18, $14, $0a, $0d, $0a, $fe        ; Ligne 4: nom directeur + newline (8 bytes)
+    db $19, $1b, $18, $10, $1b, $0a, $16, $16, $0e, $1b, $fe  ; Ligne 5: "programmer" + newline (11 bytes)
+    db $16, $23, $22, $0a, $16, $0a, $16, $18, $1d  ; Ligne 6: nom programmeur (9 bytes)
+
+InfiniteLockup_CollideScore:
+    jr InfiniteLockup_CollideScore
+
+    add hl, de
+    dec de
+    jr @+$12
+
+    dec de
+    ld a, [bc]
+    ld d, $16
+    ld c, $1b
+    cp $1d
+    inc hl
+    ld de, $1b0a
+    ld a, [bc]
+    dec c
+    ld a, [bc]
+    cp $0d
+    ld c, $1c
+    ld [de], a
+    db $10
+    rla
+    cp $11
+    inc hl
+    ld d, $0a
+    dec e
+    inc e
+    ld e, $18
+    inc d
+    ld a, [bc]
+    cp $1c
+    jr ReadScoreValue_CollideScore
+
+    rla
+    dec c
+    cp $11
+    inc hl
+    dec e
+    ld a, [bc]
+    rla
+    ld a, [bc]
+    inc d
+    ld a, [bc]
+    cp $0a
+    ld d, $12
+    dec c
+    ld a, [bc]
+    cp $16
+    inc hl
+    ld [hl+], a
+    ld a, [bc]
+    ld d, $0a
+    rla
+    ld a, [bc]
+    inc d
+    ld a, [bc]
+    cp $0d
+
+ReadScoreValue_CollideScore:
+    ld c, $1c
+    ld [de], a
+    db $10
+    rla
+    cp $16
+    ld a, [bc]
+    inc e
+    ld de, $1612
+
+InfiniteLockup_Render:
+    jr InfiniteLockup_Render
+
+    inc e
+    add hl, de
+    ld c, $0c
+    ld [de], a
+    ld a, [bc]
+    dec d
+    inc l
+    dec e
+    ld de, $170a
+    inc d
+    inc e
+    inc l
+    dec e
+    jr State09_PipeEnterRight
+
+    cp $1d
+    ld a, [bc]
+    inc d
+    ld [de], a
+    cp $12
+    daa
+    ld e, $1c
+    ld de, $fe12
+    rla
+    ld a, [bc]
+    db $10
+    ld a, [bc]
+    dec e
+    ld a, [bc]
+    cp $14
+    ld a, [bc]
+
+PipeEnterRightMoveCheck:
+    rla
+    jr State09_PipeEnterRight.checkTarget
+
+    cp $17
+    ld [de], a
+    inc e
+    ld de, $2712
+    ld a, [bc]
+    jr nz, State09_PipeEnterRight.moveRight
+
+    cp $ff
+
+; State09_PipeEnterRight
+; ----------------------
+; Description: Gère l'entrée du joueur dans un tuyau par la droite
+;              Déplace le joueur pixel par pixel vers la position X cible jusqu'à
+;              atteindre la coordonnée stockée, puis charge le sous-niveau
+; In:  hVBlankSelector = position X cible
+; Out: hGameState = GAME_STATE_PIPE_LOAD quand cible atteinte
+;      hVBlankMode = GAME_STATE_PIPE_LOAD quand cible atteinte
+; Modifie: hl, a
+State09_PipeEnterRight::
+    ld hl, wPlayerX
+    ldh a, [hVBlankSelector]     ; Position X cible
+
+.checkTarget:
+    cp [hl]                      ; Atteint la cible ?
+    jr z, .reachedTarget
+
+.moveRight:
+    inc [hl]                     ; Avance vers la droite
+    call UpdatePipeAnimation
+    ret
+
+.reachedTarget:
+    ld a, GAME_STATE_PIPE_LOAD
+    ldh [hGameState], a          ; Transition vers état $0A
+    ldh [hVBlankMode], a
+    ret
+
+; State0A_LoadSubLevel
+; --------------------
+; Description: Charge un sous-niveau après une entrée par tuyau
+;              Désactive l'écran, nettoie la mémoire, charge les données du niveau,
+;              repositionne le joueur et réactive l'affichage
+; In:  Aucun
+; Out: hGameState = GAME_STATE_TITLE (retour état $00)
+; Modifie: a, hl, flags
+State0A_LoadSubLevel::
+    di
+    xor a
+    ldh [rLCDC], a               ; LCD off
+    ldh [hTilemapScrollY], a     ; Reset scroll Y
+    call ClearOamAndSpriteBuffers
+    call ClearTilemapBuffer
+    ldh a, [hRenderCounter]
+    ldh [hTilemapScrollX], a     ; Init scroll X
+    call LoadLevelData           ; Charge données niveau
+    call FindAudioTableEntry     ; Configure audio
+    ld hl, wPlayerX
+    ld [hl], $20                 ; Position X initiale du sous-niveau
+    inc l                        ; hl = wPlayerState
+    ld [hl], $1d                 ; État initial
+    inc l                        ; hl = wPlayerDir
+    inc l                        ; hl = wPlayerDir+1
+    ld [hl], $00                 ; Reset
+    xor a
+    ldh [rIF], a                 ; Clear interrupts
+    ldh [hGameState], a          ; Retour état $00 (GAME_STATE_TITLE)
+    ldh [hShadowSCX], a          ; Reset shadow scroll
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a               ; Réactive LCD
+    ei
+    ret
+
+
+; ClearTilemapBuffer
+; ------------------
+; Description: Efface le buffer tilemap en mettant tous les octets à zéro.
+;              Procède par décrémentation depuis la fin du buffer.
+; In:  (aucun)
+; Out: (aucun)
+; Modifie: hl, bc, a
+ClearTilemapBuffer::
+    ld hl, wTilemapBufferEnd
+    ld bc, TILEMAP_BUFFER_SIZE
+
+.loop:
+    xor a
+    ld [hl-], a
+    dec bc
+    ld a, b
+    or c
+    jr nz, .loop
+
+    ret
+
+; ===========================================================================
+; State0B_PipeEnterDown
+; ---------------------
+; Description: Gère la descente du joueur dans un tuyau vertical
+;              Déplace le joueur pixel par pixel vers le bas jusqu'à la position
+;              cible, puis charge le niveau de destination et transite vers
+;              l'état $0C (sortie de tuyau)
+; In:  hFrameCounter = compteur de frames
+;      hVBlankSelector = position Y cible (point d'arrivée)
+;      hRenderMode = mode de rendu (sauvegardé dans hTilemapScrollX)
+;      hDestX/hDestY = coordonnées de destination dans le nouveau niveau
+; Out: hGameState = GAME_STATE_PIPE_EXIT ($0C) une fois arrivé
+;      wPlayerX/wPlayerY = position du joueur dans le nouveau niveau
+;      hVBlankSelector = nouvelle cible X pour la sortie du tuyau
+; Modifie: a, bc, de, hl
+; ===========================================================================
+State0B_PipeEnterDown::
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_2             ; 1 frame sur 2 seulement
+    ret z
+
+    ld hl, wPlayerState
+    ldh a, [hVBlankSelector]     ; Position Y cible
+    cp [hl]                      ; Atteint la cible ?
+    jr c, .loadDestLevel
+
+    inc [hl]                     ; Descend d'un pixel
+    ld hl, wPlayerUnk0B
+    inc [hl]                     ; Compteur animation
+    call UpdatePipeAnimation
+    ret
+
+.loadDestLevel:
+    di
+    ldh a, [hRenderMode]
+    ldh [hTilemapScrollX], a
+    xor a
+    ldh [rLCDC], a               ; LCD off
+    ldh [hTilemapScrollY], a
+    call ClearTilemapBuffer
+    ld hl, hRenderCounter
+    ld [hl+], a
+    ld [hl+], a
+    ldh a, [hDestX]              ; Position X destination
+    ld d, a
+    ldh a, [hDestY]              ; Position Y destination
+    ld e, a
+    push de
+    call LoadLevelData
+    pop de
+    ld a, PLAYER_ANIM_INITIAL
+    ld [wPlayerFlag], a          ; Flag joueur actif
+    ld hl, wPlayerX
+    ld a, d
+    ld [hl+], a                  ; wPlayerX = destination X
+    sub PIPE_EXIT_X_OFFSET
+    ldh [hVBlankSelector], a     ; Cible X pour sortie
+    ld a, e
+    ld [hl], a                   ; wPlayerY = destination Y
+    ldh a, [hTilemapScrollX]
+    sub COLLISION_OFFSET_4
+    ld b, a
+    rlca
+    rlca
+    rlca
+    add b
+    add b
+    add SCROLL_Y_CALC_OFFSET
+    ld [wPlayerVarAB], a
+    xor a
+    ldh [rIF], a
+    ldh [hShadowSCX], a
+    ld a, SCROLL_COLUMN_INIT
+    ldh [hScrollColumn], a
+    call FindAudioTableEntry
+    call ClearOamAndSpriteBuffers
+    ld a, LCDC_GAME_STANDARD
+    ldh [rLCDC], a               ; LCD on
+    ld a, GAME_STATE_PIPE_EXIT
+    ldh [hGameState], a          ; Transition vers état $0C
+    call RenderPlayerUpdate
+    ei
+    ret
+
+; ===========================================================================
+; State0C_PipeExitLeft
+; --------------------
+; Description: État $0C - Sortie tuyau gauche. Déplace le joueur
+;              horizontalement vers la position cible puis retourne
+;              à l'état $00 (gameplay normal).
+; In:  hFrameCounter = compteur de frames
+;      hVBlankSelector = position X cible
+;      wPlayerX = position X actuelle du joueur
+; Out: hGameState = $00 si sortie complète
+;      wPlayerFlag = 0 si sortie complète
+;      hVBlankMode = 0 si sortie complète
+; Modifie: a, hl
+; ===========================================================================
+State0C_PipeExitLeft::
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_2             ; 1 frame sur 2 seulement
+    ret z
+
+    ld hl, wPlayerX
+    ldh a, [hVBlankSelector]     ; Position X cible
+    cp [hl]                      ; Atteint la cible ?
+    jr z, .exitComplete
+
+    dec [hl]                     ; Avance vers la gauche
+    call UpdatePipeAnimation
+    ret
+
+.exitComplete:
+    xor a
+    ldh [hGameState], a
+    ld [wPlayerFlag], a
+    ldh [hVBlankMode], a
+    ret
+
+; UpdatePipeAnimation
+; -------------------
+; Description: Gère l'animation du joueur pendant les transitions de tuyau.
+;              Appelle le handler bank 3, puis ajuste la direction du joueur
+;              en fonction de l'état d'animation.
+; In:  wPlayerUnk0A = flag d'état animation
+;      wPlayerDir = direction actuelle
+;      wPlayerUnk0E = état d'animation
+;      wPlayerUnk0B = compteur de frames
+; Out: Aucun
+; Modifie: a, hl
+UpdatePipeAnimation:
+    call SwitchBankAndCallBank3Handler
+    ld a, [wPlayerUnk0A]
+    and a
+    jr z, State0C_ProcessAnimation
+
+    ld a, [wPlayerDir]
+    and NIBBLE_LOW_MASK          ; Isoler mode direction
+    cp PLAYER_MODE_GAMEPLAY      ; Mode gameplay standard ($0a)
+    jr nc, State0C_ProcessAnimation
+
+    ld hl, wPlayerUnk0B
+    ld a, [wPlayerUnk0E]
+    cp PLAYER_ANIM_STATE_PIPE    ; État animation pipe (frame lente)
+    ld a, [hl]
+    jr z, State0C_CheckOddFrame
+
+    and FRAME_MASK_4
+    jr nz, State0C_ProcessAnimation
+
+State0C_IncrementPlayerDir:
+    ld hl, wPlayerDir
+    ld a, [hl]
+    cp PLAYER_DIR_LEFT
+    jr z, State0C_ProcessAnimation
+
+    inc [hl]
+    ld a, [hl]
+    and NIBBLE_LOW_MASK          ; Isoler mode direction
+    cp PLAYER_DIR_MODE_INTERACT  ; $04 = seuil interaction
+    jr c, State0C_ProcessAnimation
+
+    ld a, [hl]
+    and NIBBLE_HIGH_MASK         ; Garder bits hauts
+    or PLAYER_DIR_MODE_RESET     ; Reset au mode 1
+    ld [hl], a
+
+State0C_ProcessAnimation:
+    call ProcessAnimationState
+    ret
+
+
+State0C_CheckOddFrame:
+    and FRAME_MASK_2             ; 1 frame sur 2 seulement
+    jr nz, State0C_ProcessAnimation
+
+    jr State0C_IncrementPlayerDir
+
+; SwitchBankAndCallBank3Handler
+; ----------------
+; Description: Configure les paramètres d'animation puis switch vers bank 3
+;              pour appeler AnimationHandler, puis restaure la bank précédente
+; In:  Aucun
+; Out: hParam1 = PLAYER_POS_THRESHOLD ($C0), hParam2 = PLAYER_VAR_AB_INIT ($0C),
+;      hParam3 = RENDER_CONTEXT_GAMEPLAY ($05), hl = wPlayerY
+; Modifie: a, hl (via AnimationHandler en bank 3)
+SwitchBankAndCallBank3Handler:
+    ; --- SetupParameters ---
+    ld a, PLAYER_VAR_AB_INIT
+    ldh [hParam2], a          ; Paramètre = $0C (12)
+    ld hl, wPlayerY            ; HL = adresse player data
+    ld a, PLAYER_POS_THRESHOLD
+    ldh [hParam1], a          ; Paramètre 2 = $C0
+    ld a, RENDER_CONTEXT_GAMEPLAY
+    ldh [hParam3], a          ; Paramètre 3 = $05
+
+    ; --- SaveCurrentBank ---
+    ldh a, [hCurrentBank]          ; Lire bank courante
+    ldh [hSavedBank], a          ; Sauvegarder dans temp
+
+    ; --- SwitchToBank3 ---
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a          ; Mettre à jour shadow register
+    ld [rROMB0], a           ; MBC: switch vers bank 3
+
+    ; --- CallTargetRoutine ---
+    call AnimationHandler   ; Appeler routine d'animation en bank 3
+
+    ; --- RestorePreviousBank ---
+    ldh a, [hSavedBank]          ; Récupérer bank sauvegardée
+    ldh [hCurrentBank], a          ; Restaurer shadow register
+    ld [rROMB0], a           ; MBC: restaurer bank
+    ret
+
+
+; TileE1CollisionHandler
+; ----------------------
+; Description: Handler de collision pour tile E1 (warp/transition spéciale)
+;              Comportement différent selon le mode (jeu vs démo)
+; In:  -
+; Out: -
+; Modifie: a (via jumps)
+TileE1CollisionHandler:
+    ldh a, [hGameState]
+    cp GAME_STATE_DEMO      ; État >= $0E (démo) ?
+    jp nc, BlockCollisionPropertyHandler
+
+    jp TriggerBlockCollisionSound_TimerDispatch
+
+
+; CheckJoypadUp_GameplayLoop
+; --------------------------
+; Description: Gère entrée du joueur dans un tuyau (pipe) par le haut
+;              Vérifie bouton haut pressé et copie données VRAM vers buffer de rendu
+;              puis change l'état du jeu vers PIPE_ENTER_RIGHT
+; In:  hl = pointeur vers données (position/tile info)
+; Out: (aucun) - Change hGameState, wStateRender, met à jour wPlayerX
+; Modifie: a, bc, de, hl
+CheckJoypadUp_GameplayLoop:
+    ldh a, [hJoypadState]
+    bit 7, a                    ; Bit 7 = bouton Haut pressé ?
+    jp z, PlayerXPositionReset
+
+    ; Copie données depuis hl vers HRAM pour rendu
+    ld bc, hVramPtrLow
+    ld a, h
+    ldh [hSpriteAttr], a
+    ld a, l
+    ldh [hSpriteTile], a
+    ld a, h
+    add BCD_TO_ASCII            ; Conversion BCD → ASCII
+    ld h, a
+    ld de, hRenderCounter
+    ld a, [hl]
+    and a                       ; Valeur = 0 ?
+    jp z, PlayerXPositionReset
+
+    ; Copie 4 bytes de données de hl vers de (buffer de rendu)
+    ld [de], a                  ; Byte 1
+    inc e
+    add hl, bc
+    ld a, [hl]
+    ld [de], a                  ; Byte 2
+    inc e
+    add hl, bc
+    ld a, [hl]
+    ld [de], a                  ; Byte 3
+    inc e
+    add hl, bc
+    ld a, [hl]
+    ld [de], a                  ; Byte 4
+    inc e
+    push de
+    call GetSpritePosFromTileAddr
+    pop de
+    ; Calcule et sauvegarde position du joueur
+    ld hl, wPlayerX
+    ld a, [hl+]
+    add PLAYER_X_OFFSET         ; Ajuste Y joueur (+16)
+    ld [de], a                  ; Stocke Y dans buffer
+    ldh a, [hShadowSCX]
+    ld b, a
+    ldh a, [hSpriteX]
+    sub b
+    add TILE_SIZE_PIXELS        ; Ajuste X du tuyau (+8)
+    ld [hl+], a                 ; Mise à jour X joueur (wPlayerX+1)
+    inc l
+    ld [hl], $80                ; Flag spécial à wPlayerX+3
+
+    ; Change état jeu → entrée tuyau
+    ld a, GAME_STATE_PIPE_ENTER_RIGHT
+    ldh [hGameState], a
+
+    ; Si joueur invulnérable, skip update rendu
+    ld a, [wPlayerInvuln]
+    and a
+    jr nz, SkipIfInvuln_OnTile
+
+    ; Active mode rendu spécial
+    ld a, STATE_RENDER_SPECIAL
+    ld [wStateRender], a
+
+SkipIfInvuln_OnTile:
+    call ClearOamAndSpriteBuffers
+    jp PlayerXPositionReset
+
+
+; -----------------------------------------------------------------------------
+; CheckPlayerHeadCollision
+; ------------------------
+; Description: Vérifie collision de la tête du joueur avec les tiles au-dessus
+;              Calcule position tête (X avec scroll + ajustements, Y avec offset)
+;              et teste les tiles pour détecter collisions solides ou spéciales
+; In:  (aucun)
+; Out: (aucun) - Met à jour wPlayerX, wPlayerUnk07, wPlayerUnk0A, wPlayerUnk0E selon collision
+; Modifie: a, b, hl, hSpriteX, hSpriteY
+CheckPlayerHeadCollision:
+    ld hl, wPlayerUnk07
+    ld a, [hl]
+    cp FLAG_TRUE                ; Collision déjà détectée ?
+    ret z
+
+    ld hl, wPlayerX
+    ld a, [hl+]
+    add HEAD_COLLISION_OFFSET_Y  ; Offset Y tête joueur (+11)
+    ldh [hSpriteY], a
+    ldh a, [hShadowSCX]
+    ld b, a
+    ld a, [hl]
+    add b
+    add HEAD_COLLISION_ADJUST_X  ; Ajustement hitbox X (-2)
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_SCROLL        ; Tile scroll $70 ?
+    jr z, CheckJoypadUp_GameplayLoop
+
+    cp TILEMAP_CMD_E1            ; Tile collision spéciale E1 ?
+    jp z, TileE1CollisionHandler
+
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    jr nc, CheckBlockProperties_OnCollide
+
+    ld a, [wPlayerUnk0E]
+    ld b, COLLISION_OFFSET_4
+    cp COLLISION_OFFSET_4
+    jr nz, .testSecondHitboxPoint
+
+    ld a, [wPlayerUnk07]
+    and a
+    jr nz, .testSecondHitboxPoint
+
+    ld b, COLLISION_OFFSET_8
+
+.testSecondHitboxPoint:
+    ; Test second point de collision (décalé de 4 ou 8 pixels en X)
+    ldh a, [hSpriteX]
+    add b
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    jr nc, CheckBlockProperties_OnCollide
+
+; HandleBlockType_Collision
+; -------------------------
+; Description: Gère la collision du joueur avec un bloc solide
+;              Repousse le joueur de 3 pixels vers la droite et active l'état de chute
+; In:  Aucun (appelé depuis CheckBlockProperties_OnCollide)
+; Out: Aucun
+; Modifie: a, hl
+HandleBlockType_Collision:
+    ; Si le joueur est déjà en train de tomber, ignorer la collision
+    ld hl, wPlayerUnk07
+    ld a, [hl]
+    cp PLAYER_UNK07_FALLING
+    ret z
+
+    ; Repousser le joueur de 3 pixels vers la droite
+    ld hl, wPlayerX
+    inc [hl]
+    inc [hl]
+    inc [hl]
+
+    ; Réinitialiser un compteur/état lié au mouvement
+    ld hl, wPlayerUnk0A
+    ld [hl], $00
+
+    ; Si wPlayerUnk0E est déjà actif, ne pas modifier l'état de chute
+    ld a, [wPlayerUnk0E]
+    and a
+    ret nz
+
+    ; Activer l'état de chute
+    ld a, PLAYER_UNK07_FALLING
+    ld [wPlayerUnk0E], a
+    ret
+
+
+; CheckBlockProperties_OnCollide
+; -------------------------------
+; Description: Vérifie les propriétés du bloc en collision avec le joueur
+;              Gère les tiles dangereuses ($ED) et les tuyaux ($F4) selon l'état du joueur
+; In:  a = ID du tile en collision (tile >= $60)
+;      de = coordonnées du tile
+; Out: Aucun (peut sauter vers d'autres handlers ou initialiser le joueur)
+; Modifie: a, de, hl
+BlockCollisionPropertyHandler:
+CheckBlockProperties_OnCollide:
+    cp TILEMAP_CMD_DANGER        ; Tile danger $ED ?
+    push af
+    jr nz, ProcessBlockEnd_OnCollide
+
+    ld a, [wPlayerInvuln]
+    and a
+    jr nz, ProcessBlockEnd_OnCollide
+
+    ldh a, [hTimerAux]
+    and a
+    jr z, InitGameAfterBlock_OnCollide
+
+    cp COLLISION_OFFSET_4
+    jr z, ProcessBlockEnd_OnCollide
+
+    cp PLAYER_UNK07_FALLING
+    jr nz, ProcessBlockEnd_OnCollide
+
+    pop af
+    call StartGameplayPhase
+    jr InitPlayerX
+
+InitGameAfterBlock_OnCollide:
+    pop af
+    call InitGameState
+    jr InitPlayerX
+
+ProcessBlockEnd_OnCollide:
+    pop af
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr nz, InitPlayerX
+
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a
+    jr nz, HandleBlockType_Collision
+
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    jr HandleBlockType_Collision
+
+; PlayerXPositionReset / InitPlayerX
+; --------------------------------
+; Description: Réinitialise la position X du joueur et ses variables de mouvement
+;              Position X est reculée de 2px puis alignée sur grille 4px (offset +6)
+; In:  -
+; Out: -
+; Modifie: a, hl
+PlayerXPositionReset:
+InitPlayerX:
+    ; Recule de 2px puis aligne X sur grille 4 pixels avec offset de 6
+    ld hl, wPlayerX
+    ld a, [hl]
+    dec a                        ; X -= 2 pixels
+    dec a
+    and SCROLL_ALIGN_MASK        ; Aligner sur 4 pixels
+    or TILE_ALIGN_OFFSET         ; Ajoute offset +6
+    ld [hl], a
+
+    ; RAZ variables mouvement (wPlayerUnk07..09 = 0, wPlayerUnk0A = 1)
+    xor a
+    ld hl, wPlayerUnk07
+    ld [hl+], a                  ; wPlayerUnk07 = 0
+    ld [hl+], a                  ; wPlayerUnk08 = 0
+    ld [hl+], a                  ; wPlayerUnk09 = 0
+    ld [hl], $01                 ; wPlayerUnk0A = 1
+
+    ; Limite wPlayerUnk0C à 6 si >= 7
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    cp COLLISION_THRESHOLD_7
+    ret c
+
+    ld [hl], COLLISION_OFFSET_6
+    ret
+
+
+; CollisionHandler_Type5F_Entry
+; ------------------------------
+; Description: Handler de collision pour le tile type $5F (plateforme conditionnelle)
+; In:  hl = pointeur bloc collision
+; Out: Peut continuer vers CollisionHandler_Platform_Entry si valeur table non-nulle
+; Modifie: a, hl (temporairement via push/pop)
+CollisionHandler_Type5F_Entry:
+    ldh a, [hBlockHitType]
+    and a
+    ret nz
+
+    push hl
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    ld a, [hl]
+    pop hl
+    and a
+    ret z
+
+; CollisionHandler_Platform_Entry
+; --------------------------------
+; Description: Gère la collision avec une plateforme/tile interactive
+; In:  hl = adresse tile dans tilemap
+; Out: Peut sauter vers PlayerWaterCollisionEntry ou setup sprite/son
+; Modifie: a, bc, de, hl (via appels)
+CollisionHandler_Platform_Entry:
+    ldh a, [hBlockHitType]
+    and a
+    ret nz
+
+    push hl
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    ld a, [hl]
+    pop hl
+    and a
+    jp z, PlayerWaterCollisionEntry
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile $F0 = special/vide
+    jr z, HandleTileValueF0
+
+; TileC0Handler
+; -------------
+; Description: Gère collision avec blocs spéciaux (tile $C0). Vide le slot niveau,
+;              puis configure état collision coin si aucune collision active.
+; In:  a = valeur tile collision (doit être BLOCK_HIT_TYPE_SPECIAL = $C0)
+;      hl = adresse tile dans map
+; Out: wLevelConfig = SLOT_EMPTY, délégué à ApplyAltSpriteAttributeIfConfigSet ou PlatformCollisionSetup
+; Modifie: a, délégué aux handlers appelés
+TileC0Handler:
+    cp BLOCK_HIT_TYPE_SPECIAL
+    jr nz, HandleNonC0TileValue
+
+    ld a, SLOT_EMPTY
+    ld [wLevelConfig], a
+
+; PlatformCollisionSetup
+; ----------------------
+; Description: Configure collision plateforme si pas déjà active. Si hBlockHitType est 0,
+;              initialise l'état collision pièce et les paramètres associés.
+; In:  hBlockHitType = type collision actuelle (0 = pas de collision)
+;      wPlayerX = position X joueur
+;      wLevelConfig = configuration niveau courante
+; Out: wStateBuffer = STATE_BUFFER_COIN si collision initialisée
+;      hPtrHigh = position X joueur - offset
+;      hPtrBank, hPendingCoin = BLOCK_HIT_TYPE_SPECIAL ($C0)
+; Modifie: a
+PlatformCollisionSetup:
+    ldh a, [hBlockHitType]
+    and a
+    ret nz
+
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_OFFSET
+    ldh [hPtrHigh], a
+    ld a, BLOCK_HIT_TYPE_SPECIAL
+    ldh [hPtrBank], a
+    ldh [hPendingCoin], a
+    ld a, [wLevelConfig]
+    and a
+    jr nz, ApplyAltSpriteAttributeIfConfigSet
+
+; HandleTileValueF0
+; -----------------
+; Description: Gère collision avec tile valeur $F0 (tile vide/traversable spécial).
+;              Cache le sprite OAM et configure les propriétés de sprite standard.
+; In:  hl = adresse tile (conservé pour SetupSpriteProperties)
+; Out: (délégué à SetupSpriteProperties)
+; Modifie: a
+HandleTileValueF0:
+    ld a, OAM_SPRITE_HIDDEN
+    ld [wOamVar2E], a
+    jr SetupSpriteProperties
+
+; HandleNonC0TileValue
+; --------------------
+; Description: Gère collision avec tiles normales (valeur != $C0 et != $F0).
+;              Initialise sprite OAM, stocke adresse tile, calcule position sprite,
+;              et joue le son approprié selon le type de collision.
+; In:  a = valeur tile collision
+;      hl = adresse tile dans map
+; Out: (aucun retour spécifique)
+; Modifie: a, bc, de, hl, hTemp0, hSpriteAttr, hSpriteTile, hSoundParam1, hSoundParam2
+HandleNonC0TileValue:
+    ldh [hTemp0], a
+    ld a, OAM_SPRITE_HIDDEN
+    ld [wOamVar2E], a
+    ld a, STATE_BUFFER_DEFAULT
+    ld [wStateBuffer], a
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a
+    ret nz
+
+    ld [hl], PLAYER_UNK07_FALLING
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, d
+    ldh [hSpriteAttr], a
+    ld a, e
+    ldh [hSpriteTile], a
+    ld a, d
+    add BCD_TO_ASCII
+    ld d, a
+    ld a, [de]
+    ldh [hTemp0], a
+    call GetSpritePosFromTileAddr
+    ld hl, wOamVar2C
+    ld a, [wPlayerX]
+    sub PLAYER_X_SUB_OFFSET
+    ld [hl+], a
+    ldh [hSoundParam1], a
+    ldh [hRenderX], a
+    ldh a, [hShadowSCX]
+    ld b, a
+    ldh a, [hSpriteX]
+    ldh [hRenderY], a
+
+CalculateRelativeSpriteX:
+    sub b
+    ld [hl+], a
+    ldh [hSoundParam2], a
+    inc l
+    ld [hl], $00
+    ldh a, [hTemp0]
+    cp AUDIO_CMD_F0             ; Commande audio spéciale
+    ret z
+
+    cp SFX_BLOCK_HIT
+    jr nz, PlaySoundExit
+
+    ldh a, [hTimerAux]
+    cp PLAYER_UNK07_FALLING
+    ld a, SFX_BLOCK_HIT
+    jr nz, PlaySoundExit
+
+    ld a, SFX_BLOCK_HIT_ALT
+
+; PlaySoundExit
+; ----------------
+; Description: Point de sortie commun pour jouer un son et retourner
+; In:  a = identifiant du son à jouer (SFX_*)
+; Out: (aucun)
+; Modifie: a, bc, de, hl (via PlaySound)
+PlaySoundExit:
+    call PlaySound
+    ret
+
+; ApplyAltSpriteAttributeIfConfigSet
+; ----------------------------------
+; Description: Applique un attribut sprite alternatif (tile $82) si aucune
+;              collision bloc n'est active. Initialise le buffer d'état si
+;              nécessaire, puis continue vers SetupSpriteProperties.
+; In:  hBlockHitType = type collision active (0=aucune)
+;      wStateBuffer = buffer état
+;      hl = adresse tile (passée à SetupSpriteProperties)
+; Out: wOamVar2E = OAM_SPRITE_TILE_82 ($82) si pas de collision
+;      wStateBuffer = STATE_BUFFER_DEFAULT ($07) si était zéro
+; Modifie: a, puis appelle SetupSpriteProperties
+ApplyAltSpriteAttributeIfConfigSet:
+    ldh a, [hBlockHitType]
+    and a
+    ret nz
+
+    ld a, OAM_SPRITE_TILE_82
+    ld [wOamVar2E], a
+    ld a, [wStateBuffer]
+    and a
+    jr nz, SetupSpriteProperties
+
+    ld a, STATE_BUFFER_DEFAULT
+    ld [wStateBuffer], a
+
+; SetupSpriteProperties
+; ---------------------
+; Description: Configure propriétés sprite après collision tile.
+;              Sauvegarde adresse tile, configure état collision (chute),
+;              calcule position sprite depuis adresse tile, ajuste position
+;              selon joueur et scroll, et initialise variables de rendu.
+; In:  hl = adresse tile (dans tilemap)
+;      wPlayerX = position X joueur
+;      wOamVar2E = tile sprite déjà configuré par appelant
+;      hShadowSCX = scroll X actuel
+; Out: hBlockHitType = PLAYER_UNK07_FALLING ($02)
+;      hSpriteAttr, hSpriteTile = coordonnées tile (de/hl copié)
+;      hSpriteX = position X sprite calculée (via GetSpritePosFromTileAddr)
+;      wOamVar2C = position joueur ajustée (wPlayerX - $0b)
+;      wOamVar2D = position sprite relative au scroll
+;      wOamVar2F = $00
+;      hRenderX = position joueur ajustée
+;      hRenderY = position sprite Y
+;      hPtrLow = position relative scroll
+; Modifie: a, bc, de, hl
+SetupSpriteProperties:
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld [hl], PLAYER_UNK07_FALLING
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, d
+    ldh [hSpriteAttr], a
+    ld a, e
+    ldh [hSpriteTile], a
+    call GetSpritePosFromTileAddr
+    ld hl, wOamVar2C
+    ld a, [wPlayerX]
+    sub PLAYER_X_SUB_OFFSET
+    ld [hl+], a
+    ldh [hRenderX], a
+    ldh a, [hShadowSCX]
+    ld b, a
+    ldh a, [hSpriteX]
+    ld c, a
+    ldh [hRenderY], a
+    sub b
+    ld [hl+], a
+    inc l
+    ld [hl], $00
+    ldh [hPtrLow], a
+    ret
+
+; HandlePlayerUpCollision
+; -----------------------
+; Description: Gère collision vers le haut (joueur frappe un bloc).
+;              Vérifie s'il y a déjà une collision active, lit la valeur
+;              du bloc dans la zone haute mémoire (h + $30), et route vers
+;              TileC0Handler si bloc non-vide, sinon configure sprite coin.
+; In:  hl = adresse tile dans tilemap
+;      hBlockHitType = état collision (doit être 0 pour continuer)
+; Out: Si bloc vide: wStateBuffer = STATE_BUFFER_COIN, sprite configuré via SetupSpriteProperties
+;      Si bloc non-vide: délégué à TileC0Handler
+; Modifie: a, hl (temporairement), délégué aux handlers appelés
+HandlePlayerUpCollision:
+    ldh a, [hBlockHitType]
+    and a
+    ret nz
+
+    push hl
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    ld a, [hl]
+    pop hl
+    and a
+    jp nz, TileC0Handler
+
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    ld a, OAM_SPRITE_TILE_81
+    ld [wOamVar2E], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_OFFSET
+    ldh [hPtrHigh], a
+    ld a, BLOCK_HIT_TYPE_SPECIAL
+    ldh [hPtrBank], a
+    jr SetupSpriteProperties
+
+; CheckPlayerFeetCollision
+; ------------------------
+; Description: Vérifie collision des pieds du joueur avec les tiles du niveau.
+;              Teste deux points (gauche et droite des pieds) pour détecter sol,
+;              eau, plateformes et tiles spéciales. Gère transitions d'état.
+; In:  wPlayerUnk07 = état vertical joueur (doit être GROUNDED)
+;      wPlayerX = position X/Y du joueur, hShadowSCX = scroll camera
+; Out: (varie selon collision détectée - handlers appelés modifient états)
+; Modifie: a, bc, hl, hSpriteX, hSpriteY
+CheckPlayerFeetCollision:
+    ld a, [wPlayerUnk07]
+    cp PLAYER_UNK07_GROUNDED
+    ret nz
+
+    ld hl, wPlayerX
+    ld a, [hl+]
+    add FEET_COLLISION_OFFSET_Y
+    ldh [hSpriteY], a
+    ldh a, [hShadowSCX]
+    ld b, [hl]
+    add b
+    add FEET_COLLISION_ADJUST_X
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile type $5F ?
+    jp z, CollisionHandler_Type5F_Entry
+
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    jr nc, ClassifyTileTypeEntry
+
+    ldh a, [hSpriteX]
+    add COLLISION_ADJUST_X_NEG4
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile type $5F ?
+    jp z, CollisionHandler_Type5F_Entry
+
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    ret c
+
+ClassifyTileTypeEntry:
+    call ClassifyTileType
+    and a
+    ret z
+
+    cp TILEMAP_CMD_WATER        ; Tile eau $82 ?
+    jr z, HandlePlayerWaterCollision
+
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jp z, CollisionHandler_SpecialF4_Setup
+
+    cp TILEMAP_CMD_LOAD3        ; Tile type $81 ?
+    jr z, HandlePlayerUpCollision
+
+    cp TILEMAP_CMD_LOAD1        ; Tile type $80 ?
+    jp z, CollisionHandler_Platform_Entry
+
+    ld a, PLAYER_UNK07_FALLING
+    ld [wPlayerUnk07], a
+    ld a, STATE_BUFFER_DEFAULT
+    ld [wStateBuffer], a
+    ret
+
+
+; HandlePlayerWaterCollision / PlayerWaterCollisionEntry
+; -------------------------------------------------------
+; Description: Gère collision joueur avec eau (tile $82). Vérifie type bloc,
+;              mode timer, puis initialise objets et donne bonus si conditions OK
+; In:  hl = pointeur tilemap collision
+; Out: -
+; Modifie: af, bc, de, hl
+PlayerWaterCollisionEntry:
+HandlePlayerWaterCollision:
+    push hl
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    ld a, [hl]
+    pop hl
+    cp BLOCK_HIT_TYPE_SPECIAL   ; Type spécial ($C0) ?
+    jp z, PlatformCollisionSetup
+
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE      ; $02 = mode pipe/transition
+    jp nz, ApplyAltSpriteAttributeIfConfigSet
+
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a
+    ret nz
+
+    ld [hl], FLAG_TRUE          ; Marquer bloc touché
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld hl, wPlayerUnk10
+
+; InitializeGameObjects
+; ---------------------
+; Description: Initialise 4 objets actifs, désactive objets 4-5, ajoute bonus +50
+; In:  hl = pointeur vers premier objet à initialiser
+; Out: -
+; Modifie: af, bc, de, hl
+InitializeGameObjects:
+    ld de, OBJECT_STRUCT_SIZE
+    ld b, INIT_OBJECTS_LOOP_COUNT
+
+InitObjectsLoop:
+    push hl
+    ld [hl], $00
+    inc l
+    ld a, [wPlayerX]
+    add OBJECT_INIT_X_OFFSET
+    ld [hl], a
+    inc l
+    ld a, [wPlayerState]
+    add OBJECT_INIT_Y_OFFSET
+    ld [hl], a
+    inc l
+    inc l
+    inc l
+    inc l
+    inc l
+    ld [hl], FLAG_TRUE          ; Flag objet actif
+    inc l
+    ld [hl], STATE_BUFFER_DEFAULT ; État par défaut ($07)
+    pop hl
+    add hl, de
+    dec b
+    jr nz, InitObjectsLoop
+
+    ld hl, wObject2State
+    ld a, [hl]
+    sub MOVEMENT_OFFSET_4
+    ld [hl], a
+    ld hl, wObject4Unk0A
+    ld a, [hl]
+    sub MOVEMENT_OFFSET_4
+    ld [hl], a
+    ld hl, wObject4
+    ld [hl], OBJECT_STATE_INACTIVE
+    ld hl, wObject5
+    ld [hl], OBJECT_STATE_INACTIVE
+    ldh a, [hShadowSCX]
+    ldh [hRenderAttr], a
+    ld a, STATE_FINAL_COMPLETE
+    ld [wStateFinal], a
+    ld de, SCORE_BONUS_50
+    call AddScore
+    ld a, PLAYER_UNK07_FALLING
+    ld [wPlayerUnk07], a
+    ret
+
+
+; CollisionHandler_SpecialF4_Setup
+; ---------------------------------
+; Description: Gère collision avec tile pipe/tuyau ($F4). Si aucune collision
+;              n'est active, configure type spécial et sauvegarde coordonnées tile.
+; In:  hl = adresse tile pipe dans tilemap
+;      hBlockHitType = type collision active (doit être 0 pour initialiser)
+; Out: hBlockHitType = BLOCK_HIT_TYPE_SPECIAL ($C0)
+;      hBlockHitType+1,+2 = coordonnées tile (d,e sauvegardées)
+;      wStateBuffer = STATE_BUFFER_COIN ($05)
+; Modifie: a, de, hl
+CollisionHandler_SpecialF4_Setup:
+    push hl                         ; Sauvegarder hl
+    pop de                          ; de = adresse tile
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a                           ; Collision déjà active ?
+    ret nz                          ; Oui: ignorer
+
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL ; Marquer comme collision spéciale
+    inc l                           ; hBlockHitType+1
+    ld [hl], d                      ; Sauver hi byte adresse tile
+    inc l                           ; hBlockHitType+2
+    ld [hl], e                      ; Sauver lo byte adresse tile
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a            ; Activer état buffer coin
+    ret
+
+
+; -----------------------------------------------------------------------------
+; ClassifyTileType
+; ----------------
+; Description: Vérifie si un tile appartient à la table des tiles spéciaux du monde actuel
+;              Utilise ROM_WORLD_TILE_TABLE pour trouver la table du monde via hAnimTileIndex
+; In:  a = numéro du tile à classifier
+;      hAnimTileIndex = index monde/niveau (nibble haut = monde 1-4)
+; Out: a = 0 si tile trouvé dans la table, a inchangé sinon
+; Modifie: bc, de (de pointe sur l'entrée trouvée ou TABLE_END_MARKER)
+ClassifyTileType:
+    push hl
+    push af
+    ld b, a
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_HIGH_MASK         ; Isoler monde (bits hauts)
+    swap a
+    dec a
+    sla a
+    ld e, a
+    ld d, FLAG_FALSE
+    ld hl, ROM_WORLD_TILE_TABLE
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+
+SearchByteLoop:
+    ld a, [de]
+    cp TABLE_END_MARKER
+    jr z, TableMarkerFound
+
+    cp b
+    jr z, ByteMatched
+
+    inc de
+    jr SearchByteLoop
+
+TableMarkerFound:
+    pop af
+    pop hl
+    ret
+
+
+ByteMatched:
+    pop af
+    pop hl
+    xor a
+    ret
+
+
+; ROM_WORLD_TILE_TABLE ($1A8A)
+; -----------------------------
+; Description: Table de pointeurs vers listes de tiles spéciaux par monde
+;              Chaque monde a une liste de tile IDs terminée par $FD
+;              Utilisée pour classifier des tiles par monde (voir ClassifyTileType)
+; Format: 5 pointeurs (word) vers listes de tiles
+SECTION "ROM_WORLD_TILE_TABLE", ROM0[$1a8a]
+    dw World1_SpecialTiles  ; Monde 1 → $1A94
+    dw World2_SpecialTiles  ; Monde 2 → $1A99
+    dw World3_SpecialTiles  ; Monde 3 → $1A9E
+    dw World4_SpecialTiles  ; Monde 4 → $1AA0
+    dw World5_SpecialTiles  ; Monde 5 → $1AA2
+
+; Listes de tiles spéciaux par monde (terminées par TABLE_END_MARKER=$FD)
+World1_SpecialTiles:
+    db $68, $69, $6A, TILE_COMMON_SPECIAL, TABLE_END_MARKER
+
+World2_SpecialTiles:
+    db $60, $61, $63, TILE_COMMON_SPECIAL, TABLE_END_MARKER
+
+World3_SpecialTiles:
+    db TILE_COMMON_SPECIAL, TABLE_END_MARKER
+
+World4_SpecialTiles:
+    db TILE_COMMON_SPECIAL, TABLE_END_MARKER
+
+World5_SpecialTiles:
+    db TILE_COMMON_SPECIAL, TABLE_END_MARKER
+
+; CheckPlayerSideCollision
+; ------------------------
+; Description: Vérifie les collisions latérales du joueur avec les tiles
+;              Configure le nombre d'itérations selon le mode (pipe/normal)
+;              Détecte les collisions avec tuyaux, glissades, rebonds
+; In:  hGameState = état de jeu actuel
+;      hTimerAux = timer auxiliaire joueur
+;      wPlayerDir = direction du joueur
+;      wPlayerX, wPlayerUnk05 = position joueur
+;      hShadowSCX = scroll X
+; Out: a = RETURN_COLLISION_FOUND ($FF) si collision, 0 sinon
+;      wPlayerUnk0B = incrémenté si collision par défaut
+;      wPlayerUnk0E = PLAYER_UNK07_FALLING si collision
+;      hBlockHitType, hBlockHitCoord = mis à jour si collision spike/pipe
+; Modifie: a, bc, de, hl
+CheckPlayerSideCollision:
+    ldh a, [hGameState]
+    cp GAME_STATE_DEMO      ; État >= $0E (démo) ?
+    jr nc, NoCollisionFound
+
+    ld de, COLLISION_SIDE_CONFIG_1  ; D=$07 (offset Y), E=$01 (1 itération)
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE
+    jr nz, CollisionConfig_Offset1
+
+    ld a, [wPlayerDir]
+    cp PLAYER_DIR_LEFT
+    jr z, CollisionConfig_Offset1
+
+    ld de, COLLISION_SIDE_CONFIG_2  ; D=$07 (offset Y), E=$02 (2 itérations)
+
+CollisionConfig_Offset1:
+    ld hl, wPlayerX
+    ld a, [hl+]
+    add d
+    ldh [hSpriteY], a
+    ld a, [wPlayerUnk05]
+    ld b, [hl]
+    ld c, COLLISION_SIDE_X_NEG
+    and a
+    jr nz, CollisionConfig_Offset2
+
+    ld c, COLLISION_SIDE_X_POS
+
+CollisionConfig_Offset2:
+    ld a, c
+    add b
+    ld b, a
+    ldh a, [hShadowSCX]
+    add b
+    ldh [hSpriteX], a
+    push de
+    call ReadTileUnderSprite
+    call ClassifyTileType
+    pop de
+    and a
+    jr z, NoCollisionRestartLoop
+
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    jr c, NoCollisionRestartLoop
+
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr z, HandlePlayerSpikeCollision
+
+    cp TILEMAP_CMD_SLIDE        ; Tile glissade $77 ?
+    jr z, HandlePlayerSlideCollision
+
+    cp TILEMAP_CMD_BOUNCE       ; Tile rebond $F2 ?
+    jr z, TriggerBlockCollisionSound_TimerCheck
+
+; CollisionDefaultHandler
+; -----------------------
+; Description: Handler de collision par défaut pour tiles normaux
+;              Configure état de chute et incrémente compteur de collision
+; In:  -
+; Out: a = RETURN_COLLISION_FOUND ($FF)
+; Modifie: a, hl
+CollisionDefaultHandler:
+    ld hl, wPlayerUnk0B
+    inc [hl]
+    ld a, PLAYER_UNK07_FALLING
+    ld [wPlayerUnk0E], a
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+NoCollisionRestartLoop:
+    ld d, COLLISION_LOOP_RESET
+    dec e
+    jr nz, CollisionConfig_Offset1
+
+NoCollisionFound:
+    xor a
+    ret
+
+
+; HandlePlayerSpikeCollision
+; --------------------------
+; Description: Gère collision joueur avec tuyau/spike (tile $F4)
+;              Configure type collision spécial et buffer d'état
+; In:  hl = adresse mémoire à sauvegarder
+; Out: a = 0 (pas de collision détectée en retour)
+; Modifie: de, hl
+HandlePlayerSpikeCollision:
+    push hl
+    pop de                          ; de = hl (sauvegarde adresse)
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a                           ; Vérifier si type déjà défini
+    ret nz                          ; Si oui, sortir sans rien faire
+
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL ; Type spécial (annule animation objet)
+    inc l                           ; hBlockHitType+1
+    ld [hl], d                      ; Sauver hi byte adresse
+    inc l                           ; hBlockHitType+2
+    ld [hl], e                      ; Sauver lo byte adresse
+    ld a, STATE_BUFFER_COIN         ; État buffer $05
+    ld [wStateBuffer], a
+    xor a                           ; a = 0
+    ret
+
+
+; HandlePlayerSlideCollision
+; --------------------------
+; Description: Gère collision du joueur avec une tile glissante/tuyau descendant
+;              Si VBlank mode actif, déclenche transition vers mode pipe descendant
+;              Sinon, délègue au handler de collision par défaut
+; In:  hVBlankMode = mode VBlank (0 = inactif)
+;      wPlayerState = position Y du joueur (pointée par HL après décrément)
+; Out: hGameState = GAME_STATE_PIPE_DOWN (si VBlank actif)
+;      wPlayerFlag = PLAYER_FLAG_PIPE_MODE (si VBlank actif)
+;      hVBlankSelector = position Y calculée pour pipe
+;      a = RETURN_COLLISION_FOUND (si transition pipe effectuée)
+; Modifie: a, hl
+HandlePlayerSlideCollision:
+    ldh a, [hVBlankMode]
+    and a
+    jr z, CollisionDefaultHandler
+
+    ld a, GAME_STATE_PIPE_DOWN
+    ldh [hGameState], a
+    ld a, PLAYER_FLAG_PIPE_MODE
+    ld [wPlayerFlag], a
+    ld hl, wPlayerState
+    ld a, [hl-]
+    add PIPE_OFFSET_Y
+    ldh [hVBlankSelector], a
+    ld a, [hl]
+    and TILE_ALIGN_MASK          ; Aligner sur tile (8 pixels)
+    add TILE_ALIGN_OFFSET
+    ld [hl], a
+    call ClearOamAndSpriteBuffers
+    ld a, RETURN_COLLISION_FOUND
+    ret
+; TriggerBlockCollisionSound_TimerDispatch
+; ----------------------------------------
+; Description: Gère collision bloc avec masquage direction joueur selon timer
+;              Si timer actif (joueur en chute), masque direction avec $FF
+;              Sinon réinitialise timer et masque avec $0F
+;              Configure état d'attente, rendu et audio selon conditions
+; In:  hTimerAux = état timer joueur
+;      wPlayerDir = direction/mode actuel du joueur
+;      wAudioCondition = condition audio active
+; Out: hGameState = GAME_STATE_WAIT_PROCESS
+;      wPlayerY = 0
+;      wSpecialState = 0
+;      rTMA = 0 (registre timer audio)
+; Modifie: a, b
+
+TriggerBlockCollisionSound:
+TriggerBlockCollisionSound_TimerDispatch:
+TriggerBlockCollisionSound_TimerCheck:
+    ldh a, [hTimerAux]
+    cp PLAYER_UNK07_FALLING
+    ld b, SLOT_EMPTY
+    jr z, TriggerBlockCollisionSound_TimerCheck_IsTwo
+
+    ld b, OAM_CLEAR_LOOP_COUNT_F
+    xor a
+    ldh [hTimerAux], a
+
+TriggerBlockCollisionSound_TimerCheck_IsTwo:
+    ld a, [wPlayerDir]
+    and b
+    ld [wPlayerDir], a
+    ld b, a
+    and NIBBLE_LOW_MASK          ; Isoler mode direction
+    cp PLAYER_MODE_GAMEPLAY
+    jr nc, TriggerBlockCollisionSound_ApplyMask
+
+    ld a, b
+    and NIBBLE_HIGH_MASK         ; Garder bits hauts
+    ld [wPlayerDir], a
+
+TriggerBlockCollisionSound_ApplyMask:
+    ld a, GAME_STATE_WAIT_PROCESS
+    ldh [hGameState], a
+    ld a, [wAudioCondition]
+    and a
+    jr nz, TriggerBlockCollisionSound_AudioCheck
+
+    ld a, STATE_RENDER_ACTIVE
+    ld [wStateRender], a
+    ld a, TIMER_CREDITS_LONG
+    ldh [hTimer1], a
+
+TriggerBlockCollisionSound_AudioCheck:
+    call ClearOamAndSpriteBuffers
+    xor a
+    ld [wPlayerY], a
+    ld [wSpecialState], a
+    ldh [rTMA], a
+    ret
+; ProcessBlockCollision
+; ---------------------
+; Description: Gère les collisions avec les blocs frappés par le joueur.
+;              Traite différents types de blocs (cassables, pièces, items, spéciaux)
+;              et collecte les pièces en attente. Met à jour la tilemap selon le type.
+; In:  hBlockHitType = type de collision bloc ($01=soft, $02=coin, $04=item, $C0=special)
+;      hPendingCoin = flag pièce en attente de collection
+;      wOamVar2E = type de tile ($82=eau, $81=special)
+;      hBlockHitType+1,+2 = pointeur vers la tile à modifier (DE)
+; Out: Tilemap modifiée selon le type de bloc
+;      wCoinUpdateDone = 0 (réinitialisé), puis possiblement modifié par CollectCoin
+;      hBlockHitType = BLOCK_HIT_NONE ($00) après traitement
+; Modifie: a, b, de, hl
+ProcessBlockCollision:
+    xor a
+    ld [wCoinUpdateDone], a
+    ldh a, [hPendingCoin]
+    and a
+    call nz, CollectCoin
+    ld hl, hBlockHitType
+    ld a, [hl]
+    cp BLOCK_HIT_SOFT           ; Bloc cassable ?
+    jr z, ProcessBlockCollision_HandleSoftBlock
+
+    cp BLOCK_HIT_COIN           ; Bloc pièce ?
+    jp z, BlockCollision_CoinProcess
+
+    cp BLOCK_HIT_TYPE_SPECIAL   ; Type spécial $C0 ?
+    jr z, ProcessBlockCollision_HandleSoftBlock
+
+    cp BLOCK_HIT_ITEM           ; Bloc item ?
+    ret nz
+
+    ld [hl], $00
+    inc l
+    ld d, [hl]
+    inc l
+    ld e, [hl]
+    ld a, [wOamVar2E]
+    cp TILEMAP_CMD_WATER        ; Tile eau $82 ?
+    jr z, ProcessBlockCollision_IsType82
+
+    cp TILEMAP_CMD_LOAD3        ; Tile type $81 ?
+    call z, CollectCoin
+    ld a, TILE_WATER_REPLACED
+
+ProcessBlockCollision_IsType82:
+    ld [de], a
+    ret
+
+
+ProcessBlockCollision_HandleSoftBlock:
+    ld b, [hl]
+    ld [hl], $00
+
+; ProcessBlockCollision_CommonExit
+; ---------------------------------
+; Description: Point d'entrée commun pour terminer le traitement de collision bloc.
+;              Copie une tile vide dans la tilemap, vérifie si c'est un tuyau spécial
+;              et gère la collecte de pièce dans ce cas. Utilisé par HandleSoftBlock
+;              et CoinProcess pour partager la logique de fin.
+; In:  b = type de bloc (BLOCK_HIT_TYPE_SPECIAL ou autre)
+;      hl = pointeur vers hBlockHitType (état du bloc)
+;      [hl+1,hl+2] = pointeur DE vers la position tilemap à effacer
+; Out: Tilemap modifiée avec TILE_EMPTY
+;      Si tile tuyau ($F4) détectée: hSpriteAttr/Tile, hPtrLow/High/Bank configurés
+; Modifie: a, b, de, hl
+ProcessBlockCollision_CommonExit:
+    inc l
+    ld d, [hl]
+    inc l
+    ld e, [hl]
+    ld a, TILE_EMPTY
+    ld [de], a
+    ld a, b
+    cp BLOCK_HIT_TYPE_SPECIAL
+    jr z, ProcessBlockCollision_Special
+
+    ld hl, hVramPtrLow
+    add hl, de
+    ld a, [hl]
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    ret nz
+
+    ld [hl], TILE_EMPTY
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    ld a, h
+    ldh [hSpriteAttr], a
+    ld a, l
+    ldh [hSpriteTile], a
+    call GetSpritePosFromTileAddr
+    ldh a, [hShadowSCX]
+    ld b, a
+    ldh a, [hSpriteX]
+    sub b
+    ldh [hPtrLow], a
+    ldh a, [hSpriteY]
+    add OBJECT_COLLISION_RANGE
+    ldh [hPtrHigh], a
+    ld a, BLOCK_HIT_TYPE_SPECIAL
+    ldh [hPtrBank], a
+    call CollectCoin
+    ret
+
+; BlockCollision_CoinProcess
+; ---------------------------
+; Description: Traite la collision avec un bloc pièce (type $03) - marque le bloc
+;              comme vide et continue le traitement standard via CommonExit
+; In:  hl = pointeur vers l'état du bloc
+; Out: rien
+; Modifie: a (via jr vers ProcessBlockCollision_CommonExit)
+BlockCollision_CoinProcess:
+    ld [hl], BLOCK_STATE_EMPTY
+    jr ProcessBlockCollision_CommonExit
+
+; ProcessBlockCollision_Special
+; ------------------------------
+; Description: Gère les blocs spéciaux (type BLOCK_HIT_TYPE_SPECIAL=$C0).
+;              Collecte une pièce sans autre traitement additionnel.
+; In:  rien (implicite: contexte de collision bloc spécial)
+; Out: rien
+; Modifie: a, bc, de, hl (via CollectCoin)
+ProcessBlockCollision_Special:
+    call CollectCoin
+    ret
+
+
+; CollectCoin
+; -----------
+; Description: Collecte une pièce - ajoute les points au score et incrémente le compteur
+;              de pièces (format BCD). Gère l'overflow à 99 pièces (retour à 00).
+; In:  rien (lit hCoinCount, écrit via AddScore et dans hCoinCount)
+; Out: hCoinCount incrémenté (BCD), score += POINTS_PER_COIN
+;      wUpdateCounter = 1 si overflow (passage de 99 à 00)
+;      hPendingCoin = 0 (remis à zéro après collection)
+;      wCoinUpdateDone = 1 (marque l'affichage comme mis à jour)
+; Modifie: a, b, de, hl (via AddScore et UpdateCoinDisplay)
+CollectCoin:
+    ReturnIfLocked
+
+    push de
+    push hl
+    ld de, POINTS_PER_COIN
+    call AddScore
+    pop hl
+    pop de
+    ldh a, [hCoinCount]
+    add FLAG_TRUE              ; Incrément BCD +1
+    daa                        ; Ajustement décimal (99 + 1 = 00 avec carry)
+    ldh [hCoinCount], a
+    and a                      ; Vérifier si = 0 (overflow de 99 à 00)
+    jr nz, UpdateCoinDisplay
+
+    inc a                      ; Si overflow: wUpdateCounter = 1
+    ld [wUpdateCounter], a
+
+; UpdateCoinDisplay
+; -----------------
+; Description: Met à jour l'affichage du compteur de pièces en VRAM
+; In:  rien (lit hCoinCount)
+; Out: rien
+; Modifie: a, b
+UpdateCoinDisplay:
+    ldh a, [hCoinCount]
+    ld b, a
+    and NIBBLE_LOW_MASK          ; Chiffre unités
+    ld [VRAM_COIN_UNITS], a
+    ld a, b
+    and NIBBLE_HIGH_MASK         ; Chiffre dizaines
+    swap a
+    ld [VRAM_COIN_TENS], a
+    xor a
+    ldh [hPendingCoin], a
+    inc a
+    ld [wCoinUpdateDone], a
+    ret
+
+
+; =============================================================================
+; UpdateLivesDisplay - UpdateLivesDisplay
+; =============================================================================
+; QUOI : Met à jour l'affichage du compteur de vies/niveau à l'écran.
+;
+; ALGORITHME :
+;   1. Vérifie hUpdateLockFlag == 0 (pas bloqué)
+;   2. Vérifie wUpdateCounter ($C0A3) != 0 (update demandée)
+;   3. Si wLivesCounter == $99, c'est le max → ne pas incrémenter
+;   4. Si wUpdateCounter == $FF, décrémente le compteur (perte de vie)
+;   5. Sinon incrémente le compteur (gain de vie) avec DAA (BCD)
+;   6. Affiche les chiffres BCD aux positions $9806-$9807
+;   7. Si compteur tombe à 0, déclenche état spécial ($39 = game over?)
+;   8. Remet wUpdateCounter à 0
+;
+; ENTRÉE : wUpdateCounter ($C0A3) = direction ($FF=down, autre=up)
+; SORTIE : wLivesCounter ($DA15) mis à jour, tilemap modifié
+; MODIFIE : A, B
+; =============================================================================
+UpdateLivesDisplay:
+    ReturnIfLocked
+
+    ld a, [wUpdateCounter]
+    or a
+    ret z
+
+    cp UPDATE_DECREMENT
+    ld a, [wLivesCounter]
+    jr z, DisplayLivesDecrement
+
+    cp BCD_MAX_DIGIT
+    jr z, ClearUpdateCounter
+
+    push af
+    ld a, GAME_STATE_CENTER
+    ld [wStateBuffer], a
+    ldh [hAudioCh2Param], a
+    pop af
+    add $01
+
+; DisplayLivesDAA
+; ---------------
+; Description: Applique DAA pour ajuster le résultat BCD et sauvegarde dans wLivesCounter
+; In:  a = valeur BCD brute après add/sub
+; Out: wLivesCounter = valeur BCD corrigée
+; Modifie: a
+DisplayLivesDAA:
+    daa
+    ld [wLivesCounter], a
+
+; DisplayLivesCount
+; ----------------
+; Description: Affiche le nombre de vies au format BCD dans le HUD
+; In:  wLivesCounter = compteur de vies en BCD (ex: $25 = 25 vies)
+; Out: VRAM mis à jour avec chiffres des dizaines et unités
+; Modifie: a, b
+DisplayLivesCount:
+    ld a, [wLivesCounter]
+    ld b, a
+    and NIBBLE_LOW_MASK          ; Chiffre unités vies
+    ld [VRAM_SCORE_POS2], a
+    ld a, b
+    and NIBBLE_HIGH_MASK         ; Chiffre dizaines vies
+    swap a
+    ld [VRAM_SCORE_POS1], a
+
+; ClearUpdateCounter
+; ------------------
+; Description: Réinitialise le compteur de mise à jour à zéro
+; In:  Aucun
+; Out: wUpdateCounter = 0
+; Modifie: a
+ClearUpdateCounter:
+    xor a
+    ld [wUpdateCounter], a
+    ret
+
+
+; DisplayLivesGameOver
+; --------------------
+; Description: Déclenche le Game Over (état $39) et réinitialise le compteur
+; In:  Aucun
+; Out: hGameState = GAME_STATE_GAME_OVER, wUpdateCounter = 0
+; Modifie: a
+DisplayLivesGameOver:
+    ld a, GAME_STATE_GAME_OVER
+    ldh [hGameState], a
+    ld [wROMBankInit], a
+    jr ClearUpdateCounter
+
+; DisplayLivesDecrement
+; ---------------------
+; Description: Décrémente le compteur de vies de 1 (en BCD), Game Over si 0
+; In:  a = nombre de vies actuel (BCD)
+; Out: wLivesCounter mis à jour, ou Game Over déclenché si vies=0
+; Modifie: a
+DisplayLivesDecrement:
+    and a
+    jr z, DisplayLivesGameOver
+
+    sub $01
+    jr DisplayLivesDAA
+
+; State39_GameOver
+; ----------------
+; Description: Affiche l'écran GAME OVER, sauvegarde le score dans la config,
+;              clear le buffer OAM et configure la window pour affichage
+; In:  hAnimTileIndex = index animation tile
+;      wScoreBCD = score BCD à sauvegarder
+;      wGameConfigA6 = configuration précédente
+; Out: wStateRender = STATE_RENDER_GAME_OVER
+;      wGameConfigA6 = config mise à jour avec score
+;      hGameState = incrémenté (passage à l'état suivant)
+; Modifie: a, b, c, de, hl
+State39_GameOver::
+    ld hl, _SCRN1
+    ld de, ROM_TEXT_GAME_OVER
+    ld b, TEXT_GAME_OVER_SIZE
+
+.loopWriteTile:
+    ld a, [de]
+    ld c, a
+
+    WAIT_FOR_HBLANK
+    WAIT_FOR_HBLANK
+    ld [hl], c
+    inc l
+    inc de
+    dec b
+    jr nz, .loopWriteTile
+
+    ld a, STATE_RENDER_GAME_OVER
+    ld [wStateRender], a
+    ldh a, [hAnimTileIndex]
+    ld [wAnimTileIdx], a
+    ld a, [wScoreBCD]
+    and NIBBLE_HIGH_MASK         ; Nibble haut du score BCD
+    swap a
+    ld b, a
+    ld a, [wGameConfigA6]
+    add b
+    cp CONFIG_VALUE_MAX
+    jr c, State39_StoreConfigValue
+
+    ld a, CONFIG_VALUE_CLAMP
+
+State39_StoreConfigValue:
+    ld [wGameConfigA6], a
+    ld hl, wOamBuffer
+    xor a
+    ld b, OAM_BUFFER_FULL
+
+State39_ClearOAMBuffer:
+    ld [hl+], a
+    dec b
+    jr nz, State39_ClearOAMBuffer
+
+    ld [wSpecialState], a
+    ldh [rTMA], a
+    ld hl, rWY              ; Window Y position
+    ld [hl], WY_GAME_OVER
+    inc hl
+    ld [hl], WX_GAME_OVER
+    ld a, SLOT_EMPTY
+    ldh [hOAMIndex], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; GameOverText
+; ------------
+; Description: Tilemap pour affichage "GAME OVER" dans la window (17 bytes)
+; Format: Indices de tiles pour affichage dans la window layer
+; Contenu: "     GAME  OVER  " (5 espaces + GAME + 2 espaces + OVER + 2 espaces)
+;          $2C = tile espace, lettres mappées sur indices tiles
+GameOverText:
+    db $2C, $2C, $2C, $2C, $2C  ; 5 espaces
+    db $10, $0A, $16, $0E       ; "GAME" (G=0x10, A=0x0A, M=0x16, E=0x0E)
+    db $2C, $2C                 ; 2 espaces
+    db $18, $1F, $0E, $1B       ; "OVER" (O=0x18, V=0x1F, E=0x0E, R=0x1B)
+    db $2C, $2C                 ; 2 espaces finaux
+
+; ===========================================================================
+; État $3A - Mise à jour window ($1CDF)
+; ===========================================================================
+; State3A_WindowUpdate
+; --------------------
+; Description: Vérifie le flag d'animation terminée et configure l'état crédits
+; In:  -
+; Out: -
+; Modifie: af (via SetupCreditsState si flag actif)
+State3A_WindowUpdate::
+    ld a, [wPlayerVarAD]
+    and a
+    call nz, SetupCreditsState
+    ret
+
+; ===========================================================================
+; État $3B - Setup window finale ($1CE7)
+; Copie 9 bytes vers $9C00 (window), active window, configure timer
+; ===========================================================================
+; State3B_WindowSetup
+; -------------------
+; Description: Configure la fenêtre Game Boy (window layer) en copiant
+;              les données texte vers VRAM $9C00, active le bit window
+;              dans LCDC, et initialise le timer
+; In:  Rien
+; Out: Rien
+; Modifie: a, bc, de, hl
+State3B_WindowSetup::
+    ld hl, _SCRN1
+    ld de, ROM_TEXT_WINDOW_DATA
+    ld c, TEXT_WINDOW_DATA_SIZE
+
+.copyLoop:
+    ld a, [de]
+    ld b, a
+
+    WAIT_FOR_HBLANK
+    ld [hl], b
+    inc l
+    inc de
+
+    dec c
+    jr nz, .copyLoop
+
+    ld hl, rLCDC
+    set 5, [hl]                    ; Active window layer (bit 5 LCDC)
+    ld a, TIMER_WINDOW_SETUP
+    ldh [hTimer1], a
+    ld hl, hGameState
+    inc [hl]
+    ret
+
+; ROM_TEXT_WINDOW_DATA ($1D0B)
+; -----------------------------
+; Description: Données texte de 9 octets copiées vers la window ($9C00)
+;              Ces tiles sont affichés dans la window layer
+; Format: 9 octets de tile IDs
+ROM_TEXT_WINDOW_DATA::
+    db $2c, $1d, $12, $16, $0e, $2c, $1e, $19, $2c
+
+    ldh a, [hTimer1]
+    and a
+    ret nz
+
+    ld a, GAME_STATE_RESET
+    ldh [hGameState], a
+    ret
+
+
+; ProcessAnimationState
+; ---------------------
+; Description: Traite l'état d'animation et de mouvement du joueur en fonction
+;              des inputs joypad (gauche/droite/haut). Gère l'accélération,
+;              la décélération, les timers de mouvement et la direction du joueur.
+;              Applique les effets d'oscillation pour le mouvement fluide.
+; In:  hJoypadState = état boutons joypad (bits 7=Haut, 5=Droite, 4=Gauche)
+;      wPlayerUnk0C = compteur accélération (0-6)
+;      wPlayerUnk0D = flag état animation/timer
+;      wPlayerUnk07 = état chute/saut joueur
+;      wPlayerDir = direction actuelle du joueur
+;      hTimerAux = timer auxiliaire (détecte mode pipe si = $02)
+; Out: wPlayerDir = direction mise à jour selon input
+;      wPlayerUnk0C = compteur accélération ajusté
+;      wPlayerUnk0D = timer/flag animation mis à jour
+;      hShadowSCX = scroll X ajusté avec oscillation
+;      wPlayerState = état joueur (oscillation)
+; Modifie: a, bc, de, hl
+ProcessAnimationState:
+    ld hl, wPlayerUnk0D
+    ld a, [hl]
+    cp FLAG_TRUE
+    jr nz, ProcessAnimationState_CheckType
+
+    dec l
+    ld a, [hl]
+    and a
+    jr nz, ProcessAnimationState_DecrementFlag
+
+    inc l
+    ld [hl], $00
+    jr ResetPlayerDirection
+
+ProcessAnimationState_DecrementFlag:
+    dec [hl]
+    ret
+
+
+ProcessAnimationState_CheckType:
+    ld hl, wPlayerUnk0C
+    ld a, [hl+]
+    cp PLAYER_ACCEL_COUNTER_MAX  ; Compteur accélération max (6)
+    jr nz, ProcessAnimationState_AfterTypeCheck
+
+    inc l
+    ld a, [hl]
+    and a
+    jr nz, ProcessAnimationState_AfterTypeCheck
+
+    ld [hl], PLAYER_UNK07_FALLING ; État chute ($02)
+
+ProcessAnimationState_AfterTypeCheck:
+    ld de, wPlayerUnk07
+    ldh a, [hJoypadState]
+    bit 7, a
+    jr nz, ProcessAnimationState_JoypadUp
+
+ProcessAnimationState_JoypadTests:
+    bit 4, a
+    jr nz, ProcessAnimationState_JoypadLeft
+
+    bit 5, a
+    jp nz, HandleJoypadRight
+
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    and a
+    jr z, ProcessAnimationState_ResetAnimation
+
+    xor a
+    ld [wPlayerUnk0E], a
+    dec [hl]
+    inc l
+    ld a, [hl]
+    jr ProcessAnimationState_JoypadTests
+
+ProcessAnimationState_ResetAnimation:
+    inc l
+    ld [hl], $00
+    ld a, [de]
+    and a
+    ret nz
+
+ResetPlayerDirection:
+    ld a, [wPlayerUnk07]
+    and a
+    ret nz
+
+    ld hl, wPlayerDir
+    ld a, [hl]
+    and NIBBLE_HIGH_MASK
+    ld [hl], a
+    ld a, FLAG_TRUE
+    ld [wPlayerUnk0B], a
+    xor a
+    ld [wPlayerUnk0E], a
+    ret
+
+
+ProcessAnimationState_JoypadUp:
+    push af
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_PIPE_MODE      ; $02 = mode pipe/transition
+    jr nz, ProcessAnimationState_JoypadUp_ContinueTests
+
+    ld a, [de]
+    and a
+    jr nz, ProcessAnimationState_JoypadUp_ContinueTests
+
+    ld a, PLAYER_DIR_LEFT
+    ld [wPlayerDir], a
+    ldh a, [hJoypadState]
+    and JOYPAD_LR_MASK          ; Test gauche/droite pressé
+    jr nz, ProcessAnimationState_JoypadUp_ResetAndReturn
+
+    ld a, [wPlayerUnk0C]
+    and a
+    jr z, ProcessAnimationState_JoypadUp_ResetAndReturn
+
+ProcessAnimationState_JoypadUp_ContinueTests:
+    pop af
+    jr ProcessAnimationState_JoypadTests
+
+ProcessAnimationState_JoypadUp_ResetAndReturn:
+    xor a
+    ld [wPlayerUnk0C], a
+    pop af
+    ret
+
+
+ProcessAnimationState_JoypadLeft:
+    ld hl, wPlayerUnk0D
+    ld a, [hl]
+    cp PLAYER_DIR_CHECK_LEFT     ; Vérifie direction gauche confirmée ($20)
+    jr nz, ProcessAnimationState_JoypadLeft_CheckCollision
+
+    jp HandleJoypadRight_Setup
+
+
+ProcessAnimationState_JoypadLeft_CheckCollision:
+    ld hl, wPlayerUnk05
+    ld [hl], FLAG_FALSE
+    call CheckPlayerSideCollision
+    and a
+    ret nz
+
+    ldh a, [hJoypadState]
+    bit 4, a
+    jr z, ProcessAnimationState_JoypadLeft_Done
+
+    ld a, [wPlayerDir]
+    cp PLAYER_DIR_LEFT
+    jr nz, ProcessAnimationState_JoypadLeft_Increment
+
+    ld a, [wPlayerDir]
+    and NIBBLE_HIGH_MASK         ; Garder bits hauts direction
+    or $01
+    ld [wPlayerDir], a
+
+ProcessAnimationState_JoypadLeft_Increment:
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    cp PLAYER_ACCEL_COUNTER_MAX  ; Compteur accélération max (6)
+    jr z, ProcessAnimationState_JoypadLeft_Done
+
+    inc [hl]
+    inc l
+    ld [hl], PLAYER_ACCEL_TIMER_LEFT  ; Timer mouvement gauche (16)
+
+ProcessAnimationState_JoypadLeft_Done:
+    ld hl, wPlayerState
+    ldh a, [hVBlankMode]
+    and a
+    jr nz, CheckOscillationCollision_Skip
+
+    ld a, [wCollisionFlag]
+    cp COLLISION_THRESHOLD_7    ; Seuil collision 7
+    jr c, CheckOscillationCollision_CheckScroll
+
+    ldh a, [hShadowSCX]
+    and BITS_2_3_MASK           ; Masque bits 2-3 (alignement 4 pixels)
+    jr z, CheckOscillationCollision_Skip
+
+CheckOscillationCollision_CheckScroll:
+    ld a, SCROLL_THRESHOLD_OSCIL
+    cp [hl]
+    jr nc, CheckOscillationCollision_Skip
+
+    call GetOscillatingOffset
+    ld b, a
+    ld hl, hShadowSCX
+    add [hl]
+    ld [hl], a
+    call OffsetSpritesY
+    call OffsetSpritesX
+    ld hl, wOamAttrY
+    ld de, OAM_ENTRY_SIZE
+    ld c, OAM_SPRITE_LOOP_3
+
+CheckOscillationCollision_LoopSprites:
+    ld a, [hl]
+    sub b
+    ld [hl], a
+    add hl, de
+    dec c
+    jr nz, CheckOscillationCollision_LoopSprites
+
+CheckOscillationCollision_Done:
+    ld hl, wPlayerUnk0B
+    inc [hl]
+    ret
+
+
+CheckOscillationCollision_Skip:
+    call GetOscillatingOffset
+    add [hl]
+    ld [hl], a
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY
+    jr z, CheckOscillationCollision_Done
+
+    ld a, [wCollisionFlag]
+    and a
+    jr z, CheckOscillationCollision_Done
+
+    ldh a, [hShadowSCX]
+    and SCROLL_ALIGN_MASK        ; Aligner scroll sur 4 pixels
+    ldh [hShadowSCX], a
+    ld a, [hl]
+    cp PLAYER_X_RIGHT            ; Position >= 160px (zone droite)
+    jr c, CheckOscillationCollision_Done
+
+    jp TriggerBlockCollisionSound_TimerCheck
+
+
+; HandleJoypadRight
+; ----------------
+; Description: Gère le mouvement du joueur vers la droite en réponse au joypad.
+;              Initialise les paramètres de mouvement ou délègue à HandlePlayerMovement.
+; In:  wPlayerUnk0D = timer d'accélération actuel
+;      hJoypadState = état du joypad
+; Out: wPlayerDir = direction mise à jour si initialisation
+;      wPlayerUnk0B, wPlayerUnk0C = compteurs d'oscillation mis à jour
+; Modifie: a, hl
+HandleJoypadRight:
+    ld hl, wPlayerUnk0D
+    ld a, [hl]
+    cp PLAYER_ACCEL_TIMER_LEFT   ; Vérifie timer mouvement ($10)
+    jr nz, HandlePlayerMovement
+
+; HandleJoypadRight_Setup
+; -----------------------
+; Description: Configure l'état initial pour le mouvement vers la droite.
+;              Active les timers, configure la direction et les compteurs d'oscillation.
+; In:  hl = pointeur vers wPlayerUnk0D
+;      wPlayerUnk07 = flag de blocage mouvement
+; Out: wPlayerUnk0D = FLAG_TRUE (timer activé)
+;      wPlayerUnk0C = TILE_SIZE_PIXELS (offset mouvement)
+;      wPlayerDir = direction mise à jour avec sous-mode droite
+;      wPlayerUnk0B = FLAG_TRUE (oscillation activée)
+; Modifie: a, hl
+HandleJoypadRight_Setup:
+    ld [hl], FLAG_TRUE
+    dec l
+    ld [hl], TILE_SIZE_PIXELS
+    ld a, [wPlayerUnk07]
+    and a
+    ret nz
+
+    ld hl, wPlayerDir
+    ld a, [hl]
+    and NIBBLE_HIGH_MASK
+    or PLAYER_DIR_RIGHT_SUBMODE
+    ld [hl], a
+    ld a, FLAG_TRUE
+    ld [wPlayerUnk0B], a
+    ret
+
+
+; HandlePlayerMovement
+; -------------------
+; Description: Applique le mouvement horizontal du joueur avec gestion d'oscillation.
+;              Vérifie les collisions latérales et applique l'offset d'oscillation.
+; In:  wPlayerState = état du joueur
+;      hJoypadState = état du joypad (bit 5 = mouvement latéral)
+; Out: wPlayerUnk05 = timer mouvement droite
+;      wPlayerState = état oscillation mis à jour
+;      wPlayerUnk0B = compteur Y oscillation décrémenté
+; Modifie: a, bc, de, hl
+HandlePlayerMovement:
+    ld hl, wPlayerUnk05
+    ld [hl], PLAYER_ACCEL_TIMER_RIGHT  ; Timer mouvement droite ($20)
+    call CheckPlayerSideCollision
+    and a
+    ret nz
+
+    ld hl, wPlayerState
+    ld a, [hl]
+    cp PLAYER_STATE_OSCIL_THRESH  ; Seuil oscillation ($0F)
+    jr c, DecrementOscillationYCounter
+
+    push hl
+    ldh a, [hJoypadState]
+    bit 5, a
+    jr z, ApplyOscillationNegOffset
+
+    ld a, [wPlayerDir]
+    cp PLAYER_DIR_LEFT
+    jr nz, CheckOscillationCounter
+
+    ld a, [wPlayerDir]
+    and NIBBLE_HIGH_MASK         ; Garder bits hauts direction
+    or PLAYER_DIR_MODE_RESET     ; Mode direction initial
+    ld [wPlayerDir], a
+
+; CheckOscillationCounter
+; -----------------------
+; Description: Incrémente le compteur d'accélération lors de l'oscillation
+;              et initialise le timer de mouvement vers la droite
+; In:  -
+; Out: -
+; Modifie: hl, a
+CheckOscillationCounter:
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    cp PLAYER_ACCEL_COUNTER_MAX  ; Compteur accélération max (6)
+    jr z, ApplyOscillationNegOffset
+
+    inc [hl]
+    inc l
+    ld [hl], PLAYER_ACCEL_TIMER_RIGHT  ; Timer mouvement droite ($20)
+
+; ApplyOscillationNegOffset
+; -------------------------
+; Description: Applique un offset d'oscillation négatif au PlayerState
+;              en récupérant l'offset d'oscillation et en le soustrayant
+; In:  hl = empilé (pointeur vers wPlayerState)
+; Out: [hl] = PlayerState - offset d'oscillation
+; Modifie: a, hl
+ApplyOscillationNegOffset:
+    pop hl
+    call GetOscillatingOffset
+    cpl
+    inc a
+    add [hl]
+    ld [hl], a
+
+; DecrementOscillationYCounter
+; ----------------------------
+; Description: Décrémente le compteur Y d'oscillation du joueur (utilisé pour
+;              le mouvement vertical oscillant lorsque l'état est bas)
+; In:  wPlayerUnk0B = compteur Y d'oscillation
+; Out: wPlayerUnk0B = décrémenté de 1
+; Modifie: hl
+DecrementOscillationYCounter:
+    ld hl, wPlayerUnk0B
+    dec [hl]
+    ret
+
+
+; OffsetSpritesY
+; ----------------
+; Description: Applique un offset vertical (soustraction) à 8 sprites consécutifs.
+;              Modifie la coordonnée Y de chaque sprite dans la table OAM.
+; In:  b = offset à soustraire de chaque position Y
+;      wSpriteVar31 = position Y du premier sprite ($C031)
+; Out: Les 8 sprites ont leur Y décrémenté de b
+; Modifie: a, hl, de, c
+OffsetSpritesY:
+    ld hl, wSpriteVar31
+    ld de, OAM_ENTRY_SIZE
+    ld c, OAM_SPRITE_LOOP_8
+
+OffsetSpritesY_Loop:
+    ld a, [hl]
+    sub b
+    ld [hl], a
+    add hl, de
+    dec c
+    jr nz, OffsetSpritesY_Loop
+
+    ret
+
+
+; =============================================================================
+; GetOscillatingOffset
+; =============================================================================
+; Description: Calcule un offset d'oscillation pour créer un mouvement fluide
+;              Utilise wPlayerUnk0E comme index et alterne wPlayerUnk0F
+; In:  wPlayerUnk0E = index dans OscillationTable
+;      wPlayerUnk0F = flag d'alternance (toggle à chaque appel)
+; Out: a = valeur d'offset depuis OscillationTable (0, 1 ou 2)
+; Modifie: a, wPlayerUnk0F
+; Préserve: de, hl (via stack)
+; =============================================================================
+GetOscillatingOffset:
+    push de
+    push hl
+    ld hl, OscillationTable
+    ld a, [wPlayerUnk0E]
+    ld e, a
+    ld d, $00
+    ld a, [wPlayerUnk0F]
+    xor FLAG_TRUE
+    ld [wPlayerUnk0F], a
+    add e
+    ld e, a
+    add hl, de
+    ld a, [hl]
+    pop hl
+    pop de
+    ret
+
+
+; =============================================================================
+; OscillationTable - Table de valeurs pour l'effet d'oscillation
+; =============================================================================
+; Utilisée par GetOscillatingOffset pour créer un mouvement sinusoïdal
+; 6 octets : [0, 1, 1, 1, 1, 2]
+OscillationTable:
+    db $00, $01, $01, $01, $01, $02
+
+; =============================================================================
+; ClearOamAndSpriteBuffers - Réinitialise les buffers OAM et sprites
+; =============================================================================
+; QUOI : Efface les buffers OAM et initialise les propriétés des sprites
+; ENTRÉE : Aucune
+; SORTIE : Buffers OAM effacés, propriétés sprites initialisées
+; MODIFIE : A, B, DE, HL
+; =============================================================================
+ClearOamAndSpriteBuffers:
+    push hl
+    push bc
+    push de
+    ld hl, wOamVar1C
+    ld b, OAM_VAR_BUFFER_SIZE
+    xor a
+
+ClearOamVar_Loop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearOamVar_Loop
+
+    ld hl, wOamBuffer
+    ld b, OAM_CLEAR_LOOP_COUNT
+
+ClearOamBuffer2_Loop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearOamBuffer2_Loop
+
+    ldh [hObjParamBuf1], a
+    ldh [hObjParamBuf2], a
+    ldh [hObjParamBuf3], a
+    ld hl, wPlayerUnk10
+    ld de, OBJECT_STRUCT_SIZE
+    ld b, INIT_OBJECTS_LOOP_COUNT
+    ld a, OAM_SPRITE_HIDDEN
+
+InitSpriteProperties_Loop:
+    ld [hl], a
+    add hl, de
+    dec b
+    jr nz, InitSpriteProperties_Loop
+
+    pop de
+    pop bc
+    pop hl
+    ret
+
+
+; =============================================================================
+; UpdatePlayerInvulnBlink - Gère le clignotement du joueur pendant l'invulnérabilité
+; =============================================================================
+; QUOI : Fait clignoter le joueur (toggle Y visible/invisible) pendant
+;        la période d'invulnérabilité après avoir pris un dégât.
+;
+; CONDITIONS :
+;   - S'exécute toutes les 4 frames (hFrameCounter & $03 == 0)
+;   - wPlayerInvuln > 0 (joueur invulnérable)
+;
+; ALGORITHME :
+;   1. Vérifie si c'est une frame d'update (toutes les 4 frames)
+;   2. Si invulnérabilité == 1, la termine
+;   3. Sinon décrémente le compteur et toggle la visibilité Y
+;   4. Si $dfe9 != 0, garde le joueur visible
+;
+; SORTIE : wPlayerInvuln mis à jour, wPlayerY togglé pour effet clignotement
+; MODIFIE : A
+; =============================================================================
+UpdatePlayerInvulnBlink:
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    ld a, [wPlayerInvuln]
+    and a
+    ret z
+
+    cp FLAG_TRUE                ; Dernière frame d'invulnérabilité ?
+    jr z, .end_invuln
+
+    dec a
+    ld [wPlayerInvuln], a
+    ld a, [wPlayerY]
+    xor BIT_7_MASK              ; Toggle bit 7 pour effet clignotement
+    ld [wPlayerY], a
+    ld a, [wStateVar9]
+    and a
+    ret nz
+
+.end_invuln:
+    xor a
+    ld [wPlayerInvuln], a
+    ld [wPlayerY], a
+    call RenderPlayerUpdate
+    ret
+
+
+; ProcessAllObjectCollisions
+; ---------------------------
+; Description: Point d'entrée pour traiter les collisions de tous les objets animés actifs
+;              avec l'environnement (tuiles, pièces). Itère sur les sprites actifs et gère
+;              leurs mouvements verticaux, collisions avec tuiles spéciales (pièces, eau, blocs).
+; In:  hObjParamBuf1 = buffer des paramètres objets actifs
+;      wOamAttrY = position Y des sprites dans la table OAM
+; Out: Sprites mis à jour, collisions traitées, états modifiés selon interactions
+; Modifie: a, bc, de, hl, hSpriteY, hSpriteX, wStateBuffer
+ProcessAllObjectCollisions:
+    ld b, $01
+    ld hl, hObjParamBuf1
+    ld de, wOamAttrY
+
+AnimLoopStart:
+    ld a, [hl+]
+    and a
+    jr nz, ProcessAnimEntry
+
+NextAnimEntry:
+    inc e
+    inc e
+    inc e
+    inc e
+    dec b
+    jr nz, AnimLoopStart
+
+    ret
+
+
+ProcessAnimEntry:
+    push hl
+    push de
+    push bc
+    dec l
+    ld a, [wGameVarA9]
+    and a
+    jr z, ClearSpriteState
+
+    dec a
+    ld [wGameVarA9], a
+    bit 0, [hl]
+    jr z, DecrementYIfConfigBit0Clear
+
+    ld a, [de]
+    inc a
+    inc a
+    ld [de], a
+    cp SPRITE_Y_LIMIT_MAX        ; Limite Y max sprite montant
+    jr c, IncrementYAndCheckCoin
+
+ClearSpriteState:
+    xor a
+    res 0, e
+    ld [de], a
+    ld [hl], a
+    jr SpriteCollisionProcessing
+
+IncrementYAndCheckCoin:
+    add SPRITE_Y_ADJUST_3        ; Ajustement Y +3 pixels
+    push af
+    dec e
+    ld a, [de]
+    ldh [hSpriteY], a
+    pop af
+    call CheckTileForCoin
+    jr c, CheckBit2AndProcessY
+
+    ld a, [hl]
+    and SCROLL_ALIGN_MASK        ; Aligner sur 4 pixels
+    or $02
+    ld [hl], a
+
+CheckBit2AndProcessY:
+    bit 2, [hl]
+    jr z, IncrementYIfBit2Clear
+
+    ld a, [de]
+    dec a
+    dec a
+    ld [de], a
+    cp SPRITE_Y_LIMIT_MIN        ; Limite Y min sprite (haut écran)
+    jr c, ClearSpriteState
+
+    sub $01
+    ldh [hSpriteY], a
+
+CheckCoinCollision:
+    inc e
+    ld a, [de]
+    call CheckTileForCoin
+    jr c, SpriteCollisionProcessing
+
+    ld a, [hl]
+    and BITS_2_3_CLEAR_MASK     ; Efface bits 2-3
+    or BIT_3_MASK               ; Set bit 3
+    ld [hl], a
+
+SpriteCollisionProcessing:
+    pop bc
+    pop de
+    pop hl
+    call ProcessObjectCollisions
+    jr NextAnimEntry
+
+IncrementYIfBit2Clear:
+    ld a, [de]
+    inc a
+    inc a
+    ld [de], a
+    cp SPRITE_Y_LIMIT_UPPER      ; Limite Y haute sprite descendant
+    jr nc, ClearSpriteState
+
+    add SPRITE_Y_ADJUST_4        ; Ajustement Y +4 pixels
+    ldh [hSpriteY], a
+    inc e
+    ld a, [de]
+    call CheckTileForCoin
+    jr c, SpriteCollisionProcessing
+
+    ld a, [hl]
+    and BITS_2_3_CLEAR_MASK     ; Efface bits 2-3
+    or BIT_2_MASK               ; Set bit 2
+    ld [hl], a
+    jr SpriteCollisionProcessing
+
+DecrementYIfConfigBit0Clear:
+    ld a, [de]
+    dec a
+    dec a
+    ld [de], a
+    cp SPRITE_Y_LIMIT_LOW        ; Limite Y basse sprite
+    jr c, ClearSpriteState
+
+    sub $02
+    push af
+    dec e
+    ld a, [de]
+    ldh [hSpriteY], a
+    pop af
+    call CheckTileForCoin
+    jr c, CheckBit2AndProcessY
+
+    ld a, [hl]
+    and SCROLL_ALIGN_MASK        ; Aligner sur 4 pixels
+    or $01
+    ld [hl], a
+    jr CheckBit2AndProcessY
+
+; CheckTileForCoin
+; ----------------
+; Description: Vérifie si la tile sous un sprite est une pièce ($F4) ou une tile spéciale,
+;              et déclenche la collecte de pièce ou gère les collisions avec eau/blocs
+; In:  a = Position X relative du sprite
+;      hSpriteY = Position Y du sprite
+; Out: a = Type de tile détectée
+;      carry set si tile >= $60 (tile spéciale)
+; Modifie: bc, de, hl, hSpriteX, hBlockHitType+1/+2, wStateBuffer (si pièce)
+CheckTileForCoin:
+    ld b, a
+    ldh a, [hShadowSCX]
+    add b
+    ldh [hSpriteX], a
+    push de
+    push hl
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr nz, NotCoinTile
+
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY
+    jr z, ReturnAfterCoinCheck
+
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a
+    jr nz, ReturnAfterCoinCheck
+
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+
+NotCoinTile:
+    cp TILEMAP_CMD_WATER        ; Tile eau $82 ?
+    call z, HandleBlockCollision
+    cp TILEMAP_CMD_LOAD1        ; Tile type $80 ?
+    call z, HandleBlockCollision
+
+ReturnAfterCoinCheck:
+    pop hl
+    pop de
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    ret
+
+
+; ProcessObjectCollisions
+; -----------------------
+; Description: Parcourt le buffer d'objets animés et vérifie les collisions avec le joueur
+; In:  de = pointeur vers coordonnées joueur (X, Y)
+; Out: Peut modifier wStateBuffer, hPtrBank si collision détectée
+; Modifie: af, bc, de, hl, hAnimObjSubState, hTemp0, hTemp1, hTemp2, hParam3, hPtrHigh, hPtrLow
+ProcessObjectCollisions:
+    push hl
+    push de
+    push bc
+    ld b, OBJECT_BUFFER_COUNT     ; 10 slots
+    ld hl, wObjectBuffer
+
+IterateAnimObjects_Loop:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr nz, ProcessAnimObject
+
+NextObjectSlot:
+    push de
+    ld de, OBJECT_SLOT_SIZE       ; 16 bytes par slot
+    add hl, de
+    pop de
+    dec b
+    jr nz, IterateAnimObjects_Loop
+
+    pop bc
+    pop de
+    pop hl
+    ret
+
+
+IterateAnimObjects_NextSlot:
+    pop hl
+    pop de
+    pop bc
+    jr NextObjectSlot
+
+ProcessAnimObject:
+    push bc
+    push de
+    push hl
+    ld bc, OBJ_FIELD_STATE_OFFSET
+    add hl, bc
+    bit 7, [hl]
+    jr nz, IterateAnimObjects_NextSlot
+
+    ld c, [hl]
+    inc l
+    inc l
+    ld a, [hl]
+    ldh [hAnimObjSubState], a
+    ld a, [de]
+    ldh [hTemp2], a
+    add COLLISION_OFFSET_4
+    ldh [hParam3], a
+    dec e
+    ld a, [de]
+    ldh [hTemp0], a
+    ld a, [de]
+    add COLLISION_OFFSET_3
+    ldh [hTemp1], a
+    pop hl
+    push hl
+    call CheckBoundingBoxCollision
+    and a
+    jr z, IterateAnimObjects_NextSlot
+
+    dec l
+    dec l
+    dec l
+    call SelectAnimationBank
+    push de
+    ldh a, [hGameState]
+
+CheckAnimObjectState:
+    cp GAME_STATE_GAMEPLAY
+    jr nz, .not_gameplay
+
+    call HandleGameplayObjectSound
+    jr .end_check
+
+.not_gameplay:
+    call DecrementObjectAnimationCounter
+
+.end_check:
+    pop de
+    and a
+    jr z, IterateAnimObjects_NextSlot
+
+    push af
+    ld a, [de]
+    sub TILE_SIZE_PIXELS
+    ldh [hPtrHigh], a
+    inc e
+    ld a, [de]
+    ldh [hPtrLow], a
+    pop af
+    cp SLOT_EMPTY
+    jr nz, ClearAnimObjectSlot
+
+    ld a, STATE_BUFFER_ANIM
+    ld [wStateBuffer], a
+    ldh a, [hAnimStructBank]
+    ldh [hPtrBank], a
+
+ClearAnimObjectSlot:
+    xor a
+    ld [de], a
+    dec e
+    ld [de], a
+    ld hl, hObjParamBuf3
+    bit 3, e
+    jr nz, StoreAnimObjectData
+
+    dec l
+    bit 2, e
+    jr nz, StoreAnimObjectData
+
+    dec l
+
+StoreAnimObjectData:
+    ld [hl], a
+    jr IterateAnimObjects_NextSlot
+
+; HandleBlockCollision
+; --------------------
+; Description: Gère la collision du joueur avec des blocs spéciaux (eau $82, type $80)
+; In:  a = type de tile touché, de = position du bloc, hl = pointeur sprite
+; Out: Initialise sprites de frappe, active hBlockHitType, ajoute score
+; Modifie: af, bc, de, hl
+HandleBlockCollision:
+    push hl
+    push bc
+    push de
+    push af
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY
+    jr nz, ProcessAnimObjectExit
+
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld a, [hl]
+    and a
+    jr nz, ProcessAnimObjectExit
+
+    ld [hl], $01
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    pop af
+    push af
+    cp TILEMAP_CMD_LOAD1        ; Tile type $80 ?
+    jr nz, InitBlockHitSprites
+
+    ld a, d
+    add BCD_TO_ASCII
+    ld d, a
+    ld a, [de]
+    and a
+    jr z, InitBlockHitSprites
+
+    call PlaySound
+
+InitBlockHitSprites:
+    ld hl, wPlayerUnk10
+    ld de, OBJECT_STRUCT_SIZE
+    ld b, INIT_OBJECTS_LOOP_COUNT
+
+SpriteSetupLoop:
+    push hl
+    ld [hl], $00
+    inc l
+    ldh a, [hSpriteY]
+    add $00
+    ld [hl], a
+    inc l
+    ldh a, [hTemp1]
+    add $00
+    ld [hl], a
+    inc l
+    inc l
+    inc l
+    inc l
+    inc l
+    ld [hl], FLAG_TRUE          ; Flag sprite actif
+    inc l
+    ld [hl], STATE_BUFFER_DEFAULT ; État par défaut ($07)
+    pop hl
+    add hl, de
+    dec b
+    jr nz, SpriteSetupLoop
+
+    ld hl, wObject2State
+    ld a, [hl]
+    sub MOVEMENT_OFFSET_4
+    ld [hl], a
+    ld hl, wObject4Unk0A
+    ld a, [hl]
+    sub MOVEMENT_OFFSET_4
+    ld [hl], a
+    ld hl, wObject4
+    ld [hl], OBJECT_STATE_INACTIVE
+    ld hl, wObject5
+    ld [hl], OBJECT_STATE_INACTIVE
+    ldh a, [hShadowSCX]
+    ldh [hRenderAttr], a
+    ld de, SCORE_BONUS_50
+    call AddScore
+    ld a, STATE_FINAL_COMPLETE
+    ld [wStateFinal], a
+
+ProcessAnimObjectExit:
+    pop af
+    pop de
+    pop bc
+    pop hl
+    ret
+
+
+; LoadDemoInput
+; ----------------
+; Description: Charge l'input de démonstration/replay dans l'état joypad.
+;              Cette fonction ne s'exécute que lorsque les updates sont verrouillées
+;              (hUpdateLockFlag != 0), pour garantir que l'input démo est chargé
+;              au bon moment du cycle de jeu.
+; In:  hUpdateLockFlag = doit être != 0 pour exécuter
+;      wLevelVarDB = input démo à charger
+; Out: hJoypadState = état joypad mis à jour avec input démo
+; Modifie: a
+LoadDemoInput:
+    ReturnIfUnlocked
+
+    ld a, [wLevelVarDB]
+    ldh [hJoypadState], a
+    ret
+
+; LevelInitData ($2114)
+; ---------------------
+; Description: Table complète des données d'initialisation (107 octets total).
+;              Les premiers 81 octets sont copiés vers wPlayerY-wPlayerUnk50 au démarrage.
+;              Les 26 octets suivants semblent être des données de configuration ou padding.
+; Structure:
+;   Offset $00-$50 (81 bytes): Structure joueur (wPlayerY à wPlayerUnk50)
+;   Offset $51-$6A (26 bytes): Données supplémentaires ou padding
+; Utilisé par: LoadLevelData ($0730), ResetPlayerForCutscene ($0EE6)
+LevelInitData::
+    db $00, $86, $32, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
+    db $01, $00, $00, $0f, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
+    db $01, $00, $00, $0f, $00, $20, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
+    db $01, $00, $00, $0f, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
+    db $01, $00, $00, $0f, $00, $20, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
+
+; ROM_OBJECT_INIT_DATA ($2164)
+; ----------------------------
+; Description: Table de décompte/priorités pour initialisation des objets.
+;              Utilisée par ProcessObjectData ($490d) pour calculer les vitesses
+;              et priorités des objets animés (wObject1-wObject5).
+; Structure: 27 octets de valeurs décroissantes ($04→$00) avec terminateur $7f
+;            - Décompte rapide: $04,$04,$03,$03 (4 valeurs)
+;            - Décompte moyen:  $02×10 (10 valeurs)
+;            - Décompte lent:   $01×6 (6 valeurs)
+;            - Arrêt/attente:   $00,$01,$00,$01,$00,$00 (6 valeurs)
+;            - Terminateur:     $7f (1 valeur)
+; Utilisé par: State00_MainGameplay ($0610), State26_PrincessRising ($104C)
+; Note: Fait partie de LevelInitData mais référencé séparément à $2164
+ROM_OBJECT_INIT_DATA:
+    db $04, $04, $03, $03, $02, $02, $02, $02, $02, $02, $02, $02, $02, $01, $01, $01
+    db $01, $01, $01, $01, $00, $01, $00, $01, $00, $00, $7f
+
+; ResetScrollPhase ($217F)
+; ------------------------
+; Description: Réinitialise la phase de scroll ou la désactive selon l'état.
+;              Compare SCX actuel avec wGameVarAA pour déterminer si le scroll
+;              doit continuer (RESET) ou s'arrêter (INACTIVE).
+; In:  hShadowSCX = position scroll X actuelle
+;      wGameVarAA = position scroll X cible/référence
+; Out: hScrollPhase = SCROLL_PHASE_RESET ($03) ou SCROLL_PHASE_INACTIVE ($00)
+; Modifie: a, b
+ResetScrollPhase:
+    ld a, SCROLL_PHASE_RESET
+    ldh [hScrollPhase], a
+    ldh a, [hShadowSCX]
+    ld b, a
+    ld a, [wGameVarAA]
+    cp b
+    ret z
+
+    xor a                       ; SCROLL_PHASE_INACTIVE
+    ldh [hScrollPhase], a
+    ret
+
+
+; UpdateScroll ($218F)
+; ----------------
+; Description: Gère le défilement horizontal de l'écran. Déclenche la mise à jour
+;              du buffer de scroll tous les 8 pixels de défilement (bit 3 toggle)
+; In:  hScrollPhase = état du scroll (0 = normal, autre = reset)
+;      hShadowSCX = position X de scroll actuelle
+;      hTemp3 = valeur toggle bit 3 précédente
+; Out: wScrollBuffer rempli avec les données de tilemap si update nécessaire
+; Modifie: a, b, de, hl
+UpdateScroll:
+    ldh a, [hScrollPhase]
+    and a
+    jr nz, ResetScrollPhase
+
+    ldh a, [hShadowSCX]
+    and BIT_3_MASK              ; Test bit 3 (intervalle de 8 pixels)
+    ld hl, hTemp3
+    cp [hl]
+    ret nz
+
+    ld a, [hl]
+    xor BIT_3_MASK              ; Toggle bit 3
+    ld [hl], a
+    and a
+    jr nz, InitScrollBuffer
+
+    ld hl, wPlayerVarAB
+    inc [hl]
+
+; InitScrollBuffer
+; ----------------
+; Description: Remplit le buffer de scroll avec des tiles vides puis charge
+;              les données de tilemap depuis le contexte de rendu ou les offsets sauvegardés
+; In:  hTilemapScrollY = position Y du scroll (0 = init depuis RenderContext)
+;      hTilemapOffsetX/Y = offsets sauvegardés si hTilemapScrollY != 0
+; Out: wScrollBuffer rempli avec données de tilemap
+; Modifie: a, b, de, hl
+InitScrollBuffer:
+    ld b, SCROLL_BUFFER_SIZE
+    ld hl, wScrollBuffer
+    ld a, TILE_EMPTY
+
+.fill:
+    ld [hl+], a
+    dec b
+    jr nz, .fill
+
+    ldh a, [hTilemapScrollY]
+    and a
+    jr z, InitFromRenderContext
+
+    ldh a, [hTilemapOffsetX]
+    ld h, a
+    ldh a, [hTilemapOffsetY]
+    ld l, a
+    jr ProcessScrollEntry
+
+; InitFromRenderContext
+; ---------------------
+; Description: Initialise le buffer de scroll depuis le contexte de rendu.
+;              Charge un pointeur de données de niveau via hRenderContext,
+;              puis indexe par hTilemapScrollX pour trouver l'entrée de scroll.
+; In:  hRenderContext = index dans la table des contextes de rendu
+;      hTilemapScrollX = position X du scroll (index dans la table de niveaux)
+; Out: hl = pointeur vers données de scroll, ou flow vers UpdateCollisionFlag si slot vide
+; Modifie: a, de, hl
+InitFromRenderContext:
+    ld hl, _ROMX                    ; Base des données niveau (bank switchable)
+    ldh a, [hRenderContext]
+    add a
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    push de
+    pop hl
+    ldh a, [hTilemapScrollX]
+    add a
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld a, [hl+]
+    cp SLOT_EMPTY
+    jr z, UpdateCollisionFlag
+
+    ld e, a
+    ld d, [hl]
+    push de
+    pop hl
+
+
+; ProcessScrollEntry
+; ----------------
+; Description: Traite une entrée de données tilemap (commande + tiles)
+;              Parse le format nibble (offset/count) et copie les tiles dans wScrollBuffer
+; In:  hl = pointeur vers données tilemap compressées
+; Out: hl = pointeur après données traitées
+; Modifie: a, bc, de
+ProcessScrollEntry:
+    ld a, [hl+]
+    cp TILEMAP_CMD_END              ; Fin de section tilemap ?
+    jr z, StoreTilemapScrollOffsets
+
+    ld de, wScrollBuffer
+    ld b, a
+    and NIBBLE_HIGH_MASK         ; Offset buffer (nibble haut)
+    swap a
+    add e
+    ld e, a
+    ld a, b
+    and NIBBLE_LOW_MASK          ; Nombre tiles (nibble bas)
+    jr nz, TilemapDataNibbleNonZero
+
+    ld a, TILEMAP_DEFAULT_COUNT
+
+; TilemapDataNibbleNonZero
+; ------------------------
+; Description: Point d'entrée quand le nibble bas spécifie un nombre de tiles non-zéro
+;              Charge ce nombre dans b pour la boucle de copie
+; In:  a = nombre de tiles à copier (nibble bas)
+; Out: b = nombre de tiles
+; Modifie: b
+TilemapDataNibbleNonZero:
+    ld b, a
+
+; TilemapDataCopyStart
+; --------------------
+; Description: Boucle de copie des tiles depuis les données compressées vers wScrollBuffer.
+;              Traite les commandes spéciales (SKIP, SCROLL, LOAD1-3) et les tiles normaux.
+; In:  hl = pointeur vers données source (tiles compressés)
+;      de = pointeur vers wScrollBuffer (destination)
+;      b = nombre de tiles à copier
+; Out: hl = pointeur avancé, de = avancé, b = décrémenté
+; Modifie: a, bc, de, hl
+TilemapDataCopyStart:
+    ld a, [hl+]
+    cp TILEMAP_CMD_SKIP
+    jr z, TilemapDataCopyLoop
+
+    ld [de], a
+    cp TILEMAP_CMD_SCROLL
+    jr nz, TilemapDataNotScrollUpdate
+
+    call UpdateTilemapScrolling
+    jr ProcessColumnAnimation_End
+
+; TilemapDataNotScrollUpdate
+; --------------------------
+; Description: Point de passage quand le tile n'est pas TILEMAP_CMD_SCROLL.
+;              Vérifie si c'est une commande LOAD (animation/tilemap level)
+; In:  a = valeur du tile (déjà écrite dans [de])
+;      hl = pointeur vers données source (après le tile lu)
+;      de = pointeur dans wScrollBuffer (sur le tile écrit)
+;      b = nombre de tiles restants
+; Out: Branche vers ProcessColumnAnimation pour traiter les LOAD
+; Modifie: a (via comparaisons)
+TilemapDataNotScrollUpdate:
+    cp TILEMAP_CMD_LOAD1
+
+; ProcessColumnAnimation
+; ----------------------
+; Description: Traite les commandes LOAD1/LOAD2/LOAD3 qui chargent les données
+;              tilemap du niveau (pour animation des colonnes de scroll)
+; In:  a = valeur du tile à tester
+;      hl, de, b = hérités de TilemapDataCopyStart
+; Out: Appelle LoadLevelTilemap si match, puis continue vers ProcessColumnAnimation_End
+; Modifie: Dépend de LoadLevelTilemap si appelé
+ProcessColumnAnimation:
+    jr nz, .not_load1
+
+    call LoadLevelTilemap
+    jr ProcessColumnAnimation_End
+
+.not_load1:
+    cp TILEMAP_CMD_LOAD2
+    jr nz, .not_load2
+
+    call LoadLevelTilemap
+    jr ProcessColumnAnimation_End
+
+.not_load2:
+    cp TILEMAP_CMD_LOAD3
+    call z, LoadLevelTilemap
+
+; ProcessColumnAnimation_End
+; --------------------------
+; Description: Finalise le traitement d'un tile dans wScrollBuffer.
+;              Avance le pointeur de destination, décrémente le compteur,
+;              et boucle sur TilemapDataCopyStart ou continue vers ProcessScrollEntry.
+; In:  e = offset dans wScrollBuffer (pointeur bas)
+;      b = nombre de tiles restants à traiter
+;      hl = pointeur vers données source
+; Out: Si b != 0 après décrémentation, retour à TilemapDataCopyStart
+;      Sinon, continue vers ProcessScrollEntry pour traiter le segment suivant
+; Modifie: e, b
+ProcessColumnAnimation_End:
+    inc e
+    dec b
+    jr nz, TilemapDataCopyStart
+
+    jr ProcessScrollEntry
+
+; UpdateCollisionFlag
+; -------------------
+; Description: Incrémente le compteur de collision d'une unité.
+;              Appelée quand un slot de scroll est vide (SLOT_EMPTY)
+; In:  Aucun
+; Out: Aucun
+; Modifie: hl
+UpdateCollisionFlag:
+    ld hl, wCollisionFlag
+    inc [hl]
+    ret
+
+
+; StoreTilemapScrollOffsets
+; -------------------------
+; Description: Sauvegarde les offsets de pointeur tilemap et gère le wraparound Y du scroll
+;              Si ScrollY atteint 20 lignes (TILEMAP_ROW_WIDTH), incrémente ScrollX et reset Y
+;              Active ensuite la phase de scroll pour déclencher la mise à jour VRAM
+; In:  hl = pointeur tilemap (h=OffsetX, l=OffsetY)
+; Out: Aucun
+; Modifie: a, hl
+StoreTilemapScrollOffsets:
+    ld a, h
+    ldh [hTilemapOffsetX], a
+    ld a, l
+    ldh [hTilemapOffsetY], a
+    ldh a, [hTilemapScrollY]
+    inc a
+    cp TILEMAP_ROW_WIDTH       ; 20 lignes par tilemap
+    jr nz, UpdateTilemapScrollConfig
+
+    ld hl, hTilemapScrollX
+    inc [hl]
+    xor a
+
+; UpdateTilemapScrollConfig
+; -------------------------
+; Description: Point d'entrée pour finaliser la mise à jour de la configuration de scroll
+;              Met à jour ScrollY, sauvegarde SCX shadow et active la phase de scroll
+; In:  a = nouvelle valeur de hTilemapScrollY
+; Out: Aucun
+; Modifie: a
+UpdateTilemapScrollConfig:
+    ldh [hTilemapScrollY], a
+    ldh a, [hShadowSCX]
+    ld [wGameVarAA], a
+    ld a, SCROLL_PHASE_ACTIVE
+    ldh [hScrollPhase], a
+    ret
+
+; TilemapDataCopyLoop
+; -------------------
+; Description: Point d'entrée quand TILEMAP_CMD_SKIP est détecté. Copie le même tile
+;              plusieurs fois pour remplir la zone (optimisation RLE).
+; In:  hl = pointeur vers tile à répéter
+;      de = pointeur vers wScrollBuffer (destination)
+;      b = nombre de répétitions
+; Out: hl = pointeur avancé (+1), de = avancé (+b)
+; Modifie: a, b, e
+TilemapDataCopyLoop:
+    ld a, [hl]
+
+; CopyTileDataLoop
+; ----------------
+; Description: Boucle interne qui copie le tile 'a' dans [de] b fois.
+;              Incrémente e (low byte de de) à chaque itération.
+; In:  a = valeur du tile à copier
+;      de = destination
+;      b = compteur
+; Out: e = e + b
+; Modifie: b, e
+CopyTileDataLoop:
+    ld [de], a
+    inc e
+    dec b
+    jr nz, CopyTileDataLoop
+
+    inc hl
+    jp ProcessScrollEntry
+
+
+; UpdateScrollColumn
+; ----------------
+; Description: Met à jour une colonne du tilemap pour le scrolling vertical.
+;              Copie 16 tiles depuis wScrollBuffer vers VRAM en gérant les
+;              commandes spéciales ($70/$80/$5F/$81) qui déclenchent le rendu.
+; In:  hScrollPhase = SCROLL_PHASE_ACTIVE (1) pour activer
+;      hScrollColumn = colonne courante à mettre à jour
+;      wScrollBuffer = buffer contenant les 16 tiles à copier
+; Out: hScrollPhase = SCROLL_PHASE_DONE (2) quand terminé
+;      hScrollColumn = prochaine colonne (wrap de $60 à $40)
+; Modifie: a, b, de, hl
+UpdateScrollColumn:
+    ldh a, [hScrollPhase]
+    cp SCROLL_PHASE_ACTIVE
+    ret nz
+
+    ldh a, [hScrollColumn]
+    ld l, a
+    inc a
+    cp SCROLL_COLUMN_MAX
+    jr nz, ScrollColumnWrapAround
+
+    ld a, SCROLL_COLUMN_DEFAULT
+
+ScrollColumnWrapAround:
+    ldh [hScrollColumn], a
+    ld h, VRAM_TILEMAP_HIGH
+    ld de, wScrollBuffer
+    ld b, SCROLL_BUFFER_SIZE
+
+ClearTilemapColumn:
+    push hl
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    ld [hl], $00
+    pop hl
+    ld a, [de]
+    ld [hl], a
+    cp TILEMAP_CMD_SCROLL        ; Tile scroll $70 ?
+    jr nz, CheckIfNotLevelConfigTile
+
+    call ProcessRenderQueue
+    jr TilemapScrollLoop
+
+CheckIfNotLevelConfigTile:
+    cp TILEMAP_CMD_LOAD1        ; Tile type $80 ?
+    jr nz, CheckIfNotCompressedTile
+
+    call ApplyLevelConfig
+    jr TilemapScrollLoop
+
+CheckIfNotCompressedTile:
+    cp TILEMAP_CMD_LOAD2        ; Tile type $5F ?
+    jr nz, HandleSpecialMarkerTile
+
+    call ApplyLevelConfig
+    jr TilemapScrollLoop
+
+HandleSpecialMarkerTile:
+    cp TILEMAP_CMD_LOAD3        ; Tile type $81 ?
+    call z, ApplyLevelConfig
+
+TilemapScrollLoop:
+    inc e
+    push de
+    ld de, TILEMAP_STRIDE
+    add hl, de
+    pop de
+    dec b
+    jr nz, ClearTilemapColumn
+
+    ld a, SCROLL_PHASE_DONE
+    ldh [hScrollPhase], a
+    ret
+
+
+; UpdateTilemapScrolling
+; ----------------------
+; Description: Cherche dans la table tilemap (bank 3) l'entrée correspondant aux
+;              coordonnées de scroll actuelles et copie les données de rendu
+; In:  hTilemapScrollX = coordonnée X à chercher
+;      hTilemapScrollY = coordonnée Y à chercher
+;      hRenderContext = index dans ROM_TILEMAP_POINTERS_A
+; Out: hRenderCounter à hRenderCounter+3 = données copiées si trouvé
+; Modifie: a, bc, de, hl
+UpdateTilemapScrolling:
+    push hl
+    push de
+    push bc
+    ldh a, [hVBlankMode]
+    and a
+    jr nz, SearchTilemapExit
+
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ldh a, [hRenderContext]
+    add a
+    ld e, a
+    ld d, $00
+    ld hl, ROM_TILEMAP_POINTERS_A  ; Table pointeurs tilemap A (bank 3)
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    push de
+    pop hl
+
+SearchTilemapEntry_CheckX:
+    ldh a, [hTilemapScrollX]
+    cp [hl]
+    jr z, SearchTilemapEntry_CheckY
+
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr z, SearchTilemapEntry_Exit
+
+    inc hl
+
+SearchTilemapEntry_NextEntry:
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    jr SearchTilemapEntry_CheckX
+
+SearchTilemapEntry_CheckY:
+    ldh a, [hTilemapScrollY]
+    inc hl
+    cp [hl]
+    jr nz, SearchTilemapEntry_NextEntry
+
+    inc hl
+    ld de, hRenderCounter
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, [hl]
+    ld [de], a
+
+SearchTilemapEntry_Exit:
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+SearchTilemapExit:
+    pop bc
+    pop de
+    pop hl
+    ret
+
+
+; ProcessRenderQueue
+; ------------------
+; Description: Traite la queue de rendu en écrivant les données de rendu dans la table VRAM
+; In:  hRenderCounter = nombre d'éléments à traiter (0 = rien à faire)
+;      hRenderMode = mode de rendu à appliquer
+;      hDestY = position Y de destination
+;      hDestX = position X de destination
+;      h = base du pointeur de queue
+; Out: Queue de rendu vidée (hRenderCounter = 0, hRenderMode = 0)
+; Modifie: af, hl, de
+ProcessRenderQueue:
+    ldh a, [hRenderCounter]
+    and a
+    ret z                       ; Si compteur = 0, rien à faire
+
+    push hl
+    push de
+    ld de, hVramPtrLow         ; Offset pour itération dans la queue
+    push af
+    ld a, h
+    add BCD_TO_ASCII           ; Ajuste le pointeur de base (+$30)
+    ld h, a
+    pop af
+    ld [hl], a                 ; Écrit le compteur
+    ldh a, [hRenderMode]
+    add hl, de                 ; hl += offset
+    ld [hl], a                 ; Écrit le mode
+    ldh a, [hDestY]
+    add hl, de                 ; hl += offset
+    ld [hl], a                 ; Écrit Y
+    ldh a, [hDestX]
+    add hl, de                 ; hl += offset
+    ld [hl], a                 ; Écrit X
+    xor a
+    ldh [hRenderCounter], a    ; Réinitialise le compteur
+    ldh [hRenderMode], a       ; Réinitialise le mode
+    pop de
+    pop hl
+    ret
+
+
+; LoadLevelTilemap
+; ----------------
+; Description: Charge la configuration d'une tuile de niveau basée sur les coordonnées de scroll
+;              Cherche dans une table en bank 3 une entrée correspondant à (hTilemapScrollX, hTilemapScrollY)
+; In:  hRenderContext = index table de pointeurs (multiplié par 2)
+;      hTilemapScrollX = coordonnée X de scroll à rechercher
+;      hTilemapScrollY = coordonnée Y de scroll à rechercher
+; Out: [wLevelConfig - 1] = valeur de configuration trouvée (ou inchangée si non trouvée)
+; Modifie: a, bc, de, hl
+LoadLevelTilemap:
+    push hl
+    push de
+    push bc
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    ldh a, [hRenderContext]
+    add a
+    ld e, a
+    ld d, $00
+    ld hl, ROM_TILEMAP_POINTERS_B  ; Table pointeurs tilemap B (bank 3)
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    push de
+    pop hl
+
+.search_tilemap:
+    ldh a, [hTilemapScrollX]
+    cp [hl]
+    jr z, .check_y
+
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr z, .end_load
+
+    inc hl
+
+.skip_entry:
+    inc hl
+    inc hl
+    jr .search_tilemap
+
+.check_y:
+    ldh a, [hTilemapScrollY]
+    inc hl
+    cp [hl]
+    jr nz, .skip_entry
+
+    inc hl
+    ld a, [hl]
+    ld [wLevelConfig - 1], a
+
+.end_load:
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    pop bc
+    pop de
+    pop hl
+    ret
+
+
+; ApplyLevelConfig
+; ----------------
+; Description: Applique la configuration niveau précédemment chargée à une adresse ajustée
+;              Écrit la valeur config à [h+$30, l] puis efface la config
+; In:  h = adresse de base haute (sera ajustée de +$30)
+;      l = adresse de base basse
+;      [wLevelConfig - 1] = valeur de configuration à appliquer
+; Out: [wLevelConfig - 1] = 0 (effacée)
+;      Mémoire [h+$30, l] = valeur config (si config non nulle)
+; Modifie: a, hl
+ApplyLevelConfig:
+    ld a, [wLevelConfig - 1]
+    and a
+    ret z
+
+    push hl
+    push af
+    ld a, h
+    add BCD_TO_ASCII
+    ld h, a
+    pop af
+    ld [hl], a
+    xor a
+    ld [wLevelConfig - 1], a
+    pop hl
+    ret
+
+; ===========================================================================
+; State0D_GameplayFull
+; --------------------
+; Description: État $0D - Gameplay principal avec objets/ennemis actifs.
+;              Gère le scrolling, met à jour les objets des slots 2-5,
+;              traite les collisions, l'audio, et l'animation du joueur.
+; In:  hPauseFlag = flag de pause (0 = actif, !=0 = pause)
+; Out: Aucun retour spécifique
+; Modifie: Tous les registres (a, bc, de, hl)
+;          Switche temporairement vers Bank 3 et Bank 2
+; ===========================================================================
+State0D_GameplayFull::
+    ldh a, [hPauseFlag]
+    and a
+    ret nz                       ; Skip si pause
+
+    ; Mise à jour logique du jeu
+    call UpdateScroll
+    call $4fb2                   ; Bank 1: update level?
+    ld a, [wAudioCondition]
+    and a
+    call nz, TriggerBlockCollisionSound       ; Trigger son si condition
+    call UpdateAnimatedObjectState           ; Update collisions?
+    call $4fec                   ; Bank 1: update objects?
+    call $5118                   ; Bank 1: update sprites?
+
+    ; Bank 3 : mise à jour des 4 slots d'objets
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call ProcessGameStateInput   ; Bank 3: traiter entrées
+    ld bc, wObject2              ; Slot objet 2
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject3              ; Slot objet 3
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject4              ; Slot objet 4
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    ld bc, wObject5              ; Slot objet 5
+    ld hl, ROM_OBJECT_INIT_DATA
+    call ProcessObjectData
+    call InitRenderLoop          ; Bank 3: init boucle rendu
+    call CheckTimerAux1
+    call CheckTimerAux2
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+    ; Update collision/physics
+    call UpdateAudio
+
+    ; Bank 2 : mise à jour spéciale
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_2
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call UpdateGameTimersAndAnimation                   ; Bank 2: special update
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+
+    ; Finalize
+    call SwitchBankAndCallBank3Handler
+    call CheckPlayerStateAndReset ; Bank 1: vérification état joueur
+    call UpdatePlayerInvulnBlink  ; Clignotement invulnérabilité
+
+    ; Toggle direction joueur toutes les 4 frames (animation idle)
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_4
+    ret nz
+
+    ld a, [wPlayerDir]
+    xor BIT_0_MASK              ; Toggle direction (0↔1)
+    ld [wPlayerDir], a
+    ret
+
+; UpdateAnimTiles
+; ---------------
+; Description: Met à jour les tiles d'animation (eau, lave, etc.) toutes les 8 frames.
+;              Alterne entre deux frames d'animation pour créer l'effet visuel.
+;              Source des données : ROM (AnimTilesFrames) ou RAM (wAnimBuffer).
+; In:  wAnimFlag = flag d'activation (0 = désactivé)
+;      hGameState = état du jeu (doit être < $0D)
+;      hFrameCounter = compteur de frames (bit 3 contrôle la source)
+;      hAnimTileIndex = index du monde (bits hauts pour offset ROM)
+; Out: Tiles VRAM à $95D1 mis à jour (8 octets copiés avec espacement)
+; Modifie: a, b, de, hl
+UpdateAnimTiles:
+    ld a, [wAnimFlag]
+    and a
+    ret z
+
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY
+    ret nc
+
+    ldh a, [hFrameCounter]
+    and FRAME_MASK_8             ; Exécute toutes les 8 frames
+    ret nz
+
+    ldh a, [hFrameCounter]
+    bit 3, a
+    jr z, AnimTile_FromROM
+
+    ld hl, wAnimBuffer
+    jr AnimTile_Setup
+
+AnimTile_FromROM:
+    ld hl, ROM_ANIM_TILES
+    ldh a, [hAnimTileIndex]
+    and NIBBLE_HIGH_MASK         ; Isoler monde (bits hauts)
+    sub AUDIO_PARAM_BASE_Y       ; Offset monde ($10 = monde 1)
+    rrca
+    ld d, $00
+    ld e, a
+    add hl, de
+
+AnimTile_Setup:
+    ld de, VRAM_ANIM_DEST
+    ld b, ANIM_BUFFER_COPY_SIZE
+
+CopyAnimTileData:
+    ld a, [hl+]
+    ld [de], a
+    inc de
+    inc de
+    dec b
+    jr nz, CopyAnimTileData
+
+    ret
+
+
+; =============================================================================
+; AnimFlagTable - Flags d'animation par contexte de rendu
+; =============================================================================
+; 12 octets : Un flag par contexte de rendu (0-11)
+; Utilisé par InitAudioAndAnimContext pour activer/désactiver les animations
+;
+; Répartition des flags:
+;   0=OFF, 1=OFF, 2=ON, 3=ON, 4=ON, 5=OFF (gameplay standard)
+;   6=OFF, 7=ON, 8=ON, 9=OFF, 10=ON, 11=OFF (niveau spécial)
+AnimFlagTable:
+    db $00, $00, $01, $01  ; Contextes 0-3
+    db $01, $00, $00, $01  ; Contextes 4-7
+    db $01, $00, $01, $00  ; Contextes 8-11
+
+; InitAudioAndAnimContext
+; -----------------------
+; Description: Initialise le contexte audio et le flag d'animation selon le contexte de rendu.
+;              Recherche l'entrée audio correspondante dans la table ROM.
+; In:  hRenderContext = contexte de rendu courant (0-11)
+; Out: wPlayerVarAB = $0C (PLAYER_VAR_AB_INIT)
+;      wAudioCondition = 0
+;      wAnimFlag = flag d'animation selon AnimFlagTable[hRenderContext]
+; Modifie: a, de, hl
+InitAudioAndAnimContext:
+    ld a, PLAYER_VAR_AB_INIT
+    ld [wPlayerVarAB], a
+    call FindAudioTableEntry
+    xor a
+    ld [wAudioCondition], a
+    ld hl, AnimFlagTable
+    ldh a, [hRenderContext]
+    ld d, $00
+    ld e, a
+    add hl, de
+    ld a, [hl]
+    ld [wAnimFlag], a
+    ret
+
+
+; FindAudioTableEntry
+; --------------------
+; Description: Recherche l'entrée audio correspondant au contexte de rendu courant
+;              et réinitialise le buffer d'objets. Parcourt la table audio ROM
+;              pour trouver la première entrée >= wPlayerVarAB.
+; In:  hRenderContext = index contexte de rendu (utilisé pour pointer dans ROM_AUDIO_INDEX_TABLE)
+;      wPlayerVarAB = valeur de recherche (seuil audio)
+; Out: wAudioState0/1 = pointeur vers l'entrée audio trouvée
+;      wObjectBuffer = rempli avec $FF (OBJECT_STRUCT_SIZE × 10 objets)
+; Modifie: a, bc, de, hl
+FindAudioTableEntry:
+    ld hl, ROM_AUDIO_INDEX_TABLE
+    ldh a, [hRenderContext]
+    rlca
+    ld d, $00
+    ld e, a
+    add hl, de
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl]
+    ld d, a
+    ld h, d
+    ld l, e
+    ld a, [wPlayerVarAB]
+    ld b, a
+
+FindAudioTableEntry_SearchLoop:
+    ld a, [hl]
+    cp b
+    jr nc, FindAudioTableEntry_Found
+
+    inc hl
+    inc hl
+    inc hl
+    jr FindAudioTableEntry_SearchLoop
+
+FindAudioTableEntry_Found:
+    ld a, l
+    ld [wAudioState0], a
+    ld a, h
+    ld [wAudioState1], a
+    ld hl, wObjectBuffer
+    ld de, OBJECT_STRUCT_SIZE
+
+ClearObjectBuffer_Loop:
+    ld [hl], SLOT_EMPTY
+    add hl, de
+    ld a, l
+    cp OBJECT_BUFFER_END_LOW     ; Fin buffer objets ($D1A0)
+    jp nz, ClearObjectBuffer_Loop
+
+    ret
+
+; UpdateAudio
+; ----------------
+; Description: Routine principale de mise à jour du système audio.
+;              Appelle successivement la mise à jour de l'état audio,
+;              des sons d'objets, et du traitement des slots audio.
+; In:  Aucun
+; Out: Aucun
+; Modifie: Tous les registres (via sous-routines)
+UpdateAudio:
+    call UpdateAudioState
+    call UpdateAllObjectSounds
+    call ProcessAudioSlots
+    ret
+
+
+; UpdateAudioState
+; ----------------
+; Description: Traite la table d'états audio en comparant wPlayerVarAB avec les seuils
+;              et déclenche des sons positionnés lorsque les seuils sont franchis
+; In:  wAudioState0/1 = pointeur vers table d'états audio (seuil, position, flags)
+;      wPlayerVarAB = valeur actuelle à comparer
+; Out: wAudioState0/1 = pointeur mis à jour (avance de 3 octets par entrée traitée)
+; Modifie: af, bc, de, hl
+UpdateAudioState:
+    ld a, [wAudioState0]
+    ld l, a
+    ld a, [wAudioState1]
+    ld h, a
+    ld a, [hl]
+    ld b, a
+    ld a, [wPlayerVarAB]
+    sub b
+    ret z
+
+    ret c
+
+    ld c, a
+    swap c
+    push hl
+    inc hl
+    ld a, [hl]
+    and AUDIO_POSITION_MASK
+    rlca
+    rlca
+    rlca
+    add AUDIO_PARAM_BASE_Y
+    ldh [hSoundParam1], a
+    ld a, [hl+]
+    and BITS_6_7_MASK
+    swap a
+    add AUDIO_PARAM_BASE_X
+    sub c
+    ldh [hSoundParam2], a
+    call InitSoundConditional
+    pop hl
+    ld de, AUDIO_STATE_ENTRY_SIZE
+    add hl, de
+    ld a, l
+
+; StoreAudioState
+; ----------------
+; Description: Sauvegarde le pointeur audio et reboucle vers UpdateAudioState
+; In:  a = low byte du pointeur, h = high byte du pointeur
+; Out: wAudioState0/1 = pointeur sauvegardé
+; Modifie: af
+StoreAudioState:
+    ld [wAudioState0], a
+    ld a, h
+    ld [wAudioState1], a
+    jr UpdateAudioState
+
+; LoadQueuedAudioConfig
+; ---------------------
+; Description: Charge la configuration audio depuis la queue et initialise les canaux
+; In:  wAudioQueueId = ID de configuration audio à charger (SLOT_EMPTY si vide)
+; Out: Canaux audio initialisés avec config depuis ROM_AUDIO_CONFIG
+; Modifie: af, de, hl
+LoadQueuedAudioConfig:
+    ld a, [wAudioQueueId]
+    ldh [hSoundId], a
+    cp SLOT_EMPTY
+    ret z
+
+    ld d, $00
+    ld e, a
+    rlca
+    add e
+    rl d
+    ld e, a
+    ld hl, ROM_AUDIO_CONFIG
+    add hl, de
+    ld a, [hl+]
+    ldh [hSoundCh4], a
+    jr InitAudioChannels
+
+; InitSoundConditional
+; --------------------
+; Description: Initialise l'audio conditionnellement selon le niveau et les flags
+; In:  hl = pointeur vers ID son (bit 7 = flag skip si hLevelIndex=0)
+; Out: Canaux audio configurés, objets itérés
+; Modifie: af, bc, de, hl, hSoundId, hSoundCh*, hSoundVar*
+InitSoundConditional:
+    ldh a, [hLevelIndex]
+    and a
+    jr nz, InitAudioFromSound
+
+    bit 7, [hl]
+    ret nz
+
+InitAudioFromSound:
+    ld a, [hl]
+    and CLEAR_BIT7_MASK
+    ldh [hSoundId], a
+    ld d, $00
+    ld e, a
+    rlca
+    add e
+    rl d
+    ld e, a
+    ld hl, ROM_AUDIO_CONFIG
+    add hl, de
+    ld a, [hl]
+    ldh [hSoundCh4], a
+
+; InitAudioChannels
+; -----------------
+; Description: Initialise les canaux audio et variables, charge la config depuis ROM_AUDIO_CONFIG,
+;              puis itère sur les objets pour sauvegarder les données audio
+; In:  hSoundId = ID du son à charger
+; Out: Canaux audio configurés, SaveSoundDataToSlot appelé avec le count d'objets
+; Modifie: af, bc, de, hl, hSoundCh1, hSoundCh2, hSoundVar1-5, wStateRender (conditionnel)
+InitAudioChannels:
+    ; Réinitialise les canaux audio
+    xor a
+    ldh [hSoundCh1], a
+    ldh [hSoundCh2], a
+    ldh [hSoundVar1], a
+    ldh [hSoundVar2], a
+    ldh [hSoundVar4], a
+
+    ; Calcule l'offset dans ROM_AUDIO_CONFIG: de = hSoundId * 3
+    ldh a, [hSoundId]
+    ld d, $00
+    ld e, a
+    rlca              ; a = hSoundId * 2
+    add e             ; a = hSoundId * 3
+    rl d              ; Propage carry dans d
+    ld e, a
+
+    ; Charge les paramètres audio depuis ROM_AUDIO_CONFIG[id*3 + 1..2]
+    ld hl, ROM_AUDIO_CONFIG
+    add hl, de
+    inc hl            ; Pointe vers +1
+    ld a, [hl+]
+    ldh [hSoundVar3], a
+    ld a, [hl]
+    ldh [hSoundVar5], a
+
+    ; Si Var5 >= AUDIO_PARAM1_LIMIT, active le render state buffer
+    cp AUDIO_PARAM1_LIMIT
+    jr c, ConfigAudioChannel
+
+    ld a, STATE_RENDER_STATE_BUFFER
+    ld [wStateRender], a
+
+ConfigAudioChannel:
+    ; Prépare l'itération sur les objets
+    ld de, OBJECT_STRUCT_SIZE
+    ld b, $00         ; Compteur d'objets
+    ld hl, wObjectBuffer
+
+IterateObjects_Loop:
+    ; Vérifie si l'objet est actif (valeur != $FF)
+    ld a, [hl]
+    inc a
+    jr z, IterateObjects_End
+
+    ; Incrémente compteur et passe à l'objet suivant
+    inc b
+    add hl, de
+    ld a, l
+    cp AUDIO_OBJECT_END_LOW
+    jr nz, IterateObjects_Loop
+
+    ret
+
+
+IterateObjects_End:
+    ; Sauvegarde le nombre d'objets traités
+    ld a, b
+    call SaveSoundDataToSlot
+    ret
+
+
+; PlaySound
+; ---------
+; Description: Joue un effet sonore en initialisant un slot audio avec les paramètres fournis
+; In:  a = ID du son à jouer
+;      hSoundParam1 = paramètre 1 (aligné sur tile +7)
+;      hSoundParam2 = paramètre 2
+; Out: -
+; Modifie: a, hl
+PlaySound:
+    ld hl, wAudioBuffer
+    ld [hl], a
+    ldh a, [hSoundParam1]
+    and TILE_ALIGN_MASK          ; Aligner sur tile (8 pixels)
+    add $07
+    ld [wAudioBufVar2], a
+    ldh a, [hSoundParam2]
+    ld [wAudioBufVar3], a
+    call InitSoundSlot
+    ld a, STATE_RENDER_STATE_BUFFER
+    ld [wStateBuffer], a
+    ret
+
+
+; ProcessAudioSlots
+; ------------------
+; Description: Traite les slots audio actifs, vérifie les paramètres de position et
+;              remplit le buffer audio sprite
+; In:  wObjectBuffer = buffer d'objets avec slots audio
+; Out: wAudioState2 = compteur de slots traités
+;      Buffer audio sprite rempli avec AUDIO_BUFFER_FILL_VALUE
+; Modifie: af, bc, de, hl, wAudioState2, wAudioData
+ProcessAudioSlots:
+    xor a
+    ld [wAudioState2], a
+    ld c, $00
+
+ProcessAudioSlot_Loop:
+    ld a, [wAudioState2]
+    cp MAX_AUDIO_SLOTS         ; 20 slots max
+    ret nc
+
+    push bc
+    ld a, c
+    swap a
+    ld hl, wObjectBuffer
+    ld l, a
+    ld a, [hl]
+    inc a
+    jr z, AudioSlotLoopEnd
+
+    ld a, c
+    call LoadSoundDataFromSlot
+    ldh a, [hSoundParam2]
+    cp AUDIO_PARAM2_LIMIT
+    jr c, ProcessAudioSlot_CheckParam1
+
+ProcessAudioSlot_Disable:
+    ld a, SLOT_EMPTY            ; Marqueur slot audio désactivé
+    ldh [hSoundId], a
+    ld a, c
+    call SaveSoundDataToSlot
+    jr AudioSlotLoopEnd
+
+ProcessAudioSlot_CheckParam1:
+    ldh a, [hSoundParam1]
+    cp AUDIO_PARAM1_LIMIT
+    jr nc, ProcessAudioSlot_Disable
+
+    call ProcessAudioChannelData
+
+AudioSlotLoopEnd:
+    pop bc
+    inc c
+    ld a, c
+    cp AUDIO_SLOT_LOOP_COUNT     ; 10 slots audio
+    jr nz, ProcessAudioSlot_Loop
+
+    ld hl, wSpriteVar50
+    ld a, [wAudioState2]
+    rlca
+    rlca
+    ld d, $00
+    ld e, a
+    add hl, de
+
+FillAudioBufferLoop:
+    ld a, l
+    cp SPRITE_BUFFER_END_LOW     ; Fin buffer sprite ($C0A0)
+    jp nc, FillAudioBuffer_Exit
+
+    ld a, AUDIO_BUFFER_FILL_VALUE
+    ld [hl], a
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    jr FillAudioBufferLoop
+
+FillAudioBuffer_Exit:
+    ret
+
+
+; ProcessAudioChannelData
+; ----------------
+; Description: Lit les commandes audio depuis une table ROM et les écrit dans le buffer audio sprite.
+;              Sélectionne la table appropriée selon hSoundCh2, puis traite les commandes séquentiellement.
+;              Chaque commande peut modifier hSoundParam1/2 (bits 0-3) ou écrire un quadruplet (bit 7).
+; In:  hSoundCh2 = sélecteur de table (bit 0: 0=TABLE_1, 1=TABLE_2)
+;      hSoundCh3 = index dans la table (*2 car pointeurs 16-bit)
+;      hSoundParam1, hSoundParam2 = paramètres modifiables
+;      wAudioState2 = offset dans buffer sprite (*4)
+; Out: wAudioState2 incrémenté pour chaque quadruplet écrit
+; Modifie: bc (pointeur buffer), de, hl (pointeur commandes), wAudioData
+ProcessAudioChannelData:
+    xor a
+    ld [wAudioData], a
+    ld hl, wSpriteVar50
+    ld a, [wAudioState2]
+    rlca
+    rlca                        ; *4 pour quadruplets
+    ld d, $00
+    ld e, a
+    add hl, de
+    ld b, h
+    ld c, l                     ; bc = pointeur buffer de sortie
+    ld hl, ROM_AUDIO_CHANNEL_TABLE_1
+    ldh a, [hSoundCh2]
+    and BIT_0_MASK
+    jr nz, LoadSoundChannel3Data
+
+    ld hl, ROM_AUDIO_CHANNEL_TABLE_2
+
+LoadSoundChannel3Data:
+    ldh a, [hSoundCh3]
+    rlca                        ; *2 car table de pointeurs 16-bit
+    ld d, $00
+    ld e, a
+    add hl, de
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl]
+    ld d, a
+    ld h, d
+    ld l, e                     ; hl = pointeur vers les commandes audio
+
+ProcessAudioCommandLoop:
+    ld a, [wAudioState2]
+    cp MAX_AUDIO_SLOTS         ; 20 slots max
+    ret nc
+
+NextAudioCommand:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    ret z
+
+    bit 7, a                    ; Bit 7: écrire un quadruplet
+    jr nz, WriteAudioOutput
+
+    rlca
+    res 4, a
+    ld [wAudioData], a
+    ld a, [hl]
+    bit 3, a                    ; Bit 3: param1 -= 8
+    jr z, SkipParam1Sub
+
+    ldh a, [hSoundParam1]
+    sub TILE_SIZE_PIXELS
+    ldh [hSoundParam1], a
+    ld a, [hl]
+
+SkipParam1Sub:
+    bit 2, a                    ; Bit 2: param1 += 8
+    jr z, SkipParam1Add
+
+    ldh a, [hSoundParam1]
+    add TILE_SIZE_PIXELS
+    ldh [hSoundParam1], a
+    ld a, [hl]
+
+SkipParam1Add:
+    bit 1, a                    ; Bit 1: param2 -= 8
+    jr z, ProcessAudioParam2
+
+    ldh a, [hSoundParam2]
+    sub TILE_SIZE_PIXELS
+    ldh [hSoundParam2], a
+    ld a, [hl]
+
+ProcessAudioParam2:
+    bit 0, a                    ; Bit 0: param2 += 8
+    jr z, NextAudioData
+
+    ldh a, [hSoundParam2]
+    add TILE_SIZE_PIXELS
+    ldh [hSoundParam2], a
+
+NextAudioData:
+    inc hl
+    jr NextAudioCommand
+
+WriteAudioOutput:
+    ldh a, [hSoundParam1]
+    ld [bc], a                  ; Quadruplet: param1, param2, commande, audioData
+    inc bc
+    ldh a, [hSoundParam2]
+    ld [bc], a
+    inc bc
+    ld a, [hl]
+    ld [bc], a
+    inc bc
+    ld a, [wAudioData]
+    ld [bc], a
+    inc bc
+    inc hl
+    ld a, [wAudioState2]
+    inc a
+    ld [wAudioState2], a
+    jr ProcessAudioCommandLoop
+
+
+; UpdateAllObjectSounds
+; ---------------------
+; Description: Parcourt tous les objets du buffer et met à jour leurs sons associés.
+;              Pour chaque objet actif, charge les données audio, récupère les pointeurs
+;              depuis la table ROM_AUDIO_POINTERS, traite l'animation sonore, puis sauvegarde.
+; In:  Aucun
+; Out: Aucun
+; Modifie: af, bc, de, hl (via sous-routines)
+UpdateAllObjectSounds:
+    ld hl, wObjectBuffer
+
+AudioObjectLoopIteration:
+    ld a, [hl]
+    inc a
+    jr z, NextSoundObject
+
+    push hl
+    call LoadSoundDataFromHL
+    ld hl, ROM_AUDIO_POINTERS   ; Table pointeurs données audio ($3495)
+    ldh a, [hSoundId]
+    rlca
+    ld d, $00
+    ld e, a
+    add hl, de
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl]
+    ld d, a
+    ld h, d
+    ld l, e
+    call ProcessSoundAnimation
+    pop hl
+    push hl
+    call SaveSoundDataToHL
+    pop hl
+
+NextSoundObject:
+    ld a, l
+    add OBJECT_STRUCT_SIZE
+    ld l, a
+    cp OBJECT_BUFFER_END_LOW     ; Fin buffer objets
+    jp nz, AudioObjectLoopIteration
+
+    ret
+
+
+; ProcessSoundAnimation
+; ----------------------
+; Description: Traite l'animation sonore d'un objet en gérant le déplacement
+;              et la synchronisation avec les tiles. Gère un compteur d'animation
+;              et vérifie les collisions avec les tiles.
+; In:  hSoundVar1 = nombre d'itérations restantes
+;      hSoundVar2 = compteur (nibble haut) et limite (nibble bas)
+;      hSoundCh4 = flags de canal audio (bit 1 = mode déplacement actif)
+;      hSoundParam1 = paramètre de position
+; Out: (aucun retour spécifique)
+; Modifie: a, b, flags
+ProcessSoundAnimation:
+
+ProcessSoundAnimationLoop:
+    ldh a, [hSoundVar1]
+    and a
+    jr z, ProcessAudioQueue_Loop
+
+    ldh a, [hSoundCh4]
+    bit 1, a
+    jr z, SoundAnimUpdateVar2
+
+    call CheckObjectTileBottomLeft
+    jr nc, SoundAnimClearParam1
+
+    ldh a, [hSoundParam1]
+    inc a
+    ldh [hSoundParam1], a
+    ret
+
+
+SoundAnimClearParam1:
+    ldh a, [hSoundParam1]
+    and TILE_ALIGN_MASK          ; Aligner sur tile (8 pixels)
+    ldh [hSoundParam1], a
+
+SoundAnimUpdateVar2:
+    ldh a, [hSoundVar2]
+    and NIBBLE_HIGH_MASK         ; Compteur (nibble haut)
+    swap a
+    ld b, a
+    ldh a, [hSoundVar2]
+    and NIBBLE_LOW_MASK          ; Limite (nibble bas)
+    cp b
+    jr z, SoundAnimResetVar2
+
+    inc b
+    swap b
+    or b
+    ldh [hSoundVar2], a
+    ret
+
+
+SoundAnimResetVar2:
+    ldh a, [hSoundVar2]
+    and NIBBLE_LOW_MASK          ; Garder limite, reset compteur
+    ldh [hSoundVar2], a
+    ldh a, [hSoundVar1]
+    dec a
+    ldh [hSoundVar1], a
+    jp ProcessSoundCollisionCheck
+
+
+AudioQueueProcessing:
+; ProcessAudioQueue_Loop
+; -----------------------
+; Description: Parcourt une file d'attente audio pointée par HL et traite chaque entrée.
+;              Utilise hSoundCh1 comme index dans la file. Gère différents types de commandes
+;              audio (F0, F8, F1, F2, F3...) et route vers les handlers appropriés.
+; In:  hl = pointeur vers la file audio
+;      hSoundCh1 = index courant dans la file
+; Out: (aucun retour spécifique, traite la file jusqu'à slot vide ou commande traitée)
+; Modifie: af, bc, de, hl (via sous-routines)
+ProcessAudioQueue_Loop:
+    push hl
+    ld d, $00
+    ldh a, [hSoundCh1]
+    ld e, a
+    add hl, de
+    ld a, [hl]
+    ld [wAudioQueueType], a
+    cp SLOT_EMPTY
+    jr nz, ProcessAudioQueue_Found
+
+    xor a
+    ldh [hSoundCh1], a
+    pop hl
+    jr ProcessAudioQueue_Loop
+
+ProcessAudioQueue_Found:
+    ldh a, [hSoundCh1]
+    inc a
+    ldh [hSoundCh1], a
+    ld a, [wAudioQueueType]
+    and NIBBLE_HIGH_MASK         ; Type audio (nibble haut)
+    cp AUDIO_CMD_F0              ; Type $F0 = traitement spécial
+    jr z, ProcessAudioQueue_Type_F0
+
+    ld a, [wAudioQueueType]
+    and BITS_5_7_MASK           ; Masque bits 5-7 audio type
+    cp BITS_5_7_MASK            ; Test si tous bits 5-7 actifs
+    jr nz, ProcessAudioQueue_Type_Other
+
+    ld a, [wAudioQueueType]
+    and NIBBLE_LOW_MASK          ; Paramètre audio (nibble bas)
+    ldh [hSoundVar1], a
+    pop hl
+    jr ProcessSoundAnimationLoop
+
+ProcessAudioQueue_Type_Other:
+    ld a, [wAudioQueueType]
+    ldh [hSoundFlag], a
+    ld a, FLAG_TRUE
+    ldh [hSoundVar1], a
+    pop hl
+    jp ProcessSoundAnimationLoop
+
+
+ProcessAudioQueue_Type_F0:
+    ldh a, [hSoundCh1]
+    inc a
+    ldh [hSoundCh1], a
+    inc hl
+    ld a, [hl]
+    ld [wAudioQueueId], a
+    ld a, [wAudioQueueType]
+    cp AUDIO_CMD_F8             ; Commande set channel 3 ?
+    jr nz, ProcessAudioQueue_Type_F0_NotF8
+
+    ld a, [wAudioQueueId]
+    ldh [hSoundCh3], a
+    pop hl
+    jr ProcessAudioQueue_Loop
+
+ProcessAudioQueue_Type_F0_NotF8:
+    cp AUDIO_CMD_F0             ; Commande special processing ?
+    jr nz, CheckAudioCommand_F1
+
+    ld a, [wAudioQueueId]
+    and BITS_6_7_MASK           ; Test bits direction audio
+    jr z, CheckAudioQueueBits54
+
+    bit 7, a
+    jr z, CheckAudioQueueBit6
+
+    ldh a, [hSoundCh2]
+    and CLEAR_BIT_1_MASK        ; Efface bit 1
+    ld b, a
+    ld a, [wPlayerX]
+    ld c, a
+    ldh a, [hSoundParam1]
+    sub c
+    rla
+    rlca
+    and BIT_1_MASK              ; Isole bit 1
+    or b
+    ldh [hSoundCh2], a
+
+CheckAudioQueueBit6:
+    ld a, [wAudioQueueId]
+    bit 6, a
+    jr z, CheckAudioQueueBits54
+
+    ld a, [wPlayerState]
+    ld c, a
+    ldh a, [hSoundParam2]
+    ld b, a
+    ldh a, [hSoundVar3]
+    and ANIM_HEIGHT_MASK
+    rrca
+    rrca
+    add b
+    sub c
+    rla
+    and BIT_0_MASK              ; Isole bit 0
+    ld b, a
+    ldh a, [hSoundCh2]
+    and CLEAR_BIT_0_MASK        ; Efface bit 0
+    or b
+    ldh [hSoundCh2], a
+
+; CheckAudioQueueBits54
+; ----------------
+; Description: Traite les bits 2-3 de la queue audio pour modifier le canal 2 en XOR
+; In:  wAudioQueueId = ID de la commande audio
+; Out: hSoundCh2 modifié par XOR avec les bits 2-3 décalés
+; Modifie: a, b
+CheckAudioQueueBits54:
+    ld a, [wAudioQueueId]
+    and BITS_2_3_MASK           ; Masque bits 2-3 (canal audio)
+    jr z, CheckAudioQueueBit5
+
+    rra
+    rra
+    ld b, a
+    ldh a, [hSoundCh2]
+    xor b
+    ldh [hSoundCh2], a
+
+; CheckAudioQueueBit5
+; ----------------
+; Description: Traite le bit 5 de la queue audio pour modifier le bit 1 du canal 2
+; In:  wAudioQueueId = ID de la commande audio
+; Out: hSoundCh2 bit 1 modifié selon bit 1 de wAudioQueueId si bit 5 est set
+; Modifie: a, b
+CheckAudioQueueBit5:
+    ld a, [wAudioQueueId]
+    bit 5, a
+    jr z, CheckAudioQueueBit4
+
+    and BIT_1_MASK              ; Isole bit 1
+    or CLEAR_BIT_1_MASK         ; Ou avec $FD (preserve autres bits)
+    ld b, a
+    ldh a, [hSoundCh2]
+    set 1, a
+    and b
+    ldh [hSoundCh2], a
+
+; CheckAudioQueueBit4
+; ----------------
+; Description: Traite le bit 4 de la queue audio pour modifier le bit 0 du canal 2
+; In:  wAudioQueueId = ID de la commande audio
+; Out: hSoundCh2 bit 0 modifié selon bit 0 de wAudioQueueId si bit 4 est set
+; Modifie: a, b
+CheckAudioQueueBit4:
+    ld a, [wAudioQueueId]
+    bit 4, a
+    jr z, AudioQueueProcessDone
+
+    and BIT_0_MASK              ; Isole bit 0
+    or CLEAR_BIT_0_MASK         ; Ou avec $FE (preserve autres bits)
+    ld b, a
+    ldh a, [hSoundCh2]
+    set 0, a
+    and b
+    ldh [hSoundCh2], a
+
+; AudioQueueProcessDone
+; ---------------------
+; Description: Termine le traitement d'une commande audio et retourne à la boucle principale
+; In:  stack = hl sauvegardé précédemment
+; Out: Saute vers AudioQueueProcessing pour continuer la boucle
+; Modifie: hl (restauré depuis pile)
+AudioQueueProcessDone:
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_F1
+; --------------------
+; Description: Traite la commande audio F1 en sauvegardant l'état actuel,
+;              chargeant une nouvelle config audio, puis restaurant l'état
+; In:  a = commande audio à vérifier
+; Out: Si a = AUDIO_CMD_F1, saute à AudioQueueProcessing, sinon continue à CheckAudioCommand_F2
+; Modifie: a, hl (via appels), stack (pop hl)
+CheckAudioCommand_F1:
+    cp AUDIO_CMD_F1
+    jr nz, CheckAudioCommand_F2
+
+    ld a, AUDIO_SLOT_10
+    call SaveSoundDataToSlot
+    call LoadQueuedAudioConfig
+    ld a, AUDIO_SLOT_10
+    call LoadSoundDataFromSlot
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_F2
+; --------------------
+; Description: Vérifie et traite la commande audio F2 (set channel 4)
+; In:  a = commande audio à vérifier
+;      hl = sur la pile (adresse de retour)
+; Out: Si a = AUDIO_CMD_F2, configure hSoundCh4 et continue AudioQueueProcessing
+;      Sinon, passe à CheckAudioCommand_F3
+; Modifie: a, hSoundCh4
+CheckAudioCommand_F2:
+    cp AUDIO_CMD_F2
+    jr nz, CheckAudioCommand_F3
+
+    ld a, [wAudioQueueId]
+    ldh [hSoundCh4], a
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_F3
+; --------------------
+; Description: Vérifie et traite la commande audio F3 (init sound with data pointer)
+;              Initialise un slot sonore et charge le pointeur vers les données audio
+; In:  a = commande audio à vérifier
+;      hl = sur la pile (adresse de retour)
+;      wAudioQueueId = ID du son à initialiser
+; Out: Si a = AUDIO_CMD_F3:
+;        - Si wAudioQueueId = SLOT_EMPTY, termine la commande (AudioCommand_CompleteExit)
+;        - Sinon, initialise le slot, récupère le pointeur dans ROM_AUDIO_POINTERS
+;          et continue le traitement (AudioQueueProcessing)
+;      Si a != AUDIO_CMD_F3, passe à CheckAudioCommand_F4
+; Modifie: a, bc, de, hl, hSoundId
+CheckAudioCommand_F3:
+    cp AUDIO_CMD_F3
+    jr nz, CheckAudioCommand_F4
+
+    ld a, [wAudioQueueId]
+    ldh [hSoundId], a
+    cp SLOT_EMPTY
+    jp z, AudioCommand_CompleteExit
+
+    ld hl, hSoundId
+    call InitSoundSlot
+    pop hl
+    ld hl, ROM_AUDIO_POINTERS   ; Table pointeurs données audio
+    ldh a, [hSoundId]
+    rlca                        ; a *= 2 (pointeurs de 2 octets)
+    ld d, $00
+    ld e, a
+    add hl, de                  ; hl = ROM_AUDIO_POINTERS + (hSoundId * 2)
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl]
+    ld d, a                     ; de = pointeur données audio
+    ld h, d
+    ld l, e                     ; hl = pointeur données audio
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_F4
+; ----------------
+; Description: Vérifie et traite la commande audio F4 (set var2)
+;              Stocke l'ID audio dans la variable sonore 2
+; In:  a = commande audio à vérifier
+;      hl = sur la pile (adresse de retour)
+;      wAudioQueueId = ID audio à stocker
+; Out: Si a = AUDIO_CMD_F4:
+;        - hSoundVar2 = wAudioQueueId
+;        - Continue le traitement (AudioQueueProcessing)
+;      Si a != AUDIO_CMD_F4, passe à CheckAudioCommand_F5
+; Modifie: a, hl
+CheckAudioCommand_F4:
+    cp AUDIO_CMD_F4
+    jr nz, CheckAudioCommand_F5
+
+    ld a, [wAudioQueueId]
+    ldh [hSoundVar2], a
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_F5
+; --------------------
+; Description: Vérifie et traite la commande audio F5 (random timing).
+;              Si la commande est F5, utilise le timer DIV pour générer un comportement aléatoire:
+;              - Si DIV & 3 == 0 (1 fois sur 4), redirige vers CheckAudioCommand_F1
+;              - Sinon, continue le traitement audio normal
+; In:  a = commande audio à vérifier
+; Out: Si a = AUDIO_CMD_F5:
+;        - Soit redirige vers CheckAudioCommand_F1 (25% de chance)
+;        - Soit continue AudioQueueProcessing (75% de chance)
+;      Si a != AUDIO_CMD_F5, passe à CheckAudioCommand_F6
+; Modifie: a
+CheckAudioCommand_F5:
+    cp AUDIO_CMD_F5
+    jr nz, CheckAudioCommand_F6
+
+    ldh a, [rDIV]
+    and FRAME_MASK_4
+    ld a, AUDIO_CMD_F1
+    jr z, CheckAudioCommand_F1
+
+    pop hl
+    jp AudioQueueProcessing
+
+
+CheckAudioCommand_F6:
+    cp AUDIO_CMD_F6
+    jr nz, CheckAudioCommand_F7
+
+    ld a, [wPlayerState]
+    ld b, a
+    ldh a, [hSoundParam2]
+    sub b
+    add PLAYER_DISTANCE_OFFSET
+    cp PLAYER_DISTANCE_RANGE
+    ld a, [wAudioQueueId]
+    dec a
+    jr z, AudioCommand_F6_CheckTiming
+
+    ccf
+
+AudioCommand_F6_CheckTiming:
+    jr c, AudioCommand_F6_Return
+
+    ldh a, [hSoundCh1]
+    dec a
+    dec a
+    ldh [hSoundCh1], a
+    pop hl
+    ret
+
+
+AudioCommand_F6_Return:
+    pop hl
+    jp AudioQueueProcessing
+
+
+CheckAudioCommand_F7:
+    cp AUDIO_CMD_F7
+    jr nz, CheckAudioCommand_F9
+
+    call DestroyAllObjects
+    pop hl
+    ret
+
+
+CheckAudioCommand_F9:
+    cp AUDIO_CMD_F9
+    jr nz, CheckAudioCommand_FA
+
+    ld a, [wAudioQueueId]
+    ld [wStateFinal], a
+    pop hl
+    ret
+
+
+CheckAudioCommand_FA:
+    cp AUDIO_CMD_FA
+    jr nz, CheckAudioCommand_FB
+
+    ld a, [wAudioQueueId]
+    ld [wStateBuffer], a
+    pop hl
+    ret
+
+
+CheckAudioCommand_FB:
+    cp AUDIO_CMD_FB
+    jr nz, CheckAudioCommand_FC
+
+    ld a, [wAudioQueueId]
+    ld c, a
+    ld a, [wPlayerState]
+    ld b, a
+    ldh a, [hSoundParam2]
+    sub b
+    cp c
+    jr c, AudioCommand_FB_CarryJump
+
+    xor a
+    ldh [hSoundCh1], a
+    pop hl
+    jp AudioQueueProcessing
+
+
+AudioCommand_FB_CarryJump:
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_FC
+; --------------------
+; Description: Vérifie si la commande audio est $FC. Si oui, charge wAudioQueueId
+;              dans hSoundParam1, initialise hSoundParam2 à sa valeur par défaut,
+;              puis continue le traitement audio.
+; In:  a = commande audio à vérifier
+;      wAudioQueueId = ID de la queue audio
+; Out: Si a == $FC, saute vers AudioQueueProcessing. Sinon, continue vers CheckAudioCommand_FD
+; Modifie: a, hl (via pop)
+CheckAudioCommand_FC:
+    cp AUDIO_CMD_FC
+    jr nz, CheckAudioCommand_FD
+
+    ld a, [wAudioQueueId]
+    ldh [hSoundParam1], a
+    ld a, AUDIO_PARAM2_DEFAULT
+    ldh [hSoundParam2], a
+    pop hl
+    jp AudioQueueProcessing
+
+
+; CheckAudioCommand_FD
+; --------------------
+; Description: Vérifie si la commande audio est $FD. Si oui, copie wAudioQueueId
+;              dans wStateRender et retourne. Sinon, passe au traitement par défaut.
+; In:  a = commande audio à vérifier
+;      wAudioQueueId = ID de la queue audio
+;      Pile = adresse hl sauvegardée
+; Out: Si a == $FD, wStateRender est mis à jour et retour. Sinon, saute vers AudioCommand_Default
+; Modifie: a, hl (via pop)
+CheckAudioCommand_FD:
+    cp AUDIO_CMD_FD
+    jr nz, AudioCommand_Default
+
+    ld a, [wAudioQueueId]
+    ld [wStateRender], a
+    pop hl
+    ret
+
+
+; AudioCommand_Default
+; --------------------
+; Description: Traitement par défaut des commandes audio non reconnues.
+;              Restaure hl depuis la pile et continue vers AudioQueueProcessing
+; In:  Pile = adresse hl sauvegardée
+; Out: Continue vers AudioQueueProcessing
+; Modifie: hl (via pop)
+AudioCommand_Default:
+    pop hl
+    jp AudioQueueProcessing
+
+
+; AudioCommand_CompleteExit
+; -------------------------
+; Description: Termine proprement le traitement d'une commande audio
+;              Restaure hl depuis la pile et retourne
+; In:  Pile = adresse de retour précédemment sauvegardée
+; Out: Rien (retour à l'appelant)
+; Modifie: hl
+AudioCommand_CompleteExit:
+    pop hl
+    ret
+
+
+; ProcessSoundCollisionCheck
+; --------------------------
+; Description: Traite les collisions sonores en fonction du type (hSoundFlag nibble bas).
+;              Gère les collisions gauche/droite selon hSoundCh2, vérifie les tuiles,
+;              met à jour les paramètres sonores (hSoundParam2) et l'état joueur.
+;              Peut déclencher le scroll horizontal si nécessaire.
+; In:  hSoundFlag = type collision (nibble bas) + vélocité (nibble haut)
+;      hSoundCh2 = bit 0 indique direction (0=gauche, 1=droite)
+;      hSoundCh4 = flags de collision verticale (bits 0, 2-3)
+;      hSoundParam2 = paramètre sonore à ajuster
+;      hSoundVar4 = flag activation mise à jour état joueur
+; Out: hSoundParam2 modifié, wPlayerState potentiellement modifié
+;      hShadowSCX mis à jour si scroll déclenché
+; Modifie: a, bc, affecte plusieurs registres HRAM et WRAM
+ProcessSoundCollisionCheck:
+    ldh a, [hSoundFlag]
+    and NIBBLE_LOW_MASK          ; Type collision (nibble bas)
+    jp z, UpdatePhysicsCollision
+
+    ldh a, [hSoundCh2]
+    bit 0, a
+    jr nz, CollisionCheckTileRight
+
+    call CheckObjectTileBase
+    jr nc, CheckSoundChannel
+
+    ldh a, [hSoundCh4]
+    bit 0, a
+    jr z, SoundParamProcessing
+
+    call CheckObjectTileBottom
+    jr c, SetSoundFrequency
+
+SoundParamProcessing:
+    ldh a, [hSoundFlag]
+    and NIBBLE_LOW_MASK          ; Type collision (nibble bas)
+    ld b, a
+    ldh a, [hSoundParam2]
+    sub b
+    ldh [hSoundParam2], a
+    ldh a, [hSoundVar4]
+    and a
+    jp z, UpdatePhysicsCollision
+
+    ld a, [wPlayerUnk05]
+    ld c, a
+    push bc
+    ld a, PLAYER_DIR_CHECK_LEFT  ; Valeur direction gauche pour collision
+    ld [wPlayerUnk05], a
+    call CheckPlayerSideCollision
+    pop bc
+    and a
+    jr nz, RestoreSoundConfig
+
+    ld a, [wPlayerState]
+    sub b
+    ld [wPlayerState], a
+    cp PLAYER_STATE_OSCIL_THRESH  ; Seuil oscillation ($0F)
+    jr nc, RestoreSoundConfig
+
+    ld a, PLAYER_STATE_OSCIL_THRESH
+    ld [wPlayerState], a
+
+RestoreSoundConfig:
+    ld a, c
+    ld [wPlayerUnk05], a
+    jp UpdatePhysicsCollision
+
+
+CheckSoundChannel:
+    ldh a, [hSoundCh4]
+    and BITS_2_3_MASK           ; Masque bits 2-3 (canal son)
+    cp BLOCK_HIT_NONE           ; Aucun bit actif ?
+    jr z, SoundParamProcessing
+
+    cp BIT_2_MASK               ; Test bit 2 seul
+    jr nz, CheckSoundChannel.ch4_0c
+
+SetSoundFrequency:
+    ldh a, [hSoundCh2]
+    set 0, a
+    ldh [hSoundCh2], a
+    jp UpdatePhysicsCollision
+
+
+CheckSoundChannel.ch4_0c:
+    cp SOUND_CHANNEL_BOTH_BITS
+    jp nz, UpdatePhysicsCollision
+
+    xor a
+    ldh [hSoundCh1], a
+    ldh [hSoundVar1], a
+    jp UpdatePhysicsCollision
+
+
+CollisionCheckTileRight:
+    call CheckObjectTileRight
+    jr nc, CheckObjectTileRight_Path
+
+    ldh a, [hSoundCh4]
+    bit 0, a
+    jr z, ProcessVerticalCollision
+
+    call CheckObjectTileBottomRight
+    jr c, ResetSoundCh2Bit0
+
+ProcessVerticalCollision:
+    ldh a, [hSoundFlag]
+    and NIBBLE_LOW_MASK          ; Type collision (nibble bas)
+    ld b, a
+    ldh a, [hSoundParam2]
+    add b
+    ldh [hSoundParam2], a
+    ldh a, [hSoundVar4]
+    and a
+    jr z, UpdatePhysicsCollision
+
+    ld a, [wPlayerUnk05]
+    ld c, a
+    push bc
+    xor a
+    ld [wPlayerUnk05], a
+    call CheckPlayerSideCollision
+    pop bc
+    and a
+    jr nz, RestoreCollisionFlagAndExit
+
+    ld a, [wPlayerState]
+    add b
+    ld [wPlayerState], a
+    cp PLAYER_STATE_SCROLL_THRESHOLD ; Seuil scroll caméra atteint?
+    jr c, RestoreCollisionFlagAndExit
+
+    ld a, [wCollisionFlag]
+    cp COLLISION_THRESHOLD_7    ; Seuil collision 7
+    jr nc, AlignCameraTo4PixelBoundary
+
+ApplyHorizontalScrollOffset:
+    ld a, [wPlayerState]
+    sub PLAYER_STATE_SCROLL_LIMIT ; Calculer offset scroll
+    ld b, a
+    ld a, PLAYER_STATE_SCROLL_LIMIT ; Limiter état joueur
+    ld [wPlayerState], a
+    ldh a, [hShadowSCX]
+    add b
+    ldh [hShadowSCX], a
+    call OffsetSpritesX
+
+RestoreCollisionFlagAndExit:
+    ld a, c
+    ld [wPlayerUnk05], a
+    jr UpdatePhysicsCollision
+
+AlignCameraTo4PixelBoundary:
+    ldh a, [hShadowSCX]
+    and BITS_2_3_MASK           ; Masque bits 2-3 (alignement 4 pixels)
+    jr nz, ApplyHorizontalScrollOffset
+
+    ldh a, [hShadowSCX]
+    and SCROLL_ALIGN_MASK        ; Aligner scroll sur 4 pixels
+    ldh [hShadowSCX], a
+    jr RestoreCollisionFlagAndExit
+
+CheckObjectTileRight_Path:
+    ldh a, [hSoundCh4]
+    and BITS_2_3_MASK           ; Masque bits 2-3 (canal son)
+    cp BLOCK_HIT_NONE           ; Aucun bit actif ?
+    jr z, ProcessVerticalCollision
+
+    cp BIT_2_MASK               ; Test bit 2 seul
+    jr nz, ClearSoundCh1AndVar1_Collision
+
+ResetSoundCh2Bit0:
+    ldh a, [hSoundCh2]
+    res 0, a
+    ldh [hSoundCh2], a
+    jr UpdatePhysicsCollision
+
+ClearSoundCh1AndVar1_Collision:
+    cp SOUND_CHANNEL_BOTH_BITS
+    jr nz, UpdatePhysicsCollision
+
+    xor a
+    ldh [hSoundCh1], a
+    ldh [hSoundVar1], a
+
+
+; UpdatePhysicsCollision
+; ----------------------
+; Description: Met à jour l'état physique après collision (position, vélocité)
+; In:  hSoundFlag (nibble haut) = vélocité collision, hSoundCh2.bit1 = direction
+; Out: hSoundParam1 ajusté, wPlayerX ajusté si hSoundVar4 actif
+; Modifie: a, b
+UpdatePhysicsCollision:
+    ldh a, [hSoundFlag]
+    and NIBBLE_HIGH_MASK         ; Vélocité collision (nibble haut)
+    jp z, CollisionEnd
+
+    ldh a, [hSoundCh2]
+    bit 1, a
+    jr nz, CheckObjectTileBottomLeft_Path
+
+    call CheckObjectTileTop
+    jr nc, CheckObjectTileTop_Alternatives
+
+; SubtractSoundFlagFromParam1
+; ----------------------------
+; Description: Soustrait le nibble haut de hSoundFlag de hSoundParam1 et optionnellement de wPlayerX
+;              Appelé lors d'une collision pour ajuster la vélocité/position selon hSoundVar4
+; In:  hSoundFlag = valeur avec vélocité dans nibble haut
+;      hSoundParam1 = valeur à ajuster
+;      hSoundVar4 = flag (0 = ajuste seulement param1, ≠0 = ajuste aussi wPlayerX)
+; Out: hSoundParam1 et possiblement wPlayerX ajustés
+; Modifie: a, b
+SubtractSoundFlagFromParam1:
+    ldh a, [hSoundFlag]
+    and NIBBLE_HIGH_MASK         ; Vélocité collision (nibble haut)
+    swap a
+    ld b, a
+    ldh a, [hSoundParam1]
+    sub b
+    ldh [hSoundParam1], a
+    ldh a, [hSoundVar4]
+    and a
+    jr z, CollisionEnd
+
+    ld a, [wPlayerX]
+    sub b
+    ld [wPlayerX], a
+    jr CollisionEnd
+
+; CheckObjectTileTop_Alternatives
+; --------------------------------
+; Description: Gère les cas alternatifs après échec de CheckObjectTileTop
+;              Teste les bits 6-7 de hSoundCh4 pour déterminer la réaction
+; In:  hSoundCh4 = flags de collision (bits 6-7 utilisés)
+; Out: Branche vers différents chemins selon les bits testés
+; Modifie: a, [hSoundCh2] (si bit 6 seul)
+CheckObjectTileTop_Alternatives:
+    ldh a, [hSoundCh4]
+    and BITS_6_7_MASK           ; Masque bits 6-7 (direction audio)
+    cp BLOCK_HIT_NONE           ; Test si aucun bit direction
+    jr z, SubtractSoundFlagFromParam1
+
+    cp BIT_6_MASK               ; Test bit 6 seul
+    jp nz, CollisionPhysics_SoundChannelControl
+
+    ldh a, [hSoundCh2]
+    set 1, a                    ; Active flag spécial chemin bas-gauche
+    ldh [hSoundCh2], a
+    jr CollisionEnd
+
+; CollisionPhysics_SoundChannelControl
+; ------------------------------------
+; Description: Réinitialise les canaux son si collision avec bits 6-7 actifs
+;              Appelée quand le test de collision détecte une configuration spéciale (bits 6-7 = $C0)
+; In:  a = valeur de hSoundCh4 avec bits 6-7 masqués (déjà testée pour $40)
+; Out: hSoundCh1 = 0, hSoundVar1 = 0 si a = $C0, sinon pas de changement
+; Modifie: a
+CollisionPhysics_SoundChannelControl:
+    cp BITS_6_7_MASK            ; Test bits 6-7 ($C0)
+    jr nz, CollisionEnd
+
+    xor a
+    ldh [hSoundCh1], a
+    ldh [hSoundVar1], a
+    jr CollisionEnd
+
+; CheckObjectTileBottomLeft_Path
+; -------------------------------
+; Description: Gère la collision pour le tile bas-gauche (chemin gauche), ajoute la vélocité si collision
+; In:  hSoundFlag (nibble haut) = vélocité collision
+;      hSoundParam1, hSoundVar4 = paramètres de collision
+; Out: hSoundParam1 ajusté, wPlayerX ajusté si hSoundVar4 actif
+; Modifie: a, b
+CheckObjectTileBottomLeft_Path:
+    call CheckObjectTileBottomLeft
+    jr nc, CheckObjectTileBottomLeft_Alternatives
+
+; AddSoundFlagToParam1
+; --------------------
+; Description: Ajoute le nibble haut de hSoundFlag à hSoundParam1 et optionnellement à wPlayerX
+;              Utilisé lors de collisions bas-gauche pour ajuster la vélocité/position selon hSoundVar4
+; In:  hSoundFlag (nibble haut) = vélocité à ajouter
+;      hSoundParam1 = valeur à ajuster
+;      hSoundVar4 = flag (0 = ajuste seulement param1, ≠0 = ajuste aussi wPlayerX)
+; Out: hSoundParam1 et possiblement wPlayerX ajustés
+; Modifie: a, b
+AddSoundFlagToParam1:
+    ldh a, [hSoundFlag]
+    and NIBBLE_HIGH_MASK         ; Vélocité collision (nibble haut)
+    swap a
+    ld b, a
+    ldh a, [hSoundParam1]
+    add b
+    ldh [hSoundParam1], a
+    ldh a, [hSoundVar4]
+    and a
+    jr z, CollisionEnd
+
+    ld a, [wPlayerX]
+    add b
+    ld [wPlayerX], a
+    jr CollisionEnd
+
+
+; CheckObjectTileBottomLeft_Alternatives
+; ----------------
+; Description: Teste les alternatives de collision tile bas-gauche selon l'état audio (bits 4-5 de hSoundCh4)
+; In:  hSoundCh4 contient l'état audio dans les bits 4-5
+; Out: Aucun (void)
+; Modifie: a, hSoundCh2 (si état 10), hSoundCh1 et hSoundVar1 (si état 30), hSoundVar4 (via CollisionEnd)
+; Notes: État 00 → AddSoundFlagToParam1, État 10 → efface bit 1 de Ch2, État 30 → HandleAudioState30
+CheckObjectTileBottomLeft_Alternatives:
+    ldh a, [hSoundCh4]
+    and BITS_4_5_MASK           ; Masque bits 4-5 (état audio)
+    cp AUDIO_STATE_00           ; État audio 0 ?
+    jr z, AddSoundFlagToParam1
+
+    cp AUDIO_STATE_10           ; État audio 1 ?
+    jr nz, HandleAudioState30
+
+    ldh a, [hSoundCh2]
+    res 1, a
+    ldh [hSoundCh2], a
+    jr CollisionEnd
+
+; HandleAudioState30
+; ------------------
+; Description: Gère l'état audio 30 (bits 4-5 = 11) en effaçant les canaux Ch1 et Var1
+; In:  a = état audio (doit être AUDIO_STATE_30 pour exécuter)
+; Out: Aucun (void)
+; Modifie: a, hSoundCh1, hSoundVar1
+HandleAudioState30:
+    cp AUDIO_STATE_30           ; État audio 3 ?
+    jr nz, CollisionEnd
+
+    xor a
+    ldh [hSoundCh1], a
+    ldh [hSoundVar1], a
+
+; CollisionEnd
+; ------------
+; Description: Termine le traitement de collision en réinitialisant le flag hSoundVar4
+; In:  Aucun
+; Out: Aucun (void)
+; Modifie: a, hSoundVar4
+CollisionEnd:
+    xor a
+    ldh [hSoundVar4], a
+    ret
+
+
+; GetAnimationDataPointer
+; ----------------
+; Description: Récupère l'ID son associé à un ID animation et l'initialise si non-nul
+; In:  hl = pointeur vers ID animation (objet)
+; Out: a = RETURN_COLLISION_FOUND ($FF) si son trouvé, 0 sinon
+; Modifie: bc, de (via InitSoundSlot si son trouvé)
+; Notes: Calcule offset = ID * 5 dans ROM_OBJECT_SOUND_TABLE (5 octets/entrée)
+GetAnimationDataPointer:
+    push hl
+    ld a, [hl]              ; a = ID animation
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    ; Calcul: de = a * 4, hl = a
+    sla e
+    rl d
+    sla e
+    rl d
+    add hl, de              ; hl = a + (a * 4) = a * 5
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de              ; hl pointe vers l'entrée son
+    ld a, [hl]              ; a = ID son
+    pop hl
+    and a
+    ret z                   ; Retourne 0 si pas de son
+
+    push hl
+    ld [hl], a              ; Stocke ID son dans objet
+    call InitSoundSlot      ; Initialise le slot audio
+    ld a, RETURN_COLLISION_FOUND
+    pop hl
+    ret
+
+
+; CheckObjectBottomCollision
+; ---------------------------
+; Description: Vérifie collision bas objet et joue son associé (offset +1 dans table)
+; In:  hl = pointeur vers ID objet
+; Out: a = RETURN_COLLISION_FOUND si son joué, 0 sinon
+; Modifie: de, bc (via InitSoundSlot)
+CheckObjectBottomCollision:
+    push hl
+    ld a, [hl]              ; a = ID objet
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    ; Calcul: de = a * 4, hl = a
+    sla e
+    rl d
+    sla e
+    rl d
+    add hl, de              ; hl = a + (a * 4) = a * 5
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de              ; hl pointe vers l'entrée son
+    inc hl                  ; hl pointe vers offset +1 (son collision bas)
+    ld a, [hl]              ; a = ID son collision bas
+    pop hl
+    and a
+    ret z                   ; Retourne 0 si pas de son
+
+    ld [hl], a              ; Stocke ID son dans objet
+    call InitSoundSlot      ; Initialise le slot audio
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+; TriggerObjectSound
+; ------------------
+; Description: Déclenche le son associé à un objet en lisant la table ROM_OBJECT_SOUND_TABLE.
+;              Calcule l'offset (ID * 5 + 2) pour récupérer le paramètre audio à l'index 2
+;              de l'entrée correspondante, puis initialise le slot audio si valide.
+; In:  hl = pointeur vers l'ID de l'objet
+; Out: a = 0 si son initialisé, valeur inchangée sinon
+; Modifie: af, de, hl (via InitSoundSlot)
+TriggerObjectSound:
+    push hl
+    ld a, [hl]
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    sla e
+    rl d
+    sla e
+    rl d
+    add hl, de
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de
+    inc hl
+    inc hl
+    ld a, [hl]
+    pop hl
+    cp SLOT_EMPTY
+    ret z
+
+    and a
+    ret z
+
+    ld [hl], a
+    call InitSoundSlot
+    xor a
+    ret
+
+
+; DecrementObjectAnimationCounter
+; --------------------------------
+; Description: Décrémente le compteur d'animation d'un objet et déclenche des actions
+;              sonores selon des seuils prédéfinis. Si le compteur atteint zéro, charge
+;              les données sonores depuis la table ROM et initialise un slot audio.
+; In:  hl = pointeur vers la structure objet
+; Out: a = RETURN_ANIM_CONTINUE ($FE) si animation continue
+;          RETURN_COLLISION_FOUND ($FF) si compteur à zéro et son initialisé
+; Modifie: af, bc, de, hl (via appel InitSoundSlot si compteur = 0)
+DecrementObjectAnimationCounter:
+    push hl
+    ld a, l
+    add OBJ_FIELD_ANIM_COUNTER
+    ld l, a
+    ld a, [hl]
+    and ANIM_COUNTER_MASK
+    jr z, AnimationCounterZero
+
+    ld a, [hl]
+    dec a
+    ld [hl], a
+    pop hl
+    ld a, [hl]
+    cp ANIM_COUNTER_TRIGGER_50
+    jr z, AnimationObjectTriggerSound
+
+    cp ANIM_COUNTER_TRIGGER_8
+    jr z, AnimationObjectTriggerSound
+
+    jr AnimationObjectSoundDone
+
+AnimationObjectTriggerSound:
+    ld a, FLAG_TRUE
+    ld [wStateVar10], a
+
+AnimationObjectSoundDone:
+    ld a, RETURN_ANIM_CONTINUE
+    ret
+
+
+AnimationCounterZero:
+    pop hl
+    push hl
+    ld a, [hl]
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    sla e
+    rl d
+    sla e
+    rl d
+    add hl, de
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de
+    inc hl
+    inc hl
+    inc hl
+    ld a, [hl]
+    pop hl
+    and a
+    ret z
+
+    ld [hl], a
+    call InitSoundSlot
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+; HandleGameplayObjectSound
+; -------------------------
+; Description: Gère les effets sonores liés aux animations d'objets en gameplay.
+;              Décrémente le compteur d'animation et déclenche des sons selon
+;              des seuils spécifiques (26, 97, 96). Quand le compteur atteint 0,
+;              charge la config audio depuis ROM_OBJECT_SOUND_TABLE.
+; In:  hl = pointeur vers structure objet
+; Out: a = RETURN_ANIM_CONTINUE ou RETURN_COLLISION_FOUND
+; Modifie: a, de, hl
+HandleGameplayObjectSound:
+    push hl
+    ld a, l
+    add OBJ_FIELD_ANIM_COUNTER       ; Offset vers compteur animation
+    ld l, a
+    ld a, [hl]
+    and ANIM_COUNTER_MASK            ; Masquer bits hauts
+    jr z, .counterZero
+
+    ; Décrémenter compteur et tester seuils de déclenchement
+    ld a, [hl]
+    dec a
+    ld [hl], a
+    pop hl
+    ld a, [hl]
+    cp ANIM_COUNTER_TRIGGER_26
+    jr z, .triggerSound
+
+    cp ANIM_COUNTER_TRIGGER_97
+    jr z, .triggerSound
+
+    cp ANIM_COUNTER_TRIGGER_96
+    jr z, .trigger60Sound
+
+    jr .soundDone
+
+.trigger60Sound:
+    ld a, FLAG_TRUE
+    ld [wStateFinal], a
+    jr .soundDone
+
+.triggerSound:
+    ld a, FLAG_TRUE
+    ld [wStateVar10], a
+
+.soundDone:
+    ld a, RETURN_ANIM_CONTINUE
+    ret
+
+
+.counterZero:
+    ; Compteur à zéro : charger config audio depuis table ROM
+    pop hl
+    push hl
+    ld a, [hl]
+    cp ANIM_COUNTER_TRIGGER_96
+    jr nz, .loadAudioConfig
+
+    ; Cas spécial : objet 96
+    ld [wAudioCondition], a
+
+.loadAudioConfig:
+    ; Calcul offset dans ROM_OBJECT_SOUND_TABLE : index * 5 + 4
+    ld a, [hl]
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    sla e                            ; e = index * 2
+    rl d
+    sla e                            ; e = index * 4
+    rl d
+    add hl, de                       ; hl = index * 5
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de
+    inc hl                           ; Avancer vers 5e octet
+    inc hl
+    inc hl
+    inc hl
+    ld a, [hl]                       ; Charger config audio
+    pop hl
+    and a
+    ret z                            ; Pas de son si config = 0
+
+    ld [hl], a
+    call InitSoundSlot               ; Initialiser slot audio
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+; LoadAudioSlotConfiguration
+; --------------------------
+; Description: Charge la configuration audio d'un objet depuis ROM_OBJECT_SOUND_TABLE.
+;              Lit l'ID objet, calcule l'offset (ID * 5 + 4) pour récupérer le 5ème
+;              octet de l'entrée, initialise le slot audio si non-nul.
+; In:  hl = pointeur vers l'ID de l'objet
+; Out: a = 0 si aucun son, RETURN_COLLISION_FOUND ($FF) si son initialisé
+; Modifie: af, bc, de, hl (via InitSoundSlot)
+LoadAudioSlotConfiguration:
+    push hl
+    ld a, [hl]              ; a = ID objet
+    ld e, a
+    ld d, $00
+    ld l, a
+    ld h, $00
+    ; Calcul: de = a * 4, hl = a
+    sla e
+    rl d
+    sla e
+    rl d                    ; de = a * 4
+    add hl, de              ; hl = a + (a * 4) = a * 5
+    ld de, ROM_OBJECT_SOUND_TABLE
+    add hl, de              ; hl pointe sur entrée objet (5 octets)
+    ; Avance au 5ème octet (offset +4)
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    ld a, [hl]              ; a = config audio (5ème octet)
+    pop hl
+    and a
+    ret z                   ; Retourne 0 si config = 0
+
+    ld [hl], a              ; Stocke config dans objet
+    call InitSoundSlot      ; Initialise le slot audio
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+; DestroyAllObjects
+; ------------------
+; Description: Initialise tous les objets actifs à l'état GAME_STATE_INIT27
+;              et réinitialise certains champs. Joue un son de complétion.
+; In:  -
+; Out: wStateFinal = 1
+; Modifie: a, hl
+DestroyAllObjects:
+    ld hl, wObjectBuffer
+
+.scanLoop:
+    ld a, [hl]
+    cp SLOT_EMPTY
+    jr z, .nextEntry
+
+    ; Initialiser l'objet actif
+    push hl
+    ld [hl], GAME_STATE_INIT27   ; [hl+0] = État destruction
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    ld [hl], $00                 ; [hl+4] = 0
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    ld [hl], $00                 ; [hl+9] = 0
+    inc hl
+    inc hl
+    ld [hl], $00                 ; [hl+11] = 0
+    pop hl
+
+.nextEntry:
+    ld a, l
+    add OBJECT_STRUCT_SIZE
+    ld l, a
+    cp OBJECT_BUFFER_END_LOW     ; Fin buffer objets
+    jr c, .scanLoop
+
+    ; Finalisation audio et état
+    ld a, SFX_OBJECT_COMPLETE
+    ldh [hSoundId], a
+    xor a
+    ldh [hSoundCh1], a
+
+; StoreAudioChannel4
+; ------------------
+; Description: Stocke 0 dans hSoundCh4, puis 1 dans wStateFinal
+; In:  a = 0
+; Out: wStateFinal = 1
+; Modifie: a
+StoreAudioChannel4:
+    ldh [hSoundCh4], a
+    inc a
+    ld [wStateFinal], a
+    ret
+
+
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    add COLLISION_OFFSET_4
+    ldh [hSpriteX], a
+    ld c, a
+    ldh a, [hSoundCh2]
+    bit 0, a
+    jr LoadSpriteCoordinates
+
+    ldh a, [hSoundVar3]
+    and ANIM_HEIGHT_MASK
+    rrca
+    add c
+    ldh [hSpriteX], a
+
+LoadSpriteCoordinates:
+    ldh a, [hSoundParam1]
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+
+; CheckObjectTileBase
+; -------------------
+; Description: Vérifie la collision au point de base (gauche) de l'objet avec le tilemap
+;              en testant si le tile est solide ou spécial
+; In:  hSoundParam1 = coordonnée Y de l'objet
+;      hSoundParam2 = coordonnée X de l'objet
+; Out: Carry set si tile solide (< $5F) ou spécial (>= $F0)
+;      Carry clear si tile traversable ($5F-$EF)
+; Modifie: a, c, hSpriteX, hSpriteY
+CheckObjectTileBase:
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    ldh [hSpriteX], a
+    ldh a, [hSoundParam1]
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+
+; -----------------------------------------------------------------------------
+; CheckObjectTileRight
+; --------------------
+; Description: Vérifie le type de tile au bord droit d'un objet pour la
+;              détection de collision. Calcule la position du point de test
+;              en tenant compte du scroll, de la largeur de l'objet et de
+;              sa hauteur (milieu vertical du bord droit).
+; In:  hSoundParam2 = X de l'objet (relatif au scroll)
+;      hSoundParam1 = Y de l'objet
+;      hShadowSCX = Position scroll X
+;      hSoundVar3 = Données d'animation (bits 4-6 = hauteur)
+; Out: carry clear = tile solide (< $5F)
+;      carry set = tile non-solide (>= $5F et < $F0) ou traversable (>= $F0)
+;      a = valeur du tile testé
+; Modifie: a, c, hSpriteX, hSpriteY
+CheckObjectTileRight:
+    ldh a, [hSoundParam2]       ; Charge position X de l'objet
+    ld c, a
+    ldh a, [hShadowSCX]         ; Ajoute le scroll horizontal
+    add c
+    add COLLISION_OFFSET_8      ; Décalage de 8 pixels (bord droit)
+    ld c, a                     ; Sauvegarde X dans c
+    ldh a, [hSoundVar3]         ; Charge données animation
+    and ANIM_HEIGHT_MASK        ; Extrait hauteur (bits 4-6)
+    rrca                        ; Divise par 2 (rrca = rotation droite)
+    add c                       ; Ajoute X pour trouver point test
+    sub COLLISION_OFFSET_8      ; Ajuste pour centrer sur hauteur/2
+    ldh [hSpriteX], a           ; Stocke position X finale
+    ldh a, [hSoundParam1]       ; Charge position Y de l'objet
+    ldh [hSpriteY], a           ; Stocke position Y du point de test
+    call ReadTileUnderSprite    ; Lit le tile à (hSpriteX, hSpriteY)
+    cp TILEMAP_CMD_LOAD2        ; Compare avec $5F (seuil tile solide)
+    ret c                       ; Si < $5F: carry clear = solide, retourne
+
+    cp TILE_SPECIAL_THRESHOLD   ; Compare avec $F0 (seuil tile spécial)
+    ccf                         ; Complément carry (>= $F0 → carry set)
+    ret
+
+
+; CheckObjectTileBottomLeft
+; -------------------------
+; Description: Vérifie le type de tile au coin inférieur gauche d'un objet pour
+;              la détection de collision. Calcule la position du point de test en
+;              tenant compte du scroll et des dimensions de l'objet.
+; In:  hSoundParam2 = X de l'objet (relatif au scroll)
+;      hSoundParam1 = Y de l'objet
+;      hShadowSCX = Position scroll X
+;      hSoundCh2 = Flags de l'objet (bit 0 = utiliser largeur alternative)
+;      hSoundVar3 = Données d'animation (bits 4-6 = hauteur)
+; Out: carry clear = tile solide (< $5F)
+;      carry set = tile non-solide (>= $5F et < $F0) ou traversable (>= $F0)
+;      a = valeur du tile testé
+; Modifie: a, c, hSpriteX, hSpriteY
+CheckObjectTileBottomLeft:
+    ldh a, [hSoundParam2]       ; Charge position X de l'objet
+    ld c, a
+    ldh a, [hShadowSCX]         ; Ajoute le scroll horizontal
+    add c
+    add COLLISION_OFFSET_4      ; Décalage de 4 pixels (coin gauche)
+    ldh [hSpriteX], a           ; Stocke position X du point de test
+    ld c, a                     ; Sauvegarde X dans c
+    ldh a, [hSoundCh2]          ; Charge les flags de l'objet
+    bit 0, a                    ; Teste si utiliser largeur alternative
+    jr .setY                    ; Si bit 0 = 0, passe à setY
+
+    ; Si bit 0 = 1: ajuste X en fonction de la hauteur de l'animation
+    ldh a, [hSoundVar3]         ; Charge données animation
+    and ANIM_HEIGHT_MASK        ; Extrait hauteur (bits 4-6)
+    rrca                        ; Divise par 2
+    add c                       ; Ajoute à la position X
+    ldh [hSpriteX], a           ; Met à jour position X du test
+
+.setY:
+    ldh a, [hSoundParam1]       ; Charge position Y de l'objet
+    add COLLISION_OFFSET_8      ; Décalage de 8 pixels (bas de l'objet)
+    ldh [hSpriteY], a           ; Stocke position Y du point de test
+    call ReadTileUnderSprite    ; Lit le tile à la position (hSpriteX, hSpriteY)
+    cp TILEMAP_CMD_LOAD2        ; Compare avec $5F (seuil tile solide)
+    ret c                       ; Si < $5F: carry clear = solide, retourne
+
+    cp TILE_SPECIAL_THRESHOLD   ; Compare avec $F0 (seuil tile spécial)
+    ccf                         ; Complément carry (>= $F0 → carry set)
+    ret
+
+
+; CheckObjectTileBottom
+; ---------------------
+; Description: Vérifie collision avec la tuile située au bas-centre de l'objet
+;              (point situé à 3 pixels du bord gauche, 8 pixels vers le bas)
+; In:  hSoundParam2 = position X relative de l'objet
+;      hSoundParam1 = position Y relative de l'objet
+;      hShadowSCX   = scroll X de l'écran
+; Out: carry clear = collision avec tile solide (tile < $5F)
+;      carry set   = pas de collision (tile >= $F0 = traversable)
+; Modifie: a, c
+CheckObjectTileBottom:
+    ldh a, [hSoundParam2]       ; Récupère X relatif de l'objet
+    ld c, a
+    ldh a, [hShadowSCX]         ; Ajoute le scroll X
+    add c
+    add COLLISION_OFFSET_3      ; +3 pixels vers le centre
+    ldh [hSpriteX], a           ; Position X du point de test
+    ldh a, [hSoundParam1]       ; Récupère Y relatif de l'objet
+    add COLLISION_OFFSET_8      ; +8 pixels vers le bas
+    ldh [hSpriteY], a           ; Position Y du point de test
+    call ReadTileUnderSprite    ; Lit le tile à (hSpriteX, hSpriteY) → a
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c                       ; Retourne avec carry clear si solide
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf                         ; Inverse carry (>= $F0 → carry set)
+    ret
+
+
+; -----------------------------------------------------------------------------
+; CheckObjectTileBottomRight
+; --------------------------
+; Description: Vérifie collision au coin bas-droit de l'objet (ajusté selon hauteur)
+; In:  hSoundParam1 = Position Y objet
+;      hSoundParam2 = Position X objet (relative)
+;      hSoundVar3 = Flags animation (bits 4-6 = hauteur)
+;      hShadowSCX = Scroll X écran
+; Out: carry clear = collision (tile < $5F ou >= $F0)
+;      carry set = tile solide ($5F-$EF)
+; Modifie: a, c, hSpriteX, hSpriteY
+; -----------------------------------------------------------------------------
+CheckObjectTileBottomRight:
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    add COLLISION_OFFSET_5
+    ld c, a
+    ldh a, [hSoundVar3]
+    and ANIM_HEIGHT_MASK
+    rrca
+    add c
+    sub COLLISION_OFFSET_8
+    ldh [hSpriteX], a
+    ldh a, [hSoundParam1]
+    add COLLISION_OFFSET_8
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+
+; CheckObjectTileTop
+; ------------------
+; Description: Vérifie la collision avec la tuile située au sommet de l'objet.
+;              Calcule la position X avec un offset de 4 pixels, ajuste selon bit 0 de hSoundCh2.
+;              Calcule la position Y en fonction de la hauteur du sprite (index dans bits 0-2).
+; In:  hSoundParam2 = position X relative de l'objet
+;      hShadowSCX = scroll horizontal
+;      hSoundCh2 = flags (bit 0 utilisé pour ajustement X alternatif)
+;      hSoundVar3 = masque hauteur sprite (bits 0-2 = index, bits 4-6 = hauteur anim)
+;      hSoundParam1 = position Y de l'objet
+; Out: carry clear si collision (tuile < $5F), carry set si pas de collision (tuile >= $F0)
+; Modifie: a, c, hSpriteX, hSpriteY
+CheckObjectTileTop:
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    add COLLISION_OFFSET_4
+    ldh [hSpriteX], a
+    ld c, a
+    ldh a, [hSoundCh2]
+    bit 0, a
+    jr .calcY
+
+    ldh a, [hSoundVar3]
+    and ANIM_HEIGHT_MASK
+    rrca
+    add c
+    ldh [hSpriteX], a
+
+.calcY:
+    ldh a, [hSoundVar3]
+    and SPRITE_HEIGHT_INDEX_MASK
+    dec a
+    swap a
+    rrca
+    ld c, a
+    ldh a, [hSoundParam1]
+    sub c
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+; NOTE: Code mort (unreachable) - Deux variantes de collision top inutilisées
+; Adresses $2C31-$2C4E et $2C4F-$2C65 - Ne jamais supprimer (nécessaire pour hash)
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    add COLLISION_OFFSET_3
+    ldh [hSpriteX], a
+    ldh a, [hSoundVar3]
+    and SPRITE_HEIGHT_INDEX_MASK
+    dec a
+    swap a
+    rrca
+    ld c, a
+    ldh a, [hSoundParam1]
+    sub c
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+
+    ldh a, [hSoundParam2]
+    ld c, a
+    ldh a, [hShadowSCX]
+    add c
+    add COLLISION_OFFSET_5
+    ld c, a
+    ldh a, [hSoundVar3]
+    and ANIM_HEIGHT_MASK
+    rrca
+    sub c
+    sub COLLISION_OFFSET_8
+    ldh [hSpriteX], a
+    ldh a, [hSoundVar3]
+    and SPRITE_HEIGHT_INDEX_MASK
+    dec a
+    swap a
+    rrca
+    ld c, a
+    ldh a, [hSoundParam1]
+    sub c
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_LOAD2        ; Tile < $5F = solide
+    ret c
+
+    cp TILE_SPECIAL_THRESHOLD   ; Tile >= $F0 = vide/traversable
+    ccf
+    ret
+
+
+; OffsetSpritesX
+; ----------------
+; Description: Applique un offset horizontal (soustraction) à tous les sprites/objets
+;              et au paramètre son 2. Utilisé pour le scrolling horizontal.
+; In:  b = valeur d'offset à soustraire des positions X
+; Out: Aucun
+; Modifie: a, hl, de (sauvegardés/restaurés), objets modifiés en WRAM
+OffsetSpritesX:
+    ld a, b
+    and a
+    ret z
+
+    ldh a, [hSoundParam2]
+    sub b
+    ldh [hSoundParam2], a
+    push hl
+    push de
+    ld hl, wObjBufferVar03
+    ld de, OBJECT_STRUCT_SIZE
+
+OffsetSpritesX.apply_offset:
+    ld a, [hl]
+    sub b
+    ld [hl], a
+    add hl, de
+    ld a, l
+    cp OBJECT_BUFFER_END_LOW     ; Fin buffer objets
+    jr c, OffsetSpritesX.apply_offset
+
+    pop de
+    pop hl
+    ret
+
+
+; InitSoundSlot
+; --------------
+; Description: Initialise un slot audio avec la configuration issue de ROM_AUDIO_CONFIG
+;              Lit l'ID du son depuis le slot, calcule l'offset dans la table ROM (ID*3),
+;              puis initialise les champs du slot avec les 3 octets de config lus.
+; In:  hl = pointeur vers un slot audio (wObjectBuffer + offset)
+;      [hl] = ID du son (index dans ROM_AUDIO_CONFIG)
+; Out: Slot audio initialisé avec config depuis ROM_AUDIO_CONFIG
+;      hl+4  = $00, hl+7 = param1, hl+8 = $00, hl+9 = $00
+;      hl+10 = param2, hl+12 = param3
+; Modifie: af, bc, de, hl
+InitSoundSlot:
+    push hl
+    ld a, [hl]
+    ld d, $00
+
+InitSoundSlot.load_table:
+    ld e, a
+    rlca
+    add e
+    rl d
+    ld e, a
+    ld hl, ROM_AUDIO_CONFIG
+    add hl, de
+
+InitSoundSlot.read_params:
+    ld a, [hl+]
+    ld b, a
+    ld a, [hl+]
+
+InitSoundSlot.config_ready:
+    ld d, a
+    ld a, [hl]
+    pop hl
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    ld [hl], $00
+    inc hl
+    inc hl
+    inc hl
+    ld [hl], b
+    inc hl
+    ld [hl], $00
+    inc hl
+    ld [hl], $00
+    inc hl
+    ld [hl], d
+    inc hl
+    inc hl
+    ld [hl], a
+    ret
+
+
+; LoadSoundDataFromSlot
+; ---------------------
+; Description: Charge les données audio d'un slot depuis wObjectBuffer vers HRAM (hSoundId+)
+; In:  a = numéro de slot audio (0-15), sera multiplié par 16 via swap
+; Out: Données copiées dans hSoundId (13 octets)
+; Modifie: a, bc, de, hl
+LoadSoundDataFromSlot:
+    swap a
+    ld hl, wObjectBuffer
+    ld l, a
+
+; LoadSoundDataFromHL
+; -------------------
+; Description: Point d'entrée alternatif avec HL déjà configuré
+; In:  hl = adresse source des données audio
+; Out: Données copiées dans hSoundId (13 octets)
+; Modifie: a, bc, de, hl
+LoadSoundDataFromHL:
+    ld de, hSoundId
+    ld b, AUDIO_SLOT_SIZE      ; 13 octets par slot
+
+CopySoundDataLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc de
+    dec b
+    jr nz, CopySoundDataLoop
+
+    ret
+
+
+; SaveSoundDataToSlot
+; -------------------
+; Description: Sauvegarde les données audio depuis HRAM vers un slot dans wObjectBuffer
+;              Utilisé pour préserver l'état d'un effet sonore actif avant un changement de contexte
+; In:  a = index du slot (0-9), hSoundId+12 = données audio à sauvegarder (13 octets)
+; Out: wObjectBuffer[a*16..a*16+12] = données copiées depuis hSoundId
+; Modifie: a, b, de, hl
+SaveSoundDataToSlot:
+    swap a
+    ld hl, wObjectBuffer
+    ld l, a
+
+; SaveSoundDataToHL
+; -----------------
+; Description: Sauvegarde les données audio depuis HRAM vers l'adresse pointée par HL
+; In:  hl = adresse de destination
+; Out: hl = pointe après les données copiées (HL + 13)
+; Modifie: a, bc, de, hl
+SaveSoundDataToHL:
+    ld de, hSoundId
+    ld b, AUDIO_SLOT_SIZE      ; 13 octets par slot
+
+SaveSoundDataLoop:
+    ld a, [de]
+    ld [hl+], a
+    inc de
+    dec b
+    jr nz, SaveSoundDataLoop
+
+    ret
+
+; ===========================================================================
+; Audio Command Sequences (Table 1)
+; Séquences de commandes audio référencées par AudioChannelCommandTable1
+; Format: suite d'octets de commandes, terminées par $FF
+; ===========================================================================
+; AudioCmdSeq_00
+; ----------------
+; Description: Séquence de commandes audio n°0 pour canal 1 (table principale)
+; In: via pointeur de AudioChannelCommandTable1[0]
+; Format: [commande, terminateur] = [$90, $FF]
+; Out: Séquence audio basique avec commande $90 uniquement
+AudioCmdSeq_00:
+    db $90, $FF
+
+; AudioCmdSeq_01 ($2D02)
+; Séquence de 3 octets : $10 (paramètre), $90 (commande), $FF (terminateur)
+AudioCmdSeq_01:
+    db $10, $90, $FF
+
+; AudioCmdSeq_02
+; ----------------
+; Description: Séquence de commandes audio n°2 - commande $91 simple
+; In:  via pointeur de AudioChannelCommandTable1[2]
+; Format: [commande, terminateur] = [$91, $FF]
+; Out: Séquence audio basique avec commande $91 uniquement
+; Note: Utilisée par l'entrée 2 de la table principale de séquences audio
+AudioCmdSeq_02:
+    db $91, $FF
+
+; AudioCmdSeq_03
+; ----------------
+; Description: Séquence de commandes audio n°3 - Configure un paramètre puis exécute commande $90
+; In:  Aucun (table de données)
+; Out: Séquence de 3 octets lue par le moteur audio
+; Format: db $20 (paramètre), $90 (commande), $FF (terminateur)
+; Note: Référencée par AudioChannelCommandTable1 (entrée 3)
+AudioCmdSeq_03:
+    db $20, $90, $FF
+
+; AudioCmdSeq_04
+; ----------------
+; Description: Séquence de commandes audio n°4 - Deux quadruplets audio avec décalage param1
+; In:  Aucun (table de données lue par moteur audio)
+; Out: Séquence de 5 octets traitée par ProcessAudioChannelData
+; Format:
+;   $40 : préparer wAudioData=%10000000 (pas de modification param1/param2)
+;   $93 : écrire quadruplet [param1, param2, $93, %10000000]
+;   $48 : préparer wAudioData=%10000000, param1 -= 8 (bit 3)
+;   $92 : écrire quadruplet [param1-8, param2, $92, %10000000]
+;   $FF : terminateur de séquence
+; Note: Référencée par AudioChannelCommandTable1 (entrée 4)
+AudioCmdSeq_04:
+    db $40, $93, $48, $92, $FF
+
+; AudioCmdSeq_05 ($2D0F)
+; ----------------
+; Séquence de 5 octets : 2 quadruplets audio suivis du terminateur
+; Optimisation ROM: partage les 2 derniers octets ($94, $FF) avec AudioAnimData_00
+;   $40: préparer wAudioData=%10000000 (aucune modification de param1/param2)
+;   $95: écrire quadruplet [param1, param2, $95, %10000000]
+;   $48: préparer wAudioData=%10000000, param1 -= 8 (bit 3)
+;   $94: écrire quadruplet [param1-8, param2, $94, %10000000] (partagé)
+;   $FF: terminateur de séquence (partagé)
+AudioCmdSeq_05:
+    db $40, $95, $48
+
+; Optimisation ROM: AudioAnimData_00 ($2D12) partage ses octets avec la fin de AudioCmdSeq_05
+; Cette zone contient des séquences de commandes audio référencées par AudioChannelCommandTable1
+; et des données d'animation audio (AudioAnimData_00, _01, etc.)
+AudioAnimData_00:
+    db $94, $FF  ; octets partagés avec AudioCmdSeq_05
+
+; AudioAnimData_01 ($2D14)
+; ----------------
+; Description: Séquence d'animation audio avec commandes $97 et $96
+; In:  Accès potentiel via calcul d'offset ou référence directe non identifiée
+; Format: [commande1, paramètre, commande2, terminateur]
+;         $97 = commande audio 1, $08 = paramètre
+;         $96 = commande audio 2, $FF = terminateur de séquence
+; Note: Structure similaire à AudioCmdSeq_06 mais sans paramètres initiaux
+; Modifie: Variables audio selon les commandes exécutées
+AudioAnimData_01:
+    db $97, $08, $96, $FF
+
+; AudioCmdSeq_07_Alt2 ($2D18)
+; ----------------
+; Description: Séquence de commandes audio n°7 pour table alternative (ROM_AUDIO_CHANNEL_TABLE_2)
+; In:  via pointeur de ROM_AUDIO_CHANNEL_TABLE_2[7] à $30AB
+; Format: [commande1, paramètre1, commande2, terminateur]
+;         $99 = commande audio 1 (type inconnu)
+;         $08 = paramètre pour commande $99
+;         $98 = commande audio 2 (type inconnu)
+;         $FF = terminateur de séquence
+; Out: Exécution des commandes audio $99 et $98
+; Modifie: Variables audio selon les commandes exécutées
+AudioCmdSeq_07_Alt2:
+    db $99, $08, $98, $FF
+
+; AudioCmdSeq_06 ($2D1C)
+; ----------------
+; Séquence de commandes audio n°6 (entrée 6 de AudioChannelCommandTable1)
+; Description: Commandes audio $97 et $96 avec paramètres $10 et $18
+; In: via pointeur de AudioChannelCommandTable1[6]
+; Format: [paramètre, commande, paramètre, commande, $FF]
+AudioCmdSeq_06:
+    db $10, $97, $18, $96, $FF
+
+; AudioCmdSeq_07 ($2D21)
+; ----------------
+; Séquence de commandes audio n°7 (entrée 7 de AudioChannelCommandTable1)
+; Description: Commandes audio $99 et $98 avec paramètres $10 et $18
+; In: via pointeur de AudioChannelCommandTable1[7]
+; Format: [paramètre1, commande1, paramètre2, commande2, $FF]
+;         $10 = paramètre pour commande $99
+;         $99 = commande audio 1
+;         $18 = paramètre pour commande $98
+;         $98 = commande audio 2
+;         $FF = terminateur de séquence
+; Modifie: Variables audio selon les commandes exécutées
+AudioCmdSeq_07:
+    db $10, $99, $18, $98, $FF
+
+; AudioCmdSeq_08 ($2D26)
+; ----------------
+; Description: Séquence de commandes audio #8 pour table principale (canal 1)
+; Format: Commande simple $9A terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1[8]
+; Bytes: $9A = Commande audio $9A
+;        $FF = Terminateur de séquence
+AudioCmdSeq_08:
+    db $9A, $FF
+
+; AudioCmdSeq_09 ($2D28)
+; ----------------
+; Séquence de commandes audio n°9 (entrée 9 de AudioChannelCommandTable1)
+; Description: Commandes audio $96 et $97 avec paramètres $20 et $28
+; In: via pointeur de AudioChannelCommandTable1[9]
+; Format: [paramètre, commande, paramètre, commande, $FF]
+AudioCmdSeq_09:
+    db $20, $96, $28, $97, $FF
+
+; AudioCmdSeq_10 ($2D2D)
+; ----------------
+; Séquence de commandes audio n°10 (entrée 10 de AudioChannelCommandTable1)
+; Description: Trio de commandes audio $89, $88, $87 avec paramètres $10, $11, $18
+; In: via pointeur de AudioChannelCommandTable1[10]
+; Format: [param, cmd, param, cmd, param, cmd, $FF]
+AudioCmdSeq_10:
+    db $10, $89, $11, $88, $18, $87, $FF
+
+; AudioCmdSeq_11 ($2D34)
+; ----------------
+; Séquence de commandes audio n°11 (entrée 11 de AudioChannelCommandTable1)
+; Description: Trio de commandes audio $8C, $8B, $8A avec paramètres $10, $11, $18
+; In: via pointeur de AudioChannelCommandTable1[11]
+; Format: [param, cmd, param, cmd, param, cmd, $FF]
+AudioCmdSeq_11:
+    db $10, $8C, $11, $8B, $18, $8A, $FF
+
+; AudioAnimData_03 ($2D3B)
+; ----------------
+; Description: Séquence de commandes audio pour animation/effets sonores
+; In:  Référencée par ROM_AUDIO_CHANNEL_TABLE_2[10] à $30BA
+; Format: [cmd1, param1, cmd2, param2, cmd3, $FF]
+;         $88 = commande audio 1 avec paramètre $01
+;         $89 = commande audio 2 avec paramètre $0A
+;         $87 = commande audio 3 (sans paramètre)
+;         $FF = terminateur de séquence
+; Out: Exécution des commandes audio $88, $89, $87
+; Modifie: Variables audio selon les commandes exécutées
+AudioAnimData_03:
+    db $88, $01, $89, $0A, $87, $FF
+
+; AudioAnimData_04 ($2D41)
+; ----------------
+; Description: Séquence de commandes audio pour animation/effets sonores (entrée 11)
+; In:  Référencée par ROM_AUDIO_CHANNEL_TABLE_2[11] à $30BB (offset $10 dans table à $30AB)
+; Format: [cmd1, param1, cmd2, param2, cmd3, $FF]
+;         $8B = commande audio 1 avec paramètre $01
+;         $8C = commande audio 2 avec paramètre $0A
+;         $8A = commande audio 3 (sans paramètre)
+;         $FF = terminateur de séquence
+; Out: Exécution des commandes audio $8B, $8C, $8A
+; Modifie: Variables audio selon les commandes exécutées
+AudioAnimData_04:
+    db $8B, $01, $8C, $0A, $8A, $FF
+
+; AudioCmdSeq_12 ($2D47)
+; ----------------
+; Séquence de commandes audio n°12 (entrée 12 de AudioChannelCommandTable1)
+; Description: Commandes audio $9C et $8D avec paramètres $10 et $11
+; In: via pointeur de AudioChannelCommandTable1[12]
+; Format: [param, cmd, param, cmd, $FF]
+AudioCmdSeq_12:
+    db $10, $9C, $11, $8D, $FF
+
+; AudioAnimData_05
+; ----------------
+; Description: Séquence de commandes audio pour animation (4 octets)
+; In: Référencée par pointeur de table d'animation audio
+; Format: [cmd1, param, cmd2, terminator]
+; Commandes: $8D avec paramètre $01, $9C, terminée par $FF
+AudioAnimData_05:
+    db $8D, $01, $9C, $FF
+
+; AudioCmdSeq_13 ($2D50)
+; ----------------
+; Séquence de commandes audio n°13 (entrée 13 de AudioChannelCommandTable1)
+; Description: Commandes audio $8D et $9C avec paramètres $20 et $21
+; In: via pointeur de AudioChannelCommandTable1[13]
+; Format: [param, cmd, param, cmd, $FF]
+AudioCmdSeq_13:
+    db $20, $8D, $21, $9C, $FF
+
+; AudioCmdSeq_14 ($2D55)
+; ----------------
+; Séquence de commandes audio n°14 (entrée 14 de AudioChannelCommandTable1)
+; Description: Commande audio $9B simple
+; In: via pointeur de AudioChannelCommandTable1[14]
+; Format: [commande, $FF]
+AudioCmdSeq_14:
+    db $9B, $FF
+
+; AudioCmdSeq_15 ($2D57)
+; ----------------
+; Séquence de commandes audio n°15 (entrée 15 de AudioChannelCommandTable1)
+; Description: Commande audio $9D répétée avec paramètre $11
+; In: via pointeur de AudioChannelCommandTable1[15]
+; Format: [cmd, param, cmd, $FF]
+AudioCmdSeq_15:
+    db $9D, $11, $9D, $FF
+
+; AudioCmdSeq_00Alt ($2D5B)
+; ----------------
+; Description: Séquence de commandes audio pour canal 2 (table alternative, entrée 0)
+; Format: [cmd1, param1, cmd2, terminator]
+; In: Référencée par AudioChannelCommandTable1Alt[0]
+; Commandes: $9E (2x) avec paramètre $11, terminée par $FF
+AudioCmdSeq_00Alt:
+    db $9E, $11, $9E, $FF
+
+; AudioCmdSeq_01_02_Shared ($2D5F)
+; -----------------------------------
+; Description: Séquence de commandes audio partagée pour les séquences 1 et 2
+; Format: Série de commandes $EF (param $01) répétées 3x, terminée par $FF
+; Utilisée par: AudioChannelCommandTable1Alt entries 1 et 2
+AudioCmdSeq_01_02_Shared:
+    db $EF, $01, $EF, $01, $EF, $FF
+
+; AudioCmdSeq_03Alt ($2D65)
+; -----------------------------------
+; Description: Séquence de commandes audio #3 pour table alternative (canal 2)
+; Format: Paires de [commande, paramètre] terminées par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[3]
+; Bytes: $DD, $01 = Commande $DD avec param $01
+;        $DE, $FF = Commande $DE avec terminateur $FF
+AudioCmdSeq_03Alt:
+    db $DD, $01, $DE, $FF
+
+; AudioCmdSeq_04Alt ($2D69)
+; -----------------------------------
+; Description: Séquence de commandes audio #4 pour table alternative (canal 2)
+; Format: Série de paires [paramètre, commande $9D] répétées 4x, terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[4]
+; Bytes: $20,$9D = Commande $9D avec param $20
+;        $31,$9D = Commande $9D avec param $31
+;        $0A,$9D = Commande $9D avec param $0A
+;        $11,$9D = Commande $9D avec param $11
+;        $FF = Terminateur de séquence
+AudioCmdSeq_04Alt:
+    db $20, $9D, $31, $9D, $0A, $9D, $11, $9D, $FF
+
+; ===========================================================================
+; AudioCmdSeq_05Alt
+; ----------------
+; Description: Séquence de commandes audio 5 (table 1 alternative)
+; In:  Utilisée via AudioChannelCommandTable1Alt[5]
+; Bytes: $20,$9E = Commande $9E avec param $20
+;        $31,$9E = Commande $9E avec param $31
+;        $0A,$9E = Commande $9E avec param $0A
+;        $11,$9E = Commande $9E avec param $11
+;        $FF = Terminateur de séquence
+; ===========================================================================
+AudioCmdSeq_05Alt:
+    db $20, $9E, $31, $9E, $0A, $9E, $11, $9E, $FF
+
+; AudioCmdSeq_06Alt
+; ----------------
+; Description: Séquence de commandes audio #6 pour table alternative (canal 2)
+; Format: Commande simple $83 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[6]
+; Bytes: $83 = Commande audio $83
+;        $FF = Terminateur de séquence
+AudioCmdSeq_06Alt:
+    db $83, $FF
+
+; AudioCmdSeq_07Alt
+; ----------------
+; Description: Séquence de commandes audio #7 pour table alternative (canal 2)
+; Format: Commande simple $84 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[7]
+; Bytes: $84 = Commande audio $84
+;        $FF = Terminateur de séquence
+AudioCmdSeq_07Alt:
+    db $84, $FF
+
+; AudioCmdSeq_08Alt
+; ----------------
+; Description: Séquence de commandes audio #8 pour table alternative (canal 2)
+;              Commande simple $85 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[8]
+; Out: -
+; Modifie: -
+; Format: $85 = Commande audio $85
+;         $FF = Terminateur de séquence
+AudioCmdSeq_08Alt:
+    db $85, $FF
+
+; AudioCmdSeq_09Alt
+; ----------------
+; Description: Séquence de commandes audio #9 pour table alternative (canal 2)
+; Format: Commande simple $86 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[9]
+; Bytes: $86 = Commande audio $86
+;        $FF = Terminateur de séquence
+AudioCmdSeq_09Alt:
+    db $86, $FF
+
+; AudioCmdSeq_10Alt
+; ----------------
+; Description: Séquence de commandes audio #10 pour table alternative (canal 2)
+; Format: Commande $40 $E0 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[10]
+; Bytes: $40 = Paramètre commande
+;        $E0 = Commande audio $E0
+;        $FF = Terminateur de séquence
+AudioCmdSeq_10Alt:
+    db $40, $E0, $FF
+
+; AudioCmdSeq_11Alt
+; ----------------
+; Description: Séquence de commandes audio #11 pour table alternative (canal 2)
+; Format: Commande simple $E5 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[11]
+; Bytes: $E5 = Commande audio $E5
+;        $FF = Terminateur de séquence
+AudioCmdSeq_11Alt:
+    db $E5, $FF
+
+; AudioCmdSeq_12Alt
+; ----------------
+; Description: Séquence de commandes audio #12 pour table alternative
+; Format: Commande $40 AUDIO_CMD_F6 terminée par $FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[12]
+; Bytes: $40 = Paramètre commande
+;        AUDIO_CMD_F6 = Commande audio F6 (player position check)
+;        $FF = Terminateur de séquence
+AudioCmdSeq_12Alt:
+    db $40, AUDIO_CMD_F6, $FF
+
+; AudioCmdSeq_13Alt
+; ----------------
+; Description: Séquence de commandes audio #13 pour table alternative (destroy all objects)
+; In:  Utilisée via AudioChannelCommandTable1Alt[13]
+; Out: Aucun (données)
+; Modifie: N/A (données)
+; Format: [paramètre, commande, terminateur]
+; Bytes: $40 = Paramètre commande
+;        AUDIO_CMD_F7 = Commande audio F7 (destroy all objects)
+;        $FF = Terminateur de séquence
+AudioCmdSeq_13Alt:
+    db $40, AUDIO_CMD_F7, $FF
+
+; AudioCmdSeq_14Alt ($2D8E)
+; ----------------
+; Description: Séquence de commandes audio #14 pour table alternative (canal 2)
+; In:  Utilisée via AudioChannelCommandTable1Alt[14]
+; Out: Aucun
+; Modifie: N/A (données)
+; Format: [paramètre, commande, terminateur]
+; Bytes: $40 = Paramètre de la commande
+;        AUDIO_CMD_F8 = Commande audio F8 (set channel 3)
+;        $FF = Terminateur de séquence
+AudioCmdSeq_14Alt:
+    db $40, AUDIO_CMD_F8, $FF
+
+; AudioCmdSeq_15Alt
+; ----------------
+; Description: Séquence de commandes audio #15 pour table alternative (double commande)
+; Format: Deux commandes FE et DF terminées par FF
+; In:  Utilisée via AudioChannelCommandTable1Alt[15]
+; Bytes: $FE $FF = Commande FE avec terminateur
+;        $DF $FF = Commande DF avec terminateur
+AudioCmdSeq_15Alt:
+    db $FE, $FF, $DF, $FF
+
+; ===========================================================================
+; SpriteAnimationData ($2D95-$2FD8)
+; ----------------
+; Description: Données d'animation de sprites (OAM) - 580 bytes de données structurées
+;              Format probable: séquences [Y_pos, tile_id, attributes, X_pos] répétées
+;              Patterns observés:
+;              - Coordonnées Y: $10, $20, $30, $40, $60 (positions verticales)
+;              - Tile IDs: $A0-$AF, $B0-$BF, $C0-$CF, $D0-$DF, $E0-$EF, $F0-$FB
+;              - Attributes: $01, $0A, $11, $1A (flags palette/flip)
+;              - Terminateurs: $FF (fin de séquence)
+; In:  Référencé indirectement (potentiellement par un système d'animation)
+; Note: Non référencé directement par AudioChannelCommandTable1/1Alt
+;       Zone placée entre AudioCmdSeq_15Alt et AudioChannelCommandTable1
+; ===========================================================================
+SpriteAnimationData:
+    db $40, $EE, $FF, $EF, $01, $EF, $FF, $B0, $01, $B1, $0A, $A0, $01
+    db $A1, $FF, $10, $B1, $11, $B0, $1A, $A1, $11, $A0, $FF, $30, $C3, $31, $C2, $3A
+    db $D3, $31, $D2, $FF, $B2, $01, $B3, $0A, $A2, $01, $A3, $FF, $10, $B3, $11, $B2
+    db $1A, $A3, $11, $A2, $FF, $B4, $01, $B5, $0A, $A4, $01, $A5, $FF, $10, $B5, $11
+    db $B4, $1A, $A5, $11, $A4, $FF, $B6, $01, $B7, $0A, $A6, $01, $A7, $FF, $10, $B7
+    db $11, $B6, $1A, $A7, $11, $A6, $FF, $A8, $01, $A9, $FF, $10, $A9, $11, $A8, $FF
+    db $20, $A8, $21, $A9, $FF, $B8, $01, $B9, $FF, $10, $B9, $11, $B8, $FF, $20, $B8
+    db $21, $B9, $FF, $D0, $01, $D1, $0A, $C0, $01, $C1, $FF, $10, $D1, $11, $D0, $1A
+    db $C1, $11, $C0, $FF, $D2, $01, $D3, $0A, $C2, $01, $C3, $FF, $10, $D3, $11, $D2
+    db $1A, $C3, $11, $C2, $FF, $D4, $01, $D5, $0A, $C4, $01, $C5, $FF, $10, $D5, $11
+    db $D4, $1A, $C5, $11, $C4, $FF, $D6, $01, $D7, $0A, $C6, $01, $C7, $FF, $10, $D7
+    db $11, $D6, $1A, $C7, $11, $C6, $FF, $C8, $01, $C9, $FF, $10, $C9, $11, $C8, $FF
+    db $20, $C8, $21, $C9, $FF, $D8, $01, $D9, $FF, $10, $D9, $11, $D8, $FF, $20, $D8
+    db $21, $D9, $FF, $AC, $FF, $AE, $FF, $AF, $FF, $BD, $01, $BE, $01, $BF, $FF, $10
+    db $BF, $11, $BE, $11, $BD, $FF, $BA, $FF, $BB, $FF, $C6, $01, $C7, $FF, $20, $C6
+    db $21, $C7, $FF, $D6, $01, $D7, $FF, $20, $D6, $21, $D7, $FF, $40, $D0, $48, $C0
+    db $FF, $40, $D1, $48, $C1, $FF, $BC, $08, $AC, $FF, $E2, $FF, $E3, $FF, $C4, $01
+    db $C5, $FF, $D4, $01, $D5, $FF, $9F, $FF, $AA, $FF, $AD, $FF, $D8, $FF, $D9, $FF
+    db $BA, $01, $BB, $0A, $AA, $01, $AB, $FF, $40, $E6, $FF, $BB, $0A, $AA, $01, $AB
+    db $11, $AA, $FF, $BB, $0A, $BA, $01, $AB, $11, $BA, $FF, $BB, $0A, $AC, $01, $AB
+    db $11, $AC, $FF, $AC, $01, $AD, $11, $AC, $FF, $20, $AC, $21, $AD, $31, $AC, $FF
+    db $DA, $01, $DB, $01, $DC, $0A, $02, $CA, $01, $CB, $01, $CC, $01, $BA, $0A, $02
+    db $02, $CD, $01, $CE, $FF, $BB, $01, $D6, $01, $D7, $0A, $02, $AB, $01, $C6, $01
+    db $C7, $01, $AA, $0A, $02, $02, $CD, $01, $CE, $FF, $20, $AA, $31, $AA, $0A, $AA
+    db $11, $AA, $FF, $20, $AB, $31, $AB, $0A, $AB, $11, $AB, $FF, $BC, $01, $BD, $0A
+    db $CE, $01, $CF, $0A, $BE, $01, $BF, $0A, $AE, $01, $AF, $FF, $CC, $01, $CD, $0A
+    db $DA, $01, $DB, $0A, $CA, $01, $CB, $0A, $BA, $01, $BB, $FF, $40, $88, $48, $87
+    db $FF, $F9, $01, $FB, $FF, $F9, $01, $FA, $FF, $10, $F9, $12, $FB, $FF, $10, $F9
+    db $12, $FA, $FF, $CE, $01, $CF, $0A, $BE, $01, $BF, $0A, $AE, $01, $AF, $FF, $CA
+    db $01, $CB, $0A, $CC, $01, $CD, $0A, $BC, $01, $BD, $FF, $D0, $11, $D0, $0A, $C0
+    db $11, $C0, $FF, $D1, $11, $D1, $0A, $C1, $11, $C1, $FF, $BA, $01, $BB, $01, $BC
+    db $0A, $AB, $FF, $BD, $01, $BE, $01, $BF, $0A, $AE, $FF, $60, $93, $64, $92, $FF
+    db $60, $95, $64, $94, $FF, $40, $CC, $41, $CD, $41, $CE, $41, $CF, $4A, $42, $42
+    db $BC, $41, $BD, $41, $BE, $41, $BF, $4A, $42, $42, $AC, $41, $AD, $41, $AE, $41
+    db $AF, $4A, $CB, $FF, $40, $F2, $41, $F3, $4A, $F0, $41, $F1, $FF, $8C, $01, $8D
+    db $01, $9C, $0A, $02, $89, $01, $8A, $01, $8B, $FF, $DA, $01, $C8, $01, $C9, $0A
+    db $02, $CA, $01, $DB, $01, $DC, $FF
+
+; ===========================================================================
+; AudioChannelCommandTable1 ($2FD9)
+; ----------------
+; Description: Table de 16 pointeurs vers les séquences de commandes audio (canal 1)
+; In:  Index multiplié par 2 depuis hSoundCh3 (LoadSoundChannel3Data @ $2CB5)
+; Utilisée par: ProcessAudioChannelData selon hSoundCh2 (bit 0 = 0)
+; Référencée par la constante ROM_AUDIO_CHANNEL_TABLE_1
+; ===========================================================================
+AudioChannelCommandTable1:
+    dw AudioCmdSeq_00  ; Entry  0 @ $2D00
+    dw AudioCmdSeq_01  ; Entry  1 @ $2D02
+    dw AudioCmdSeq_02  ; Entry  2 @ $2D05
+    dw AudioCmdSeq_03  ; Entry  3 @ $2D07
+    dw AudioCmdSeq_04  ; Entry  4 @ $2D0A
+    dw AudioCmdSeq_05  ; Entry  5 @ $2D0F
+    dw AudioCmdSeq_06  ; Entry  6 @ $2D1C
+    dw AudioCmdSeq_07  ; Entry  7 @ $2D21
+    dw AudioCmdSeq_08  ; Entry  8 @ $2D26
+    dw AudioCmdSeq_09  ; Entry  9 @ $2D28
+    dw AudioCmdSeq_10  ; Entry 10 @ $2D2D
+    dw AudioCmdSeq_11  ; Entry 11 @ $2D34
+    dw AudioCmdSeq_12  ; Entry 12 @ $2D47
+    dw AudioCmdSeq_13  ; Entry 13 @ $2D50
+    dw AudioCmdSeq_14  ; Entry 14 @ $2D55
+    dw AudioCmdSeq_15  ; Entry 15 @ $2D57
+
+; ===========================================================================
+; AudioChannelCommandTable1Alt ($2FF9)
+; Table de 16 pointeurs vers les séquences de commandes audio (canal 2)
+; Utilisée par ProcessAudioChannelData selon hSoundCh2 (bit 0 = 1)
+; Note: ROM_AUDIO_CHANNEL_TABLE_2 ($30AB) est une table différente
+; ===========================================================================
+AudioChannelCommandTable1Alt:
+    dw AudioCmdSeq_00Alt         ; Entry  0 - Audio sequence 0
+    dw AudioCmdSeq_01_02_Shared  ; Entry  1 - Audio sequence 1
+    dw AudioCmdSeq_01_02_Shared  ; Entry  2 - Audio sequence 2 (identique à entry 1)
+    dw AudioCmdSeq_03Alt         ; Entry  3 - Audio sequence 3
+    dw AudioCmdSeq_04Alt         ; Entry  4 - Audio sequence 4
+    dw AudioCmdSeq_05Alt         ; Entry  5 - Audio sequence 5
+    dw AudioCmdSeq_06Alt         ; Entry  6 - Audio sequence 6
+    dw AudioCmdSeq_07Alt         ; Entry  7 - Audio sequence 7
+    dw AudioCmdSeq_08Alt         ; Entry  8 - Audio sequence 8
+    dw AudioCmdSeq_09Alt         ; Entry  9 - Audio sequence 9
+    dw AudioCmdSeq_10Alt         ; Entry 10 - Audio sequence 10
+    dw AudioCmdSeq_11Alt         ; Entry 11 - Audio sequence 11
+    dw AudioCmdSeq_12Alt         ; Entry 12 - Audio sequence 12
+    dw AudioCmdSeq_13Alt         ; Entry 13 - Audio sequence 13
+    dw AudioCmdSeq_14Alt         ; Entry 14 - Audio sequence 14
+    dw AudioCmdSeq_15Alt         ; Entry 15 - Audio sequence 15
+
+    db $93
+
+AddressTable_00:
+    dec l
+    sub l
+    dec l
+    sbc b
+    dec l
+    cp l
+    ld l, $c5
+    ld l, $cd
+    ld l, $d5
+    ld l, $db
+    ld l, $a4
+    dec l
+    cp [hl]
+    dec l
+    rst $08
+    dec l
+    ldh [$ff2d], a
+    db $ed
+    dec l
+    ldh a, [c]
+    dec l
+    ei
+    dec l
+    nop
+    ld l, $0d
+    ld l, $1e
+    ld l, $2f
+    ld l, $40
+    ld l, $4d
+    ld l, $52
+    ld l, $5b
+    ld l, $60
+    ld l, $65
+    ld l, $67
+    ld l, $69
+    ld l, $71
+    ld l, $78
+    ld l, $7a
+    ld l, $7c
+    ld l, $80
+    ld l, $85
+    ld l, $89
+    ld l, $8e
+    ld l, $93
+    ld l, $98
+    ld l, $9c
+    ld l, $9e
+    ld l, $ad
+    dec l
+    ldh [c], a
+    ld l, $f7
+    ld l, $a0
+    ld l, $a4
+    ld l, $0c
+    cpl
+    dec d
+    cpl
+    ld e, $2f
+    ld l, $2f
+    xor b
+    ld l, $3e
+    cpl
+    ld c, e
+    cpl
+    ld d, b
+    cpl
+    ld d, l
+    cpl
+    ld h, c
+    cpl
+    ld l, l
+    cpl
+    ld [hl], l
+    cpl
+    sub c
+    dec l
+    ld l, c
+    ld l, $aa
+    ld l, $65
+    ld l, $ac
+    ld l, $7d
+    cpl
+    add l
+    cpl
+    adc l
+    cpl
+    sub d
+    cpl
+    xor [hl]
+    ld l, $b0
+; ===========================================================================
+; ROM_AUDIO_CHANNEL_TABLE_2 ($30AB)
+; Table de 16 pointeurs vers les séquences de commandes audio
+; Utilisée par ProcessAudioChannelData selon hSoundCh2 (bit 0 = 0)
+; Pointeurs: AudioCmdSeq_00 à AudioCmdSeq_15 (adresses $2D00,$2D02,$2D05,...$2D57)
+; Cette zone est mal désassemblée et devrait être reconstruite comme table de pointeurs
+; ===========================================================================
+    ld l, $97
+    cpl
+    or d
+    ld l, $b6
+    cpl
+    cp a
+    cpl
+    call z, $ba2f
+    ld l, $00
+    dec l
+    ld [bc], a
+    dec l
+    dec b
+    dec l
+    rlca
+    dec l
+    ld a, [bc]
+    dec l
+    rrca
+    dec l
+    inc d
+    dec l
+    jr DataBlock_00
+
+    ld h, $2d
+    jr z, JumpTargetTable_00
+
+    dec sp
+    dec l
+    ld b, c
+    dec l
+    ld c, h
+    dec l
+    ld d, b
+    dec l
+    ld d, l
+    dec l
+    ld d, a
+    dec l
+    ld e, e
+    dec l
+    ld e, a
+    dec l
+    ld e, a
+    dec l
+    ld h, l
+    dec l
+    ld l, c
+    dec l
+    ld [hl], d
+    dec l
+    ld a, e
+    dec l
+    ld a, l
+    dec l
+    ld a, a
+    dec l
+    add c
+    dec l
+    add e
+    dec l
+    add [hl]
+    dec l
+    adc b
+    dec l
+    adc e
+    dec l
+    adc [hl]
+
+DataBlock_00:
+    dec l
+    sub c
+    dec l
+    sub e
+
+JumpTargetTable_00:
+    dec l
+    sub l
+    dec l
+    sbc b
+    dec l
+    cp l
+    ld l, $c5
+    ld l, $cd
+    ld l, $d5
+    ld l, $db
+    ld l, $9c
+    dec l
+    or [hl]
+    dec l
+    rst $00
+    dec l
+    ret c
+
+    dec l
+    jp hl
+
+
+    dec l
+    ldh a, [c]
+    dec l
+    rst $30
+    dec l
+    nop
+    ld l, $05
+    ld l, $16
+    ld l, $27
+    ld l, $38
+    ld l, $49
+    ld l, $52
+    ld l, $57
+    ld l, $60
+    ld l, $65
+    ld l, $67
+    ld l, $69
+    ld l, $6b
+    ld l, $78
+    ld l, $7a
+    ld l, $7c
+    ld l, $80
+    ld l, $85
+    ld l, $89
+    ld l, $8e
+    ld l, $93
+
+AnimFrameDataLookup:
+    ld l, $98
+    ld l, $9c
+    ld l, $9e
+    ld l, $ad
+    dec l
+    ldh [c], a
+    ld l, $f7
+    ld l, $a0
+    ld l, $a4
+    ld l, $0c
+    cpl
+    dec d
+    cpl
+    ld e, $2f
+    ld l, $2f
+    xor b
+    ld l, $3e
+    cpl
+    ld b, e
+    cpl
+    ld b, a
+    cpl
+    ld d, l
+    cpl
+    ld h, c
+    cpl
+    ld l, l
+    cpl
+    ld [hl], l
+    cpl
+    sub c
+    dec l
+    ld l, c
+    ld l, $aa
+    ld l, $65
+    ld l, $ac
+    ld l, $7d
+    cpl
+    add l
+    cpl
+    adc l
+    cpl
+    sub d
+    cpl
+    xor [hl]
+    ld l, $b0
+    dw $972e    ; Données mal désassemblées (était: ld l, $97 / cpl)
+    dw $b22f    ; Données mal désassemblées (était: or d / ld l,)
+    dw $b62e    ; Données mal désassemblées (était: $b6 / cpl)
+    dw $bf2f    ; Données mal désassemblées (était: cp a / cpl)
+    dw $cc2f    ; Données mal désassemblées (était: call z, partie 1)
+    dw $ba2f    ; Données mal désassemblées (était: call z, partie 2)
+    db $2e      ; Dernier byte avant ROM_OBJECT_SOUND_TABLE
+
+; ===========================================================================
+; ROM_OBJECT_SOUND_TABLE ($317D)
+; Table des sons objets - 24 entrées de 5 octets
+; Format: [byte0, byte1, byte2, byte3, byte4]
+; Utilisée par les fonctions audio pour déclencher les sons des objets
+; Référencée dans: LoadObjectAudioConfig, TriggerObjectSound, etc.
+; ===========================================================================
+ROM_OBJECT_SOUND_TABLE:
+    db $01, $11, $ff, $11, $11  ; Entrée 0
+    db $00, $00, $00, $00, $00  ; Entrée 1
+    db $00, $00, $ff, $ff, $ff  ; Entrée 2
+    db $00, $00, $00, $00, $00  ; Entrée 3
+    db $05, $12, $ff, $12, $12  ; Entrée 4
+    db $00, $00, $00, $00, $00  ; Entrée 5
+    db $00, $00, $ff, $00, $00  ; Entrée 6
+    db $00, $00, $00, $00, $00  ; Entrée 7
+    db $00, $00, $ff, $4f, $4f  ; Entrée 8
+    db $ff, $ff, $ff, $ff, $ff  ; Entrée 9
+    db $00, $00, $00, $00, $00  ; Entrée 10
+    db $00, $00, $00, $00, $00  ; Entrée 11
+    db $00, $00, $ff, $00, $00  ; Entrée 12
+    db $00, $00, $00, $00        ; Entrée 13 (bytes 0-3)
+ErrorTrap_00:                    ; Adresse $31c2 (au milieu de l'entrée 13, byte 4)
+    db $00                       ; Entrée 13 (byte 4)
+    db $0f, $15, $ff, $15, $15  ; Entrée 14
+    db $00, $00, $00, $00, $00  ; Entrée 15
+    db $ff, $00, $ff, $00, $27  ; Entrée 16
+    db $00, $00, $00, $00, $00  ; Entrée 17
+    db $00, $00, $00, $00, $00  ; Entrée 18
+    db $14, $00, $00, $00, $00  ; Entrée 19
+    db $00, $00, $00, $00, $00  ; Entrée 20
+    db $00, $00, $00, $00, $00  ; Entrée 21
+    db $1c, $19, $ff, $19, $19  ; Entrée 22
+    db $ff, $ff, $ff, $ff, $ff  ; Entrée 23
+
+DataBlock_AfterSoundTable:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    ld c, a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    daa
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    ld hl, $0021
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    daa
+    inc e
+    add hl, de
+    rst $38
+    add hl, de
+    add hl, de
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr z, PaddingZone_02
+
+PaddingZone_02:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl+]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    daa
+    daa
+    nop
+    nop
+    rst $38
+    daa
+    daa
+    ld b, b
+    ld b, c
+    rst $38
+    ld b, c
+    ld b, c
+    nop
+    nop
+    rst $38
+    ld c, a
+    ld c, a
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    scf
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    dec a
+    ld a, $ff
+    ld a, $3e
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld b, b
+    ld b, c
+    rst $38
+    ld b, c
+    ld b, c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld b, e
+    ld b, h
+    rst $38
+    ld b, h
+    ld b, h
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    dec c
+    dec c
+    rst $38
+    nop
+    dec c
+    ld c, l
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    daa
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    daa
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    ld d, a
+    dec d
+    rst $38
+    dec d
+    dec d
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    daa
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    ld c, a
+    nop
+    nop
+    rst $38
+    nop
+    ld h, d
+    nop
+    nop
+    nop
+    nop
+    nop
+
+; AudioConfigTable
+; ----------------
+; Description: Table de configuration audio, 3 bytes par effet sonore
+;              Utilisée par InitSoundSlot pour initialiser les paramètres audio
+; Format: [byte1, byte2, byte3] pour chaque son (21 entrées, ID $00-$14)
+;   byte1: paramètre de durée/enveloppe
+;   byte2: paramètre de fréquence/canal
+;   byte3: paramètre de configuration additionnelle
+; Indexation: sound_id * 3 (chaque son = 3 bytes consécutifs)
+; In:  Lecture via ROM_AUDIO_CONFIG constant ($336C)
+; Référencé par: InitSoundSlot ($2CB2)
+AudioConfigTable::
+    db $06, $11, $00  ; Son 00
+    db $02, $11, $00  ; Son 01
+    db $01, $11, $00  ; Son 02
+    db $00, $11, $00  ; Son 03
+    db $07, $11, $00  ; Son 04
+    db $02, $11, $00  ; Son 05
+    db $00, $22, $00  ; Son 06
+    db $00, $91, $00  ; Son 07
+    db $09, $33, $c4  ; Son 08
+    db $07, $22, $81  ; Son 09
+    db $00, $b1, $00  ; Son 0A
+    db $00, $b1, $00  ; Son 0B
+    db $00, $a1, $00  ; Son 0C
+    db $00, $00, $00  ; Son 0D
+    db $34, $22, $41  ; Son 0E
+    db $02, $21, $00  ; Son 0F
+    db $00, $12, $00  ; Son 10
+    db $00, $11, $00  ; Son 11
+    db $00, $11, $00  ; Son 12
+    db $00, $91, $00  ; Son 13
+    db $08, $91, $00  ; Son 14
+    nop
+    ld hl, $0700
+    ld [hl+], a
+    ld b, b
+    nop
+    ld hl, $0000
+    ld hl, $0000
+    ld [hl+], a
+    nop
+    ld d, b
+    inc h
+    db $d3
+    nop
+    ld hl, $0200
+    ld hl, $0000
+    ld [hl+], a
+    ld b, c
+    nop
+    ld hl, $0000
+    ld de, $0000
+    ld [hl+], a
+    add d
+    nop
+    ld [hl+], a
+    nop
+    nop
+    ld de, $0000
+    ld de, $0000
+    ld [hl+], a
+    ld b, c
+    ldh [rNR43], a
+    ld b, c
+    nop
+    ld de, $0000
+    ld [hl+], a
+    nop
+    inc h
+    ld de, $0600
+    ld de, $2400
+    ld de, $0600
+    ld de, $0400
+    ld de, $0000
+    ld de, $0000
+    ld de, $0000
+    ld hl, $0000
+    ld hl, $0600
+    ld [hl+], a
+    ld b, b
+    nop
+    inc hl
+    ret
+
+
+    nop
+    and d
+    nop
+    inc c
+    ld de, $0000
+    sub c
+    nop
+    nop
+    sub c
+    nop
+    nop
+    sub c
+    nop
+    nop
+    or c
+    nop
+    nop
+    or c
+    nop
+    nop
+    and c
+    nop
+    nop
+    and c
+    nop
+    jr nc, JumpDispatchTable_00
+
+    add d
+    ld [bc], a
+    ld de, $0000
+    ld de, $0000
+    ld [hl+], a
+    add b
+    ld [bc], a
+    ld hl, $0000
+    ld hl, $0000
+    ld [hl+], a
+
+; JumpDispatchTable_00
+; --------------------
+; Description: Table de dispatch pour états d'animation (données brutes, format non encore décodé)
+; Utilisée par le moteur d'animation pour router vers différents handlers
+JumpDispatchTable_00:
+    db $80, $02, $21, $00, $00, $21, $00, $00, $12, $00, $00, $22, $00, $34, $A2, $00
+    db $54, $22, $FF, $00, $92, $00, $00, $11, $00, $00, $11, $40, $00, $91, $00, $00
+    db $91, $00, $00, $91, $00, $00, $22, $00, $00, $11, $00, $00, $11, $00, $00, $22
+    db $40, $00, $22, $40, $00, $11, $00, $00, $11, $40, $B4, $22, $81, $02, $21, $00
+    db $00, $11, $00, $00, $11, $89, $00, $11, $00, $00, $43, $C0, $00, $11, $32, $00
+    db $11, $02, $00, $11, $05, $00, $11, $02, $00, $43, $D8, $54, $32, $D3, $54, $22
+    db $00
+
+; AudioPointersTable ($3495 = ROM_AUDIO_POINTERS)
+; -------------------------------------------------
+; Description: Table des pointeurs vers données audio (2 octets par son)
+; Format: dw (little-endian)
+; Référencée par UpdateAllObjectSounds ($263F) et autres routines audio
+AudioPointersTable:
+    dw AudioCommand_Sound00  ; Son 0
+    dw AudioCommand_Sound01  ; Son 1
+    dw AudioCommand_Sound02  ; Son 2
+    dw AudioCommand_Sound03  ; Son 3
+    dw AudioCommand_Sound04  ; Son 4
+
+AnimState_Handler_00:
+    xor e
+    dec [hl]
+    jp z, $da35
+
+    dec [hl]
+    db $e4
+    dec [hl]
+    ld [bc], a
+
+AnimState_Data_00:
+    ld [hl], $2f
+    ld [hl], $41
+    ld [hl], $53
+    ld [hl], $6b
+    ld [hl], $8a
+    ld [hl], $c0
+
+AnimState_Data_01:
+    ld [hl], $c8
+    ld [hl], $f2
+    ld [hl], $f6
+    ld [hl], $fa
+    ld [hl], $ff
+    ld [hl], $11
+    scf
+    rla
+    scf
+
+AnimState_Handler_01:
+    ld [hl-], a
+    scf
+    ld c, a
+    scf
+    ld e, h
+    scf
+    ld h, d
+    scf
+    ld [hl], d
+    scf
+
+AnimState_Handler_02:
+    ld a, d
+    scf
+    add h
+    scf
+    sub b
+    scf
+    sbc b
+    scf
+    and c
+    scf
+    xor l
+    scf
+    call nz, $ce37
+    scf
+    ldh [c], a
+    scf
+
+AnimStateDispatcher:
+    inc d
+    jr c, AnimState_Dispatcher_00
+
+    jr c, AnimState_Dispatcher_01
+
+AnimStateLoop:
+    jr c, @+$78
+
+    jr c, @-$6d
+
+    jr c, @-$66
+
+    jr c, AnimState_Handler_00
+
+    jr c, AnimState_Data_00
+
+    jr c, AnimState_Data_01
+
+    jr c, AnimState_Handler_01
+
+    jr c, AnimState_Handler_02
+
+    jr c, AnimStateLoop
+
+    jr c, AnimShiftState
+
+    add hl, sp
+    add hl, sp
+    add hl, sp
+    ld d, d
+    add hl, sp
+    ld e, e
+    add hl, sp
+    ld a, d
+    add hl, sp
+    sub b
+    add hl, sp
+    sub h
+    add hl, sp
+    xor b
+    add hl, sp
+    cp c
+    add hl, sp
+    jp z, $dc39
+
+    add hl, sp
+    xor $39
+    cpl
+    ld a, [hl-]
+    scf
+    ld a, [hl-]
+    dec a
+    ld a, [hl-]
+    ld d, h
+    ld a, [hl-]
+    ld e, h
+    ld a, [hl-]
+    ld h, d
+    ld a, [hl-]
+    add [hl]
+    ld a, [hl-]
+    adc [hl]
+    ld a, [hl-]
+    sub h
+    ld a, [hl-]
+    sbc e
+    ld a, [hl-]
+    pop bc
+    ld a, [hl-]
+    add sp, $3a
+    ldh a, [c]
+
+AnimShiftState:
+    ld a, [hl-]
+    rrca
+    dec sp
+    add hl, de
+    dec sp
+    ld hl, $253b
+    dec sp
+    dec [hl]
+    dec sp
+    inc a
+    dec sp
+    ld c, b
+    dec sp
+    ld c, [hl]
+    dec sp
+    ld h, a
+    dec sp
+    ld a, d
+    dec sp
+    cp h
+    dec sp
+    rst $10
+    dec sp
+    cp $3b
+    ld a, [hl+]
+    inc a
+    dec [hl]
+    inc a
+
+AnimState_Dispatcher_00:
+    dec a
+    inc a
+    ld e, d
+    inc a
+
+AnimState_Dispatcher_01:
+    ld h, h
+    inc a
+    ld a, b
+    inc a
+    sub c
+    inc a
+    and [hl]
+    inc a
+    cp d
+    inc a
+    rst $08
+    inc a
+    db $e4
+    inc a
+    db $fc
+    inc a
+; AudioCommand_Sound00 ($355B)
+; -------------------------------
+; Description: Séquence de commandes audio pour son 0 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+AudioCommand_Sound00:
+    db $F8, $00  ; Commande audio F8 avec paramètre 00
+    db $F4       ; Commande audio F4
+    db $02       ; Paramètre
+    db $01       ; Commande 01
+    db $E2, $F8  ; Paramètres E2, F8
+    db $01       ; Commande 01
+    db $E3, $FF  ; Paramètres E3, FF (fin séquence)
+
+; AudioCommand_Sound01 ($3565)
+; -------------------------------
+; Description: Séquence de commandes audio pour son 1 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+AudioCommand_Sound01:
+    db $F8, $02  ; Commande F8 avec paramètre 02
+    db $00       ; Paramètre 00
+    db $EF, $EF, $EF  ; Commande EF répétée
+    db $F3       ; Commande F3
+    db $FF       ; Fin de séquence
+
+; AudioCommand_Sound02 ($356D)
+; -------------------------------
+; Description: Séquence de commandes audio pour son 2 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+AudioCommand_Sound02:
+    db $F0, $20  ; Commande F0 avec paramètre 20
+    db $F8, $04  ; Commande F8 avec paramètre 04
+    db $00       ; Paramètre 00
+    db $EF       ; Commande EF
+    db $F6, $00  ; Commande F6 avec paramètre 00
+    db $10       ; Paramètre 10
+    db $EF       ; Commande EF
+    db $00       ; Paramètre 00
+    db $EF       ; Commande EF
+    db $F8, $05  ; Commande F8 avec paramètre 05
+    db $EF       ; Commande EF
+    db $F8, $04  ; Commande F8 avec paramètre 04
+    db $EF       ; Commande EF
+    db $F8, $05  ; Commande F8 avec paramètre 05
+    db $EF       ; Commande EF
+    db $F8, $04  ; Commande F8 avec paramètre 04
+    db $EF       ; Commande EF
+    db $F8, $05  ; Commande F8 avec paramètre 05
+    db $EF       ; Commande EF
+    db $F8, $04  ; Commande F8 avec paramètre 04
+    db $EF       ; Commande EF
+    db $F0, $22  ; Commande F0 avec paramètre 22
+    db $10       ; Paramètre 10
+    db $EF       ; Commande EF
+    db $00       ; Paramètre 00
+    db $EF, $EF, $EF  ; Commande EF répétée
+    db $FF       ; Fin de séquence
+
+; AudioCommand_Sound03 ($3594)
+; -------------------------------
+; Description: Séquence de commandes audio pour son 3 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+AudioCommand_Sound03:
+    db $F8, $1F  ; Commande F8 avec paramètre 1F
+    db $F4       ; Commande F4
+    db $02       ; Paramètre 02
+    db $00       ; Paramètre 00
+    db $EF, $EF  ; Commande EF répétée
+    db $F1, $47  ; Commande F1 avec paramètre 47
+    db $EF, $EF, $EF  ; Commande EF répétée
+    db $FF       ; Fin de séquence
+
+; AudioCommand_Sound04 ($35A1)
+; -------------------------------
+; Description: Séquence de commandes audio pour son 4 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+AudioCommand_Sound04:
+    db $F4       ; Commande F4
+    db $02       ; Paramètre 02
+    db $F8, $06  ; Commande F8 avec paramètre 06
+    db $01       ; Paramètre 01
+    db $E2, $F8  ; Paramètres E2, F8
+    db $07       ; Paramètre 07
+    db $E3       ; Commande E3
+    db $FF       ; Fin de séquence
+
+; AudioCommand_Sound05
+; -------------------------------
+; Description: Séquence de commandes audio pour son 5 (référencé par AudioPointersTable)
+; Format: Commandes audio Game Boy (octets de contrôle + paramètres)
+; Adresse: $35AB
+AudioCommand_Sound05:
+    db $F8, $08, $00, $EF, $EF, $F8, $0E, $E4
+    db $F8, $08, $E4, $F8, $0E, $E4, $F8, $08
+    db $E4, $F8, $0E, $E4, $F8, $08, $E4, $F8
+    db $0E, $E4, $F8, $08, $E4, $F3, $46, $F8
+    db $65, $F0, $22, $F4, $01, $10, $EF, $F0
+    db $20, $10, $EF, $00, $EF, $E8, $FF, $F8
+    db $68, $F4, $01, $F0, $20, $10, $E2, $F3
+    db $13, $F0, $30, $F4, $01, $F8, $48, $00
+    db $EF, $F8, $49, $00, $EF, $F9, $04, $F1
+    db $1B, $E8, $10, $EF, $E4, $F9, $04, $F1
+    db $1B, $F0, $22, $10, $EF, $E4, $FF, $F4
+    db $03, $F8, $56, $01, $E2, $F8, $57, $E2
+    db $F8, $56, $E2, $F8, $57, $E2, $F8, $56
+    db $E2, $F8, $57, $E2, $F8, $56, $E2, $F8
+    db $57, $E2, $F8, $56, $E2, $F8, $57, $E2
+    db $F8, $56, $00, $E8, $F8, $57, $F9, $04
+    db $F1, $51, $E8, $FF, $F8, $12, $F4, $01
+    db $F0, $22, $10, $EE, $EF, $EF, $EF, $F0
+    db $20, $EF, $EF, $EF, $EF, $FF, $F8, $12
+    db $F4, $01, $F0, $10, $01, $EE, $EF, $EF
+    db $E8, $F0, $11, $EF, $EF, $EF, $E8, $FF
+    db $F8, $13, $F0, $22, $F4, $0F, $00, $EA
+    db $F4, $00, $10, $EF, $EF, $EF, $EF, $EF
+    db $EF, $EF, $EF, $EF, $EF, $EF, $EF, $FF
+    db $F0, $64, $11
+    db $E5, $01, $11, $01, $11, $01, $01, $F0
+    db $22, $01, $01, $11, $01, $11, $01, $11
+    db $E5, $20, $EF, $EF, $EF, $EF, $EF, $EF
+    db $EF, $EF, $EF, $FF, $F8, $28, $F0, $60
+    db $F4, $02
+AudioInitData_StackVariantA:
+    nop
+    db $e4
+    ld hl, sp+$29
+    db $e4
+    ld hl, sp+$28
+    db $e4
+    ld hl, sp+$29
+    db $e4
+    ld hl, sp+$28
+    ldh a, [$ff60]
+    ld b, d
+    ld b, d
+    ld [hl+], a
+    ld [hl+], a
+    ld hl, sp+$29
+    ld [de], a
+    ld [de], a
+    ld [de], a
+    ld [bc], a
+    ldh a, [rNR43]
+    ld hl, sp+$28
+    ld [bc], a
+    ld [de], a
+    ld [de], a
+    ld [de], a
+    ld hl, sp+$29
+    ld [hl+], a
+    ld [hl+], a
+    ld b, d
+    ld b, d
+    ld hl, sp+$28
+    ld b, c
+    rst $28
+    rst $28
+
+JumpDispatchTable_01:
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$2c
+    nop
+    rst $28
+    rst $28
+    rst $28
+    di
+    dec d
+    ld hl, sp+$42
+    ldh a, [rNR41]
+
+JumpDispatchTable_02:
+    jr nz, JumpDispatchTable_01
+
+    ld hl, sp+$43
+    rst $28
+    ld hl, sp+$42
+    rst $28
+    ld hl, sp+$43
+    add sp, $10
+    rst $20
+    nop
+    db $e3
+    ld hl, sp+$42
+    ldh a, [rNR43]
+    nop
+    db $e3
+    db $10
+    rst $20
+    jr nz, JumpDispatchTable_02
+
+    ld hl, sp+$43
+    rst $28
+    ld hl, sp+$42
+    rst $28
+    ld hl, sp+$43
+    rst $28
+    nop
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$03
+    di
+    dec c
+    ld hl, sp+$09
+    di
+    dec c
+    ld hl, sp+$68
+    nop
+    rst $28
+    rst $38
+    ld hl, sp+$68
+    ldh a, [rNR41]
+    db $f4
+    ld bc, $ee10
+    rst $28
+    rst $28
+    rst $28
+    add sp, -$0c
+
+PaddingZone_03:
+    rrca
+    nop
+    rst $28
+    di
+    rst $38
+    ld sp, hl
+    inc bc
+    ld hl, sp+$2d
+    di
+    dec c
+    db $f4
+    ld [bc], a
+    ldh a, [rLCDC]
+    ld hl, sp+$32
+    ld bc, $f8e8
+    inc sp
+    jp hl
+
+
+    ld hl, sp+$32
+    jp hl
+
+
+    ld hl, sp+$33
+    jp hl
+
+
+    ld hl, sp+$32
+    jp hl
+
+
+RawDataBlock_00:
+    ld hl, sp+$33
+    jp hl
+
+
+    pop af
+    rla
+    di
+    jr RawDataBlock_00
+
+    ld a, $70
+    ldh a, [rNR41]
+    db $10
+    xor $e8
+    ldh a, [rLCDC]
+    ld de, $01ee
+    xor $f0
+    ld [hl+], a
+    ld de, $10ee
+    rst $20
+    ldh a, [rDIV]
+    ld de, $01ee
+    xor $ef
+    di
+    rst $38
+    ld hl, sp+$40
+    nop
+    rst $28
+    rst $28
+    rst $28
+
+AudioInitData_StackVariantB:
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld d, $f9
+    inc bc
+    ld hl, sp+$37
+    di
+    dec c
+    ld hl, sp+$4f
+    db $10
+    rst $28
+    rst $28
+    add sp, -$08
+    ld c, [hl]
+    nop
+    add sp, -$07
+    inc b
+    pop af
+    rra
+    rst $28
+    rst $38
+    ldh a, [$ff30]
+    ld hl, sp+$1f
+    scf
+    ld b, h
+    di
+    ld e, $f4
+    ld bc, $36f8
+    nop
+    rst $28
+    rst $28
+    rst $28
+    di
+    add hl, de
+    ld hl, sp+$2a
+    ldh a, [$ff90]
+    db $f4
+    ld [bc], a
+    ld [de], a
+    rst $20
+    ld hl, sp+$2b
+    add sp, -$01
+    ld hl, sp+$4a
+    ld bc, $f8e7
+    ld c, e
+    add sp, -$01
+    ld hl, sp+$1f
+    ldh a, [$ff30]
+    ld [hl], b
+    ld [hl], b
+    ld b, b
+    di
+    ld e, b
+    ld hl, sp+$28
+    ldh a, [$ff08]
+    db $f4
+    ld [bc], a
+    db $10
+    db $e3
+    ld hl, sp+$29
+    db $e4
+    rst $38
+    ldh a, [rNR43]
+    ld b, b
+    pop af
+    ld [hl+], a
+    ldh a, [rNR41]
+    ld d, b
+    ld d, b
+    ld h, b
+    pop af
+    ld [hl+], a
+    ld hl, sp+$14
+    nop
+    rst $28
+    ld hl, sp+$15
+    rst $28
+    ld hl, sp+$1f
+    di
+    rst $38
+    ld hl, sp+$45
+    db $f4
+    ld bc, $e301
+    ld hl, sp+$46
+    db $e4
+    rst $38
+    ld hl, sp+$45
+    ldh a, [hSoundId]
+    db $f4
+    ld bc, $ef12
+
+RawDataBlock_01:
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    di
+    rst $38
+    ld hl, sp+$2a
+    ldh a, [$ff60]
+    jr nz, RawDataBlock_01
+
+    ld hl, sp+$2b
+    rst $28
+    ld hl, sp+$2a
+    ldh a, [$ff60]
+    rst $28
+    ld hl, sp+$2b
+    add sp, $10
+    rst $20
+    nop
+    db $e3
+    ld hl, sp+$2a
+    ldh a, [$ff62]
+    ld sp, hl
+    inc b
+    pop af
+    inc hl
+    nop
+    db $e3
+    db $10
+    rst $20
+    jr nz, @-$17
+
+    ld hl, sp+$2b
+    rst $28
+    ld hl, sp+$2a
+    ldh a, [rLCDC]
+    rst $28
+    ld hl, sp+$2b
+    rst $28
+    nop
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$32
+    ldh a, [rNR43]
+    nop
+    rst $28
+    rst $28
+    db $f4
+    nop
+    or $01
+    db $10
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    ldh a, [rNR41]
+    db $f4
+    ld bc, $f8e8
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$08
+    ld [hl-], a
+    add sp, -$08
+    inc sp
+    add sp, -$01
+    di
+    rst $38
+    ld hl, sp+$14
+    nop
+    rst $20
+    ld hl, sp+$15
+    add sp, -$08
+    inc d
+    add sp, -$08
+    dec d
+    add sp, -$0d
+    rst $38
+    db $f4
+    ld bc, $16f8
+    ldh a, [$ff31]
+    ld [hl], b
+    ld de, $01e5
+    ld de, $1101
+    ld bc, $f001
+    ld [hl+], a
+    ld bc, $1101
+    ld bc, $0111
+    ld de, $f3e5
+    add hl, hl
+    ld hl, sp+$16
+    db $f4
+    ld bc, $ef01
+    rst $38
+    db $f4
+    ld bc, $17f8
+    ldh a, [$ff31]
+    ld [hl], b
+    ld de, $01e5
+    ld de, $1101
+    ld bc, $f001
+    ld [hl+], a
+    ld bc, $1101
+    ld bc, $0111
+    ld de, $f3e5
+    dec hl
+    ld hl, sp+$17
+    db $f4
+    ld bc, $ef01
+    rst $38
+    db $f4
+    ld bc, $19f8
+    ldh a, [$ff31]
+    ld b, b
+    ld b, b
+    di
+    inc [hl]
+    db $f4
+    ld [bc], a
+    ldh a, [rNR41]
+    ld hl, sp+$1a
+    db $10
+    db $e3
+    ld hl, sp+$1b
+    db $e3
+    di
+    ld l, $f8
+    ld a, [de]
+    nop
+    add sp, -$08
+    dec de
+    add sp, -$01
+    ld hl, sp+$2c
+    ldh a, [$ff91]
+    db $f4
+    ld bc, $ef01
+    ld b, c
+    pop af
+    jr nc, RawDataBlock_02
+
+    rst $28
+
+RawDataBlock_02:
+    ld b, c
+    pop af
+    jr nc, RawDataBlock_03
+
+    rst $28
+
+RawDataBlock_03:
+    ld b, c
+    di
+    jr nc, @-$0e
+
+    db $10
+    ld hl, sp+$2c
+    ld bc, $f8ee
+    ld l, $ef
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    rst $28
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    rst $28
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    add sp, -$10
+    add b
+    ld hl, sp+$2c
+    db $10
+    rst $28
+    ldh a, [rNR11]
+    ld hl, sp+$2e
+    db $10
+    rst $28
+    ld hl, sp+$2c
+    ld [bc], a
+    xor $f8
+    ld l, $ef
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    rst $28
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    rst $28
+    ld hl, sp+$2c
+    rst $28
+    ld hl, sp+$2e
+    rst $28
+    di
+    rst $38
+    db $f4
+    inc b
+    ld hl, sp+$2a
+    ld b, $f8
+    dec hl
+    ld b, $ff
+    ld hl, sp+$54
+    db $f4
+    ld bc, $33f1
+    ldh a, [rDIV]
+    nop
+    rst $20
+    ld hl, sp+$55
+    rlca
+    dec b
+    nop
+    rst $28
+    rst $28
+    rst $28
+    ldh a, [rLCDC]
+    ld hl, sp+$54
+    rlca
+    dec b
+    rst $38
+    ld hl, sp+$1f
+    ldh a, [$ff30]
+    ld [hl], d
+    ld [hl], d
+    ld b, d
+    di
+    ld b, a
+    ld hl, sp+$19
+    db $f4
+    ld [bc], a
+    ldh a, [rNR41]
+    ld sp, $e421
+    ld de, $01e4
+    ld de, $f001
+    ld [hl+], a
+    ld bc, $0111
+    ld de, $21e4
+    db $e4
+    ld sp, $ef30
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$20
+    ldh a, [rNR43]
+    db $f4
+    ld bc, $01f6
+    db $10
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$21
+    nop
+    rst $38
+    ld hl, sp+$21
+    ldh a, [rNR43]
+    nop
+    rst $20
+    db $10
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$12
+    ldh a, [$ff32]
+    db $f4
+    ld [bc], a
+    ld de, $efee
+    add sp, -$10
+    ld sp, $ee11
+    rst $28
+    add sp, -$01
+    ld hl, sp+$12
+    ldh a, [$ff30]
+    db $f4
+    ld [bc], a
+    ld de, $efee
+    add sp, -$10
+    inc sp
+    ld de, $efee
+    add sp, -$01
+    ld hl, sp+$22
+    db $f4
+    ld bc, $22f0
+    db $10
+    xor $ef
+    rst $28
+    rst $28
+    ldh a, [rNR41]
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$22
+    db $f4
+    ld bc, $10f0
+    ld bc, $efee
+    rst $28
+    add sp, -$10
+    ld de, $efef
+    rst $28
+    add sp, -$01
+    ld hl, sp+$23
+    db $f4
+    ld bc, $60f0
+    ld sp, $e221
+    ld hl, sp+$24
+    db $e4
+    ld hl, sp+$25
+    ldh [c], a
+    ld de, $f8e1
+    inc h
+    db $e4
+    ld de, $23f8
+    nop
+    ld de, $1100
+    ld hl, sp+$24
+    nop
+    ld bc, $22f0
+    ld bc, $f800
+    dec h
+    ld de, $1100
+    nop
+    ld hl, sp+$24
+    ld de, $f8e3
+    inc hl
+    db $e3
+    ld hl, $24f8
+    db $e4
+    ld hl, sp+$25
+    db $e4
+    ld hl, sp+$24
+    ld sp, $ef40
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$26
+    nop
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld a, $f9
+    inc bc
+    ld hl, sp+$27
+    di
+    dec c
+    ld hl, sp+$2a
+    ldh a, [rLCDC]
+    nop
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    ldh a, [rLCDC]
+    rst $28
+    rst $28
+    ld hl, sp+$2b
+    ld sp, hl
+    inc b
+    pop af
+    inc hl
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$2e
+
+RawDataBlock_04:
+    nop
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld b, c
+
+RawDataBlock_05:
+    ld sp, hl
+    inc bc
+    ld hl, sp+$2f
+    di
+    dec c
+    ld hl, sp+$30
+    ldh a, [rNR10]
+    ld bc, $f8e8
+    ld sp, $f8e8
+    jr nc, RawDataBlock_04
+
+    ld hl, sp+$31
+    add sp, -$08
+    jr nc, RawDataBlock_05
+
+    ld hl, sp+$31
+    nop
+    add sp, -$08
+    jr nc, @-$16
+
+    ld hl, sp+$31
+    pop af
+    ld b, l
+    add sp, -$08
+    jr nc, @-$16
+
+    ld hl, sp+$31
+    rst $38
+    ld hl, sp+$34
+    nop
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld b, h
+    ld sp, hl
+    inc bc
+    ld hl, sp+$35
+    di
+    dec c
+    ldh a, [rNR43]
+    ld hl, sp+$44
+    db $10
+    rst $28
+    rst $38
+    ldh a, [rNR10]
+    inc b
+    ld sp, hl
+    ld bc, $0ff8
+    nop
+    db $e4
+    ld hl, sp+$10
+    db $e4
+    ld hl, sp+$0f
+    db $e4
+    ld hl, sp+$10
+    db $e4
+    ld hl, sp+$0f
+    db $e4
+    ld hl, sp+$10
+    db $e4
+    ld hl, sp+$0f
+    db $e4
+    ld hl, sp+$10
+    db $e4
+    ld hl, sp+$0f
+    db $e4
+    ld hl, sp+$10
+    db $e4
+    di
+    rst $38
+    ld hl, sp+$31
+    ldh a, [rNR41]
+    db $f4
+    ld [bc], a
+    ld b, d
+    ld b, d
+    ld [hl+], a
+    ld [hl+], a
+    ld hl, sp+$47
+    ld [de], a
+    ld [de], a
+    ld [de], a
+    ld [bc], a
+    ldh a, [rNR43]
+    ld hl, sp+$31
+    ld [bc], a
+    ld [de], a
+    ld [de], a
+    ld [de], a
+    ld hl, sp+$47
+    ld [hl+], a
+    ld [hl+], a
+    ld b, d
+    ld b, d
+    ld hl, sp+$31
+    ld b, c
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    db $f4
+    ld bc, $4cf8
+    ld de, $f8ee
+    ld c, l
+    rst $28
+    rst $38
+    ld hl, sp+$51
+    ldh a, [rNR41]
+    nop
+    rst $28
+    db $10
+    rst $28
+    nop
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    ld a, [$f109]
+    ld c, d
+    rst $28
+    rst $28
+
+RawDataBlock_06:
+    ldh a, [rNR43]
+    db $10
+    rst $28
+    nop
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$1f
+    ldh a, [$ff30]
+    ld [hl], b
+    jr nc, RawDataBlock_06
+
+    ld b, b
+    di
+    ld c, e
+    ld hl, sp+$52
+    ld bc, $f8e7
+    ld d, e
+    add sp, -$01
+    ld hl, sp+$21
+    nop
+    rst $38
+    ld hl, sp+$21
+    ldh a, [rNR41]
+    nop
+    rst $20
+    db $10
+    xor $ef
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld c, [hl]
+    ld hl, sp+$21
+    ldh a, [rNR11]
+    ld [bc], a
+    rst $28
+    rst $38
+    ld sp, hl
+    ld bc, $14f8
+    nop
+    rst $28
+    ld hl, sp+$15
+    rst $28
+    ld sp, hl
+
+RawDataBlock_07:
+    ld bc, $f8f7
+    rra
+    ldh a, [$ff91]
+    di
+    ld e, d
+    ld hl, sp+$46
+    ldh a, [$ff31]
+    ld [hl], h
+    db $f4
+    nop
+    jr nz, RawDataBlock_07
+
+    add sp, $10
+    rst $28
+    ldh a, [rNR43]
+    db $10
+    rst $28
+    jr nz, @-$0f
+
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$31
+    ldh a, [rNR10]
+    db $f4
+    ld bc, $ef02
+    rst $28
+    db $e4
+    ldh a, [$ff90]
+    ld [hl+], a
+    ld [$09fa], a
+    pop af
+    ld d, b
+    rst $38
+    ld hl, sp+$33
+    ldh a, [$ff90]
+    db $f4
+    ld bc, $e302
+    ld hl, sp+$32
+    db $e4
+    ei
+    jr nz, @-$06
+
+    ld [hl-], a
+    ld b, c
+    ld b, c
+    ld b, c
+    ld sp, $33f8
+    ld sp, $1131
+    ld hl, $32f8
+    ld de, $1111
+    ld hl, sp+$33
+    ld de, $0101
+    ldh a, [$ff08]
+    ld hl, sp+$32
+    ld bc, $1101
+    ld hl, sp+$33
+    ld de, $1111
+    ld hl, sp+$32
+    ld hl, $3111
+    ld sp, $33f8
+    ld sp, $4141
+    ld b, c
+    ld [bc], a
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$45
+    db $f4
+    inc bc
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, e
+    inc sp
+    inc hl
+    inc h
+    inc d
+    inc b
+    ldh a, [$ff08]
+    inc d
+    inc d
+    inc d
+    inc [hl]
+    inc sp
+    ld [hl-], a
+    ld b, d
+    ld b, c
+    ld b, b
+    ldh a, [rDIV]
+    rst $38
+    ld hl, sp+$5f
+    ldh a, [rNR43]
+    ld hl, sp+$5f
+    nop
+    rst $28
+    db $10
+    rst $28
+    nop
+    rst $28
+    ld hl, sp+$60
+    rst $28
+    ld hl, sp+$5f
+    rst $28
+    ld hl, sp+$60
+    rst $28
+    ld hl, sp+$5f
+    rst $28
+    ld hl, sp+$60
+    rst $28
+    ld hl, sp+$5f
+    rst $28
+    ldh a, [rNR41]
+    db $10
+    rst $28
+    nop
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$28
+    ldh a, [$ff60]
+    db $f4
+    ld [bc], a
+    nop
+    ldh [c], a
+    ld hl, sp+$29
+    ldh [c], a
+    ld hl, sp+$28
+    ldh [c], a
+    ld hl, sp+$29
+    ldh [c], a
+    ld hl, sp+$28
+    ldh a, [$ff60]
+    ld b, d
+    ld [hl-], a
+    ld [hl-], a
+    ld [hl+], a
+    ld [de], a
+    ld [de], a
+    ldh a, [rNR43]
+    ld [de], a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl-], a
+    ld [hl-], a
+    ld b, d
+    ld hl, sp+$28
+    ld b, c
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    db $f4
+    ld [bc], a
+    ld hl, sp+$2c
+    nop
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld d, [hl]
+    ld hl, sp+$45
+    ld bc, $f8e3
+    ld b, [hl]
+    db $e4
+    rst $38
+    ldh a, [$ff08]
+    db $f4
+    ld [bc], a
+    ld hl, sp+$61
+    db $10
+    ld hl, sp+$62
+    db $10
+    ld hl, sp+$61
+    db $10
+    ld hl, sp+$62
+    db $10
+    ld hl, sp+$61
+    db $10
+    ld hl, sp+$62
+    db $10
+    ld hl, sp+$61
+    db $10
+    ld hl, sp+$62
+    db $10
+    rst $38
+    db $f4
+    ld bc, $52f8
+    ld [de], a
+    rst $20
+    ld hl, sp+$53
+    add sp, -$01
+    db $fd
+    inc de
+    ld hl, sp+$1f
+    db $f4
+    rrca
+    nop
+    rst $28
+    ld hl, sp+$63
+    ldh a, [rNR41]
+    db $f4
+    ld [bc], a
+    db $10
+    rst $28
+    rst $28
+    rst $28
+    di
+    ld h, b
+    ld hl, sp+$1f
+    ldh a, [rNR10]
+    inc b
+    ld hl, sp+$64
+    ldh a, [rNR41]
+    db $f4
+    ld bc, $e801
+    db $f4
+    nop
+    ld hl, sp+$1f
+    pop af
+    ld e, a
+    ld b, b
+    pop af
+    ld e, [hl]
+    ld b, b
+    di
+    ld e, l
+    ld hl, sp+$45
+    ldh a, [$ff30]
+    db $f4
+    ld bc, $ea21
+    db $f4
+    nop
+    add sp, $02
+    add sp, -$11
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$45
+    ldh a, [$ff30]
+    db $f4
+    ld bc, $ea01
+    db $f4
+    nop
+    add sp, $02
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$45
+    ldh a, [$ff32]
+    db $f4
+    ld bc, $ea21
+
+ErrorTrap_01:
+    db $f4
+    nop
+    add sp, $02
+    add sp, -$11
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $28
+    rst $38
+    ld hl, sp+$63
+    pop af
+    ld e, h
+    ldh a, [$ff90]
+    db $10
+    rst $28
+    rst $28
+    ld bc, $f1ef
+    ld e, h
+    ldh a, [$ff91]
+    db $10
+    rst $28
+    add sp, $01
+    rst $28
+    rst $38
+    db $f4
+    ld bc, $66f8
+    ld de, $f8e3
+    ld h, a
+    db $e4
+    ld hl, sp+$66
+    db $e4
+    ld hl, sp+$67
+    db $e4
+    ld hl, sp+$66
+    db $e4
+    ld hl, sp+$67
+    db $e4
+    pop af
+    ld d, e
+    rst $38
+    ld sp, hl
+    ld bc, $14f8
+    nop
+    rst $20
+    ld hl, sp+$15
+    add sp, -$08
+    inc d
+    add sp, -$08
+    dec d
+    add sp, -$08
+    rra
+    db $fc
+    xor b
+    di
+    ld e, e
+
+; InitLevelData
+; --------------
+; Description: Initialise les données du niveau et efface le buffer sprite temporaire
+; In:  Aucun
+; Out: Aucun
+; Modifie: a, b, hl, appelle DisplayLevelBCDScore
+InitLevelData:
+    ld hl, wSpriteTemp
+    ld b, $20
+    xor a
+
+ClearMemoryLoop:
+    ld [hl+], a
+    dec b
+    jr nz, ClearMemoryLoop
+
+    ld hl, wLevelData
+    ld a, LEVEL_DATA_INIT
+    ld [hl+], a
+    xor a
+    ld [hl+], a
+    ld a, LEVEL_BCD2_INIT
+    ld [hl+], a
+    call DisplayLevelBCDScore
+    ld a, LEVEL_PARAM_INIT_20
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld a, LEVEL_PARAM_INIT_F6
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld a, LEVEL_PARAM_INIT_30
+    ld [hl+], a
+    xor a
+    ld b, LEVEL_PARAM_LOOP_9
+
+InitLoop_9Bytes:
+    ld [hl+], a
+    dec b
+    jr nz, InitLoop_9Bytes
+
+    ld a, LEVEL_PARAM_INIT_02
+    ld [hl+], a
+    dec a
+    ld [hl+], a
+    xor a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld a, LEVEL_PARAM_INIT_40
+    ld [hl+], a
+    xor a
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl+], a
+    ld a, LEVEL_PARAM_INIT_40
+    ld [hl+], a
+    xor a
+    ld b, LEVEL_PARAM_LOOP_8
+
+InitLoop_8Bytes:
+    ld [hl+], a
+    dec b
+    jr nz, InitLoop_8Bytes
+
+    ld a, LEVEL_PARAM_COPY_COLS
+    ld [hl+], a
+    ld a, LEVEL_PARAM_COPY_ROWS
+    ld [hl], a
+    ret
+
+
+; =============================================================================
+; UpdateLevelScore - UpdateLevelScore
+; =============================================================================
+; QUOI : Met à jour l'affichage du score de niveau à l'écran.
+;
+; CONDITIONS :
+;   - wROMBankInit ($C0A4) == 0 (pas en état spécial)
+;   - hGameState < $12 (pas en écran de fin)
+;   - wLevelData ($DA00) == $28 (type de niveau spécifique?)
+;
+; ALGORITHME :
+;   Appelle DisplayLevelBCDScore qui affiche le score BCD de $DA01-$DA02
+;   aux positions $9831-$9833 du tilemap.
+;
+; SORTIE : Tilemap mis à jour avec le score
+; MODIFIE : A, B, DE
+; =============================================================================
+UpdateLevelScore:
+    ld a, [wROMBankInit]
+    and a
+    ret nz
+
+    ldh a, [hGameState]
+    cp GAME_STATE_OUTER             ; État $12 (joueur en périphérie)
+    ret nc
+
+    ld a, [wLevelData]
+    cp LEVEL_DATA_INIT
+    ret nz
+
+    call DisplayLevelBCDScore
+    ret
+
+
+; DisplayLevelBCDScore
+; --------------------
+; Description: Affiche le score BCD du niveau (3 chiffres) dans le tilemap VRAM
+;              Extrait les centaines, dizaines et unités des valeurs BCD et les écrit
+;              aux positions $9831-$9833 du tilemap
+; In:  wLevelBCD1 ($DA01) = dizaines/unités en BCD, wLevelBCD2 ($DA02) = centaines
+; Out: Aucun
+; Modifie: a, b, de
+DisplayLevelBCDScore:
+    ld de, VRAM_LEVEL_BCD
+    ld a, [wLevelBCD1]
+    ld b, a
+    and NIBBLE_LOW_MASK          ; Chiffre unités niveau
+    ld [de], a
+    dec e
+    ld a, b
+    and NIBBLE_HIGH_MASK         ; Chiffre dizaines niveau
+    swap a
+    ld [de], a
+    dec e
+    ld a, [wLevelBCD2]
+    and NIBBLE_LOW_MASK          ; Chiffre centaines niveau
+    ld [de], a
+    ret
+
+
+; ===========================================================================
+; État $12 - Configuration écran fin de niveau ($3D8E)
+; LCD off, clear OAM, fill tilemap avec tiles vides, affiche vies → état $13
+; ===========================================================================
+; State12_EndLevelSetup
+; ---------------------
+; Description: Configure l'écran de fin de niveau (éteint LCD, efface OAM,
+;              remplit tilemap, affiche compteur de vies)
+; In:  wLivesCounter = nombre de vies à afficher
+; Out: hGameState = GAME_STATE_DRAW_BORDER ($13)
+; Modifie: a, bc, de, hl, wStateRender, hShadowSCX, wOamBuffer, VRAM
+State12_EndLevelSetup::
+    ld hl, wStateRender
+    ld a, STATE_RENDER_END_SETUP
+    ld [hl], a
+    xor a
+    ldh [rLCDC], a
+    ldh [hShadowSCX], a
+    ld hl, wOamBuffer
+    ld b, OAM_BUFFER_FULL
+
+InitLoop_160Bytes:
+    ld [hl+], a
+    dec b
+    jr nz, InitLoop_160Bytes
+
+    ld hl, VRAM_BG_BASE
+    ld b, $ff
+    ld c, TILEMAP_FILL_LOOPS
+    ld a, TILE_EMPTY
+
+FillTilemap_MainLoop:
+    ld [hl+], a
+    dec b
+    jr nz, FillTilemap_MainLoop
+
+    ld b, $ff
+    dec c
+    jr nz, FillTilemap_MainLoop
+
+    ld de, VRAM_LIVES_DISPLAY
+    ld a, [wLivesCounter]
+    ld b, a
+    and NIBBLE_LOW_MASK          ; Chiffre unités vies
+    ld [de], a
+    dec e
+    ld a, b
+    and NIBBLE_HIGH_MASK         ; Chiffre dizaines vies
+    swap a
+    ld [de], a
+    ld a, LCDC_END_SCREEN
+    ldh [rLCDC], a
+    ld a, GAME_STATE_DRAW_BORDER
+    ldh [hGameState], a
+    ret
+
+; ===========================================================================
+; État $13 - Dessin bordure écran fin ($3DCE)
+; Dessine la bordure décorative, texte "BONUS GAME", sélection → état $14
+; ===========================================================================
+State13_DrawEndBorder::
+    xor a
+    ldh [rLCDC], a
+    ld hl, VRAM_BG_BASE
+    ld a, TILE_BORDER_TOP_LEFT
+    ld [hl+], a
+    ld b, TEXT_LINE_WIDTH
+    ld a, TILE_BORDER_HORIZONTAL
+
+FillBorderRow:
+    ld [hl+], a
+    dec b
+    jr nz, FillBorderRow
+
+    ld a, TILE_BORDER_TOP_RIGHT
+    ld [hl], a
+    ld de, TILEMAP_STRIDE
+    ld l, e
+    ld b, BORDER_COLUMN_HEIGHT
+    ld c, BORDER_COLUMN_COUNT
+    ld a, TILE_BORDER_VERTICAL
+
+FillBorderColumn:
+    ld [hl], a
+    add hl, de
+    dec b
+    jr nz, FillBorderColumn
+
+    ld l, $33
+    dec h
+    dec h
+    ld b, BORDER_COLUMN_HEIGHT
+    dec c
+    jr nz, FillBorderColumn
+
+    ld hl, VRAM_BORDER_BOTTOM_ROW
+    ld a, TILE_BORDER_BOTTOM_LEFT
+    ld [hl+], a
+    ld b, TEXT_LINE_WIDTH
+    ld a, TILE_BORDER_HORIZONTAL
+
+FillBottomBorderRow:
+    ld [hl+], a
+    dec b
+    jr nz, FillBottomBorderRow
+
+    ld a, TILE_BORDER_BOTTOM_RIGHT
+    ld [hl], a
+    ; === Écriture "BONUS GAME" ===
+    ld hl, VRAM_END_TEXT_ROW1
+    ld a, TEXT_CHAR_B              ; 'B'
+    ld [hl+], a
+    ld a, TEXT_CHAR_O              ; 'O'
+    ld [hl+], a
+    dec a                          ; 'N' (TEXT_CHAR_O - 1 = $17)
+    ld [hl+], a
+    ld a, TEXT_CHAR_U              ; 'U'
+    ld [hl+], a
+    ld a, TEXT_CHAR_S              ; 'S'
+    ld [hl+], a
+    inc l                          ; espace
+    ld a, TEXT_CHAR_G              ; 'G'
+    ld [hl+], a
+    ld a, TEXT_CHAR_A              ; 'A'
+    ld [hl+], a
+    ld a, TEXT_CHAR_M              ; 'M'
+    ld [hl+], a
+    ld a, TEXT_CHAR_E              ; 'E'
+    ld [hl], a
+    ld hl, VRAM_END_TEXT_ROW2
+    ld a, TILE_CREDITS_SPECIAL
+    ld [hl+], a
+    inc l
+    ld a, TILE_TEXT_CORNER
+    ld [hl], a
+    ld l, $e1
+    ld a, TILE_TEXT_FILL
+    ld b, TEXT_LINE_WIDTH
+
+FillTextLineRow1:
+    ld [hl+], a
+    dec b
+    jr nz, FillTextLineRow1
+
+    ld l, $d1
+    ld a, TILE_TEXT_CORNER
+    ld [hl+], a
+    ld l, $41
+    inc h
+    ld a, TILE_TEXT_FILL
+    ld b, TEXT_LINE_WIDTH
+
+FillTextLineRow2:
+    ld [hl+], a
+    dec b
+    jr nz, FillTextLineRow2
+
+    ld l, $31
+    ld a, TILE_TEXT_CORNER
+    ld [hl+], a
+    ld l, $a1
+    ld a, TILE_TEXT_FILL
+    ld b, TEXT_LINE_WIDTH
+
+FillTextLineRow3:
+    ld [hl+], a
+    dec b
+    jr nz, FillTextLineRow3
+
+    ld l, $91
+    ld a, TILE_TEXT_CORNER
+    ld [hl+], a
+    ld l, $01
+    inc h
+    ld a, TILE_TEXT_FILL
+    ld b, TEXT_LINE_WIDTH
+
+FillTextLineRow4:
+    ld [hl+], a
+    dec b
+    jr nz, FillTextLineRow4
+
+    ld l, $f1
+    dec h
+    ld a, TILE_TEXT_CORNER
+    ld [hl+], a
+BonusSelectionTable::  ; Table inline: bytes utilisés comme données pour sélection bonus aléatoire
+    nop
+    ld bc, $e502
+    inc bc
+    ld bc, $e502
+    ld de, BonusSelectionTable
+    ldh a, [rDIV]
+    and FRAME_MASK_4
+    inc a
+
+SkipFrames:
+    inc de
+    dec a
+    jr nz, SkipFrames
+
+    ld hl, VRAM_END_COPY_START
+    ld bc, VRAM_END_COPY_STRIDE ; Stride de 3 lignes
+
+CopyToBackBuffer:
+    ld a, [de]
+    ld [hl], a
+    inc de
+    add hl, bc
+    ld a, l
+    cp VRAM_END_COPY_END_LOW    ; Fin de la copie ?
+    jr nz, CopyToBackBuffer
+
+    ld a, LCDC_END_SCREEN
+    ldh [rLCDC], a
+    ld a, GAME_STATE_BONUS_SELECT
+    ldh [hGameState], a
+    ret
+
+; State16_CopyTilemapData
+; ----------------
+; Description: Copie un bloc de données vers la tilemap en colonnes
+;              Lit depuis wLevelParam23, écrit vers adresse [wLevelParam18:19]
+;              Dimensions: LEVEL_PARAM_COPY_COLS colonnes × LEVEL_PARAM_COPY_ROWS lignes
+; In:  wLevelParam18:19 = adresse destination tilemap (pointeur 16-bit)
+;      wLevelParam23 = adresse source des données
+;      wLevelParam28 = compteur colonnes (LEVEL_PARAM_COPY_COLS)
+;      wLevelParam29 = compteur lignes (LEVEL_PARAM_COPY_ROWS)
+; Out: wLevelParam28 = réinitialisé à LEVEL_PARAM_COPY_COLS
+;      wLevelParam29 = réinitialisé à LEVEL_PARAM_COPY_ROWS
+;      hGameState = GAME_STATE_BONUS_COPY ($15)
+; Modifie: a, bc, de, hl
+; ----------------
+State16_CopyTilemapData::
+    ld bc, TILEMAP_STRIDE
+
+CopyTilemapOuter:
+    ld de, wLevelParam23
+    ld a, [wLevelParam18]
+    ld h, a
+    ld a, [wLevelParam19]
+    ld l, a
+
+CopyTilemapInner:
+    ld a, [de]
+    ld [hl], a
+    inc de
+    add hl, bc
+    ld a, [wLevelParam28]
+    dec a
+    ld [wLevelParam28], a
+    jr nz, CopyTilemapInner
+
+    ld a, LEVEL_PARAM_COPY_COLS
+    ld [wLevelParam28], a
+    ld a, [wLevelParam29]
+    dec a
+    ld [wLevelParam29], a
+    jr nz, CopyTilemapOuter
+
+    ld a, LEVEL_PARAM_COPY_ROWS
+    ld [wLevelParam29], a
+    ld a, GAME_STATE_BONUS_COPY
+    ldh [hGameState], a
+    ret
+
+
+; -----------------------------------------------------------------------------
+; GetTileAddrFromSprite - Convertit coordonnées sprite en adresse tilemap
+; -----------------------------------------------------------------------------
+; Entrées : hSpriteY, hSpriteX (coordonnées OAM en pixels)
+; Sorties : HL = adresse du tile BG sous le sprite
+;           hSpriteAttr = H, hSpriteTile = L
+; -----------------------------------------------------------------------------
+GetTileAddrFromSprite:
+    ldh a, [hSpriteY]
+    sub OAM_Y_OFS         ; Retire offset OAM Y
+    srl a
+    srl a
+    srl a                 ; Y pixels → ligne tile (÷8)
+    ld de, $0000
+    ld e, a
+    ld hl, VRAM_BG_BASE   ; Base tilemap BG
+    ld b, TILEMAP_STRIDE  ; Largeur = 32 tiles
+
+.multiplyRow:
+    add hl, de            ; HL += ligne (×32 via boucle)
+    dec b
+    jr nz, .multiplyRow
+
+    ldh a, [hSpriteX]
+    sub OAM_X_OFS         ; Retire offset OAM X
+    srl a
+    srl a
+    srl a                 ; X pixels → colonne tile (÷8)
+    ld de, $0000
+    ld e, a
+    add hl, de            ; Ajoute colonne
+    ld a, h
+    ldh [hSpriteAttr], a
+    ld a, l
+    ldh [hSpriteTile], a
+    ret
+
+
+; GetSpritePosFromTileAddr
+; ------------------------
+; Description: Convertit une adresse de tilemap en coordonnées sprite OAM.
+;              Effectue un shift de 4 bits pour extraire les coordonnées tile,
+;              puis calcule les positions Y et X en pixels avec ajustements.
+;              Fonction inverse de GetTileAddrFromSprite.
+; In:  hSpriteAttr = octet haut de l'adresse tilemap (ligne)
+;      hSpriteTile = octet bas de l'adresse tilemap (colonne+offset)
+; Out: hSpriteY = coordonnée Y du sprite en pixels (avec offset OAM)
+;      hSpriteX = coordonnée X du sprite en pixels (avec offset OAM)
+; Modifie: a, b, de
+GetSpritePosFromTileAddr:
+    ldh a, [hSpriteAttr]
+    ld d, a
+    ldh a, [hSpriteTile]
+    ld e, a
+    ld b, SPRITE_BITS_SHIFT
+
+.shiftRight:
+    rr d
+    rr e
+    dec b
+    jr nz, .shiftRight
+
+    ld a, e
+    sub TILE_ADDR_Y_BASE
+    and CLEAR_BIT_0_MASK
+    rlca
+    rlca
+    add TILE_SIZE_PIXELS
+    ldh [hSpriteY], a
+    ldh a, [hSpriteTile]
+    and TILEMAP_COLUMN_MASK
+    rla
+    rla
+    rla
+    add TILE_SIZE_PIXELS
+    ldh [hSpriteX], a
+    ret
+
+
+; UpdateScoreDisplay
+; ------------------
+; Description: Met à jour l'affichage du score dans la tilemap
+;              Convertit 3 octets BCD en 6 tiles chiffres avec suppression des zéros de tête
+;              Vérifie flags de condition avant mise à jour
+; In:  [wScoreBCD] = score en BCD (3 octets = 6 chiffres, octet haut en premier)
+;      [hScoreNeedsUpdate] = flag de mise à jour requise
+;      [wCoinUpdateDone] = flag blocker (si actif, pas de mise à jour)
+;      [hScrollPhase] = phase de scroll (skip si SCROLL_PHASE_DONE)
+; Out: Tilemap à VRAM_HUD_LINE ($9820) mise à jour avec tiles chiffres
+;      [hScoreNeedsUpdate] = 0 (flag cleared)
+; Modifie: a, b, c, de, hl
+UpdateScoreDisplay:
+    ; --- EarlyReturnChecks ---
+    ldh a, [hScoreNeedsUpdate]          ; Flag "needs update" ?
+    and a
+    ret z                   ; Non → return
+
+    ld a, [wCoinUpdateDone]           ; Flag blocker ?
+    and a
+    ret nz                  ; Oui → return
+
+    ldh a, [hScrollPhase]          ; État spécial ?
+    cp SCROLL_PHASE_DONE
+    ret z                   ; Oui → return
+
+    ; --- SetupPointers ---
+    ld de, wScoreBCD        ; DE = source (score BCD, high byte first)
+    ld hl, VRAM_HUD_LINE    ; HL = destination (tilemap)
+
+;; --- ConvertBCDToTiles ---
+;; Convertit 3 octets BCD en 6 tiles avec suppression des zéros de tête
+ConvertBCDToTiles:
+    xor a
+    ldh [hScoreNeedsUpdate], a          ; Clear "needs update" flag
+    ld c, SCORE_BCD_SIZE    ; 3 octets à traiter
+
+BCD_ProcessByte:
+    ; --- ProcessHighNibble ---
+    ld a, [de]              ; Lire octet BCD
+    ld b, a                 ; Sauvegarder dans B
+    swap a                  ; High nibble → low nibble
+    and NIBBLE_LOW_MASK     ; Masquer nibble bas (ex-haut)
+    jr nz, BCD_MarkNonZeroHigh      ; Si != 0 → afficher chiffre
+
+    ; Chiffre = 0, vérifier si leading zero
+    ldh a, [hScoreNeedsUpdate]          ; Déjà affiché un chiffre non-zéro ?
+    and a
+    ld a, TILE_DIGIT_0      ; Tile "0"
+    jr nz, BCD_WriteTile      ; Oui → afficher "0"
+
+    ld a, TILE_EMPTY        ; Non → afficher espace (leading zero suppression)
+
+BCD_WriteTile:
+    ld [hl+], a             ; Écrire tile, avancer
+
+    ; --- ProcessLowNibble ---
+    ld a, b                 ; Récupérer octet original
+    and NIBBLE_LOW_MASK     ; Low nibble
+    jr nz, BCD_MarkNonZeroLow      ; Si != 0 → afficher chiffre
+
+    ; Chiffre = 0, vérifier si leading zero
+    ldh a, [hScoreNeedsUpdate]          ; Déjà affiché un chiffre non-zéro ?
+    and a
+    ld a, TILE_DIGIT_0      ; Tile "0"
+    jr nz, BCD_WriteLowNibble      ; Oui → afficher "0"
+
+    ; Cas spécial : dernier octet, afficher au moins "0"
+    ld a, FLAG_TRUE
+    cp c                    ; Est-ce le dernier octet ?
+    ld a, TILE_DIGIT_0
+    jr z, BCD_WriteLowNibble       ; Oui → afficher "0" (pas d'espace)
+
+    ld a, TILE_EMPTY        ; Non → espace (leading zero)
+
+BCD_WriteLowNibble:
+    ld [hl+], a             ; Écrire tile, avancer
+    dec e                   ; Octet BCD suivant
+    dec c                   ; Compteur--
+    jr nz, BCD_ProcessByte      ; Boucle 3 fois
+
+    xor a
+    ldh [hScoreNeedsUpdate], a          ; Clear flag
+    ret
+
+; --- MarkNonZeroSeen (high nibble) ---
+BCD_MarkNonZeroHigh:
+    push af
+    ld a, FLAG_TRUE
+    ldh [hScoreNeedsUpdate], a          ; Marquer "a vu un chiffre non-zéro"
+    pop af
+    jr BCD_WriteTile
+
+; --- MarkNonZeroSeen (low nibble) ---
+BCD_MarkNonZeroLow:
+    push af
+    ld a, FLAG_TRUE
+    ldh [hScoreNeedsUpdate], a          ; Marquer "a vu un chiffre non-zéro"
+    pop af
+    jr BCD_WriteLowNibble
+
+; Routine DMA - copiée en HRAM pour transfert OAM
+; Transfère 160 octets de $C000 (shadow OAM) vers $FE00 (OAM)
+DMA_Routine:
+    ld a, DMA_SOURCE_HIGH
+    ldh [rDMA], a
+    ld a, DMA_WAIT_CYCLES
+
+DMA_WaitLoop:
+    dec a
+    jr nz, DMA_WaitLoop
+
+    ret
+
+
+; === Données fin de bank 0 ($3F87-$3FFF, 121 bytes) ===
+
+; ===========================================================================
+; ROM_HUD_TILEMAP - Données tilemap du HUD ($3F87-$3FAE, 40 bytes)
+; ---------------------------------------------------------------------------
+; Description: Données de tilemap pour les 2 lignes du HUD affichées en haut
+;              de l'écran. Contient les indices de tiles pour:
+;              Ligne 1: "MARIO    WORLD TIME"
+;              Ligne 2: "   x  *-     -"
+;              Les valeurs $2b et $2c correspondent à des tiles vides (espace)
+; Format: 20 tiles par ligne (TILEMAP_ROW_WIDTH) × 2 lignes (HUD_LINE_COUNT)
+; Utilisé par: CopyHudTilemap ($05F8)
+; ===========================================================================
+    db $16, $0a, $1b, $12, $18, $2b, $2c, $2c  ; Ligne 1: "MARIO   " ($3F87)
+    db $2c, $2c, $20, $18, $1b, $15, $0d, $2c  ; Ligne 1: "  WORLD " ($3F8F)
+    db $1d, $12, $16, $0e, $2c, $2c, $2c, $2c  ; Ligne 1: "TIME    " ($3F97)
+    db $2c, $2c, $2c, $2a, $2b, $2c, $2c, $2c  ; Ligne 2: "   *    " ($3F9F)
+    db $01, $29, $01, $2c, $2c, $00, $00, $00  ; Ligne 2: ".-. ..." ($3FA7)
+
+; AnimTilesFrames
+; ----------------
+; Description: Table ROM des frames d'animation pour les tiles animés (eau, lave).
+;              Contient 10 frames de 8 octets chacune. Chaque frame définit les motifs
+;              de pixels pour animer un tile. Les frames 0-3 contiennent des motifs
+;              d'animation, les frames 4-9 sont du padding.
+; Format:      Chaque frame = 8 octets de données de pixels
+; Utilisation: Référencée par UpdateAnimTiles (via ROM_ANIM_TILES)
+;              Index de frame sélectionné via hAnimTileIndex (bits hauts)
+; Destination: Les données sont copiées vers VRAM_ANIM_DEST ($95D1) avec espacement
+; Taille:      80 octets (10 frames × 8 octets)
+AnimTilesFrames::
+    db $00, $00, $00, $10, $38, $38, $28, $10  ; Frame 0: motif animation 1
+    db $00, $e0, $b1, $5b, $ff, $ff, $ff, $ff  ; Frame 1: motif animation 2
+    db $7e, $3c, $18, $00, $00, $81, $42, $a5  ; Frame 2: motif animation 3
+    db $00, $e1, $33, $de, $ff, $e7, $db, $ff  ; Frame 3: motif animation 4
+    ds 48, $ff                                  ; Frames 4-9: padding (non utilisées)
+
+; Padding fin de bank ($3FFF, 1 byte)
+    db $ff
diff --git a/tmp/bank_001.asm.txt b/tmp/bank_001.asm.txt
new file mode 100644
index 0000000..80ce8e1
--- /dev/null
+++ b/tmp/bank_001.asm.txt
@@ -0,0 +1,12438 @@
+SECTION "ROM Bank $001", ROMX[$4000], BANK[$1]
+
+; LevelJumpTable
+; ----------------
+; Description: Table des pointeurs pour chaque niveau (triplets: tileset/map/entities)
+; Structure: Chaque niveau utilise 3 pointeurs (6 octets)
+;   - +0: Pointeur tileset
+;   - +2: Pointeur map data
+;   - +4: Pointeur entities
+LevelJumpTable:
+    ; Niveau 0
+    dw SharedTilesetData_024, SharedMapData_012, SharedEntitiesData_012
+    ; Niveau 1
+    dw SharedTilesetData_024, SharedMapData_012, SharedEntitiesData_012
+    ; Niveau 2
+    dw SharedTilesetData_024, SharedMapData_012, SharedEntitiesData_012
+    ; Niveau 3
+    dw Level3TilesetData, Level3MapData, Level3EntitiesData
+    ; Niveau 4
+    dw SharedTilesetData_024, SharedMapData_467, $5405
+    ; Niveau 5
+    dw SharedTilesetData_578, Level5MapData, Level5EntitiesData
+    ; Niveau 6
+    dw Level6TilesetData, SharedMapData_467, $5405
+    ; Niveau 7
+    dw SharedTilesetData_578, SharedMapData_467, $5405
+    ; Niveau 8 (incomplet)
+    dw SharedTilesetData_578
+
+; ==============================================================================
+; ROM_WORLD1_TILES - Données graphiques mondes 1 et 2 ($4032-$4401)
+; ==============================================================================
+; Description: Zone de tiles graphiques utilisés pour les mondes 1 et 2
+;              Cette section est mal désassemblée comme code, mais contient
+;              réellement des données graphiques (tiles 8x8, 2bpp)
+; Référencé par: GraphicsTableA ($0DE4) pointe vers $4032
+; Destination: Copié vers VRAM $8A00 par CopyPatternTileDataLoop
+; Taille: $3D0 octets (976 bytes = 61 tiles)
+; Format: Chaque tile = 16 octets (8x8 pixels, 2 bits par pixel)
+; Note: Les labels dans cette section (ProcessDataValue_4055, etc.) pointent
+;       vers des octets de données, pas du code exécutable
+; ==============================================================================
+ROM_WORLD1_TILES:  ; $4032
+    rrca  ; Début données tiles (mal désassemblé)
+
+CalculateOffset_4033:
+    rrca
+    rra
+    jr RotateAndAdjust_4072
+
+    jr nc, AdjustValue_4070
+
+    jr nz, ShiftAccumulator_407a
+
+    daa
+    ld a, [hl-]
+    ld a, [hl+]
+
+HandlePaletteLookup:
+    add hl, sp
+    add hl, hl
+    ccf
+    ld h, $f0
+    ldh a, [$ffd8]
+    jr c, CalculateOffset_4033
+
+    inc e
+    db $f4
+    inc c
+    db $f4
+    db $ec
+    ld d, h
+    ld e, h
+    sub h
+    sbc h
+    db $f4
+    ld l, h
+    nop
+    nop
+    rrca
+
+ProcessDataValue_4055:
+    rrca
+    ccf
+    jr c, RotateAndAdjust_40d4
+
+    ld h, b
+    ld [hl], a
+    ld b, b
+    ld a, a
+    ld b, a
+    ld a, d
+    ld c, d
+    ld a, c
+    ld c, c
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    db $fc
+    inc e
+    or $0e
+
+PreprocessData_406a:
+    ld a, [$fa06]
+    and $5a
+    ld d, [hl]
+
+AdjustValue_4070:
+    sbc d
+    sub [hl]
+
+RotateAndAdjust_4072:
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    inc c
+    inc c
+
+ShiftAccumulator_407a:
+    ld [de], a
+    ld e, $3c
+    inc a
+    db $e3
+    rst $38
+    ld b, e
+    ld b, e
+    nop
+    nop
+    ld hl, sp-$08
+    add b
+    ret nz
+
+    ldh [hVramPtrLow], a
+    add [hl]
+    and $eb
+    jp hl
+
+
+    dec e
+    pop af
+    ld a, l
+    ld h, c
+    ld bc, $0301
+    inc bc
+    ld b, $06
+    dec bc
+    rrca
+    ld e, $1e
+    ld [hl], c
+    ld a, a
+    ld h, $26
+    rrca
+    ld [$fcfc], sp
+    ret nz
+
+    ldh [rSVBK], a
+    ld [hl], b
+    ld b, b
+    ld [hl], b
+    ld a, b
+    ld a, b
+    xor h
+    db $e4
+    db $f4
+    call nz, $4474
+    rra
+    rra
+    ld [hl-], a
+    inc sp
+    ld a, d
+    ld e, e
+    di
+    sub d
+    rst $38
+    adc h
+    ld a, h
+    ld [hl], b
+    ld [hl], b
+    ld b, b
+    ccf
+    ccf
+    add $c6
+    ld l, $ea
+    ld a, [hl]
+    ld a, [$a2be]
+    cp d
+    and d
+    ld a, d
+    ld a, d
+    ld l, d
+    ld l, d
+    add [hl]
+    add [hl]
+    nop
+    nop
+
+RotateAndAdjust_40d4:
+    rlca
+    rlca
+    jr PaddingAlign_40f7
+
+    daa
+    jr c, PaddingAlign_410a
+
+    jr nc, @+$5e
+
+    ld h, b
+    ld e, b
+    ld h, b
+    ld e, b
+    ld h, b
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc c
+    rrca
+    inc de
+    inc e
+    rla
+    jr ProcessSoundRegister
+
+    jr nc, ProcessSoundRegister
+
+    jr nc, PaddingAlign_40f3
+
+PaddingAlign_40f3:
+    nop
+    nop
+    nop
+    nop
+
+PaddingAlign_40f7:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingAlign_410a:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0301
+
+StoreAndRotateValue:
+    ld [bc], a
+    rlca
+    rlca
+    ld [$0d08], sp
+    dec c
+    rra
+
+ProcessSoundRegister:
+    rra
+    rst $38
+    ldh a, [$ffbf]
+    add b
+    ld hl, sp-$08
+    ldh [rNR41], a
+    ld hl, sp-$68
+    ldh a, [$ff90]
+    ld hl, sp-$78
+    ldh a, [$ff30]
+    ldh [rNR41], a
+    ldh a, [$ff30]
+    rra
+    db $10
+    rrca
+    add hl, bc
+    rra
+    ld de, $1c17
+    dec e
+    rra
+    rra
+    dec d
+    dec e
+    rla
+    rrca
+    dec c
+    ret z
+
+    jr c, StoreAndRotateValue
+
+    or b
+
+PaddingTrap_4146:
+    ld hl, sp-$78
+    ld hl, sp+$38
+    cp b
+    add sp, -$18
+    cp b
+    cp b
+    add sp, -$10
+    or b
+    ccf
+    ld h, $1f
+    db $10
+    ld a, a
+    ld h, c
+    rst $18
+    cp b
+    ei
+    or a
+    cp h
+    db $f4
+    ld a, [hl]
+    ld e, d
+    inc h
+    inc h
+    db $f4
+    ld l, h
+    add sp, $18
+    cp $86
+    ei
+    dec e
+    rst $18
+    db $ed
+    dec a
+    cpl
+    ld a, [hl]
+    ld e, d
+    inc h
+    inc h
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+    ld bc, $0801
+    ld [$0c0c], sp
+    inc b
+    rlca
+    inc bc
+
+LoopCarryClearBit_4181:
+    inc bc
+    cp a
+    ld hl, $3ebe
+    or b
+    jr nc, LoopCarryClearBit_4181
+
+    ld a, b
+    add b
+    ld hl, sp-$08
+    ld hl, sp+$00
+    ldh a, [hSoundId]
+    ret nz
+
+    rrca
+    ld [$080f], sp
+    rrca
+    ld [$0407], sp
+    inc hl
+    inc hl
+    ld sp, $1831
+    rra
+    rrca
+    rrca
+    ld a, h
+    ld b, h
+    ld a, b
+    ld a, b
+    ld [hl], b
+    ld [hl], b
+    ldh a, [rSVBK]
+    add b
+    ldh a, [hCurrentTile]
+    ldh a, [rP1]
+    ldh [hSoundId], a
+    ret nz
+
+    ccf
+    ccf
+    ld a, c
+    ld l, c
+    db $fd
+    adc l
+    ld a, c
+    ld l, c
+    rra
+    ld d, $0f
+    ld [$101c], sp
+    ld a, a
+    ld a, a
+    ldh [hVramPtrLow], a
+    dec de
+    ei
+    cpl
+    db $ed
+    rst $08
+    ld c, c
+    call StoreAudioChannel4
+    dec hl
+    jr c, @+$3a
+
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0701
+    ld b, $00
+    nop
+    ccf
+    ccf
+    ld a, [hl]
+    ld b, [hl]
+    ld a, a
+    ld a, c
+    adc [hl]
+    adc d
+    rst $18
+    reti
+
+
+    cp $f6
+    db $fc
+    inc b
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0101
+    ld bc, $0202
+    rrca
+    inc c
+    or a
+    or c
+    ld a, [hl]
+    ld a, [hl]
+    db $fc
+    call nz, $88f8
+    ld a, b
+    ld [$10f0], sp
+    ldh [rNR41], a
+    ret nz
+
+    ld b, b
+    add b
+    add b
+    nop
+    nop
+    ld e, a
+    ld c, a
+    pop af
+    pop af
+    ld c, $0e
+    add hl, de
+    jr @+$12
+
+    db $10
+    db $10
+    db $10
+    add hl, de
+    jr RotationDataEntry_4228
+
+    ld b, $f6
+    or $fd
+    xor l
+    push af
+    rla
+
+RotationDataEntry_4228:
+    db $fd
+    rrca
+    ld [$ea1e], a
+    ld e, $cb
+    ccf
+    sbc e
+    ld a, a
+    inc b
+    inc b
+    adc [hl]
+    adc d
+    adc [hl]
+    adc d
+    rst $18
+    pop de
+    rst $38
+    xor a
+    push af
+    sub l
+    or c
+
+ValidateOrTransformValue:
+PaddingAlign_423f:
+    sub c
+    cp a
+    adc a
+    jr PaddingAlign_425c
+
+    ld a, h
+    ld h, h
+    cp $a2
+    cp $ae
+    or l
+    sub l
+    or c
+    sub c
+    sbc a
+    adc a
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingAlign_425c:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    add hl, bc
+    ld c, $1a
+    inc e
+    ld h, $24
+    ld l, $2c
+    ld h, $24
+    ccf
+    ccf
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    sub b
+    ld [hl], b
+    ld e, b
+    jr c, ProcessCarryFlag_42ef
+
+    inc h
+    ld [hl], h
+    inc [hl]
+    ld h, h
+    inc h
+    db $fc
+    db $fc
+    rlca
+    rlca
+    add hl, bc
+    ld c, $1a
+    inc e
+    ld h, $24
+    ld l, $2c
+    ld h, $24
+    ccf
+    ccf
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    sub b
+    ld [hl], b
+    ld e, b
+    jr c, @+$66
+
+    inc h
+    ld [hl], h
+    inc [hl]
+    ld h, h
+    inc h
+    db $fc
+    db $fc
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rra
+    inc e
+    rla
+    ld de, $0a0a
+    inc c
+    inc c
+    inc bc
+    inc bc
+    dec c
+    inc c
+    ld de, $2110
+
+BusyWait_IfNotZero:
+    jr nz, BusyWait_IfNotZero
+
+    ld b, $fb
+    adc e
+    or c
+    pop de
+    xor c
+    pop hl
+    ld e, e
+    pop bc
+    ld a, c
+    rst $00
+    cp c
+
+ProcessCarryFlag_42ef:
+    add a
+    ldh a, [c]
+    adc [hl]
+    jr nz, LoadStaticValue_4314
+
+    jr nz, @+$22
+
+    ld sp, $3931
+    add hl, sp
+    ccf
+    ld h, $1f
+    db $10
+    rrca
+    rrca
+    nop
+    nop
+    cp h
+    add h
+    db $fc
+    call nz, $84bc
+    db $fc
+    call z, CheckPlayerCollisionWithObject
+    ldh a, [rSVBK]
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    rlca
+    rlca
+
+LoadStaticValue_4314:
+    ld bc, $0101
+    ld bc, $0101
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    db $fd
+    rst $38
+    ld a, c
+    ccf
+    ld [hl], c
+    ccf
+    ld h, [hl]
+    ld a, d
+    xor $f2
+    adc [hl]
+    ldh a, [c]
+    ld e, [hl]
+    ld h, d
+    ld a, [hl]
+    ld b, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    db $10
+    db $10
+    ld a, h
+    ld a, h
+    db $10
+    db $10
+    ld a, h
+    ld a, h
+    jr c, JumpIfCarryClear_B2BC
+
+    ld b, h
+    ld b, h
+    ld a, h
+    ld a, h
+    db $10
+    db $10
+    ld a, h
+    ld a, h
+    db $10
+    db $10
+    ld a, h
+    ld a, h
+    db $10
+    db $10
+    jr z, JumpIfCarryClear_B2BC
+
+    ld b, h
+    ld b, h
+    ld a, h
+    ld a, h
+    nop
+    nop
+    nop
+
+InitializeLevel_4355:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld [hl-], a
+    inc a
+    ld [hl], d
+    ld e, h
+
+JumpIfCarryClear_B2BC:
+    jp nc, $b2bc
+
+    db $fc
+    rst $18
+    rst $18
+    inc d
+    inc e
+    ld [hl], h
+    ld l, h
+    ld d, h
+    ld l, h
+    ld c, h
+    inc a
+    ld c, [hl]
+    ld a, [hl-]
+    ld c, e
+    dec a
+    ld c, l
+    ccf
+    ei
+    ei
+    jr z, UpdateStateCounter
+
+    ld l, $36
+    ld a, [hl+]
+    ld [hl], $df
+    rst $18
+    ldh a, [c]
+    cp h
+    or d
+    call c, DataShim_7c52
+    ccf
+    ccf
+    ld a, [bc]
+    ld c, $3a
+    ld [hl], $2a
+    ld [hl], $fb
+    ei
+    ld c, a
+    dec a
+    ld c, l
+    dec sp
+    ld c, d
+    ld a, $fc
+    db $fc
+    ld d, b
+    ld [hl], b
+    ld e, h
+    ld l, h
+    ld d, h
+    ld l, h
+    rlca
+    rlca
+    add hl, de
+    ld e, $2a
+    inc l
+    ccf
+    ccf
+    or [hl]
+    ret c
+
+    rst $38
+    rst $38
+    inc d
+    inc e
+    ld d, h
+    ld l, h
+    ldh [hVramPtrLow], a
+    sbc b
+    ld a, b
+
+UpdateStateCounter:
+    ld d, h
+    inc [hl]
+    db $fc
+    db $fc
+    ld l, l
+    dec de
+    rst $38
+    rst $38
+    jr z, ReturnIfZero_4408
+
+    ld a, [hl+]
+    ld [hl], $27
+    jr nz, @+$31
+
+    jr nz, RstMarker_4416
+
+    jr nz, RstMarkerBlock_4417
+
+    ld hl, $333c
+    jr ContinueProcessing_43fd
+
+    rrca
+    rrca
+    inc bc
+    inc bc
+    call nz, $f8bc
+    ld hl, sp+$70
+    ldh a, [$ff30]
+    ldh a, [rSVBK]
+    ldh a, [$ffd8]
+    add sp, -$64
+    db $e4
+    inc a
+    call nz, RST_00
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+; ==============================================================================
+; ROM_WORLD1_PALETTE - Données palette mondes 1 et 2 ($4402-$46C2)
+; ==============================================================================
+; Description: Palette graphique complète pour les mondes 1 et 2 (identiques)
+;              Contient les couleurs et données graphiques pour l'affichage
+; Référencé par: GraphicsTableB ($0DEA) pointe vers $4402
+; Destination: Copié vers VRAM $9310 par CopyColorPaletteDataLoop
+; Taille: $2C1 octets (705 bytes)
+; Format: Données de palette Game Boy (format propriétaire)
+; Note: La copie continue jusqu'à ce que hl atteigne $9700 (VRAM_COPY_LIMIT_HIGH)
+;       Après cette palette (à $46C3), se trouve ROM_WORLD1_ANIM_DATA
+; ==============================================================================
+
+; Padding avant la palette ($43FD-$4401)
+ContinueProcessing_43fd:
+    db $00, $00, $00, $00, $00
+
+; Données de la palette à $4402 (adresse ROM_WORLD1_PALETTE)
+World1PaletteData:
+    db $01, $00, $03, $00, $05, $00
+ReturnIfZero_4408:  ; $4408 - Label conservé pour compatibilité
+    db $09, $00, $01, $00, $03, $00, $05, $00, $09, $00, $FF, $3C, $FF, $7E
+RstMarker_4416:  ; $4416 - Label conservé pour compatibilité
+    db $FF
+RstMarkerBlock_4417:  ; $4417 - Label conservé pour compatibilité
+    db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $00, $00, $00, $00, $01
+    db $01, $07, $06, $0E, $08, $1F, $1F, $1C, $10, $1F, $1F, $3C, $3C, $56, $4E, $FF
+    db $FF, $39, $07, $7C, $03, $FF, $FF, $FC, $03, $FF, $FF, $00, $00, $00, $00, $80
+    db $80, $E0, $E0, $70, $F0, $F8, $F8, $38, $F8, $F8, $F8, $1E, $16, $19, $19, $19
+    db $19, $1E, $16, $1C, $10, $1C, $10, $3F, $3F, $DD, $CC, $7E, $19, $66, $25, $66
+    db $25, $7E, $19, $7E, $01, $7E, $01, $FF, $FF, $EF, $63, $78, $F8, $98, $98, $98
+    db $98, $78, $F8, $38, $F8, $38, $F8, $FC, $FC, $1F, $FF, $03, $03, $07, $04, $0F
+    db $08, $1F, $10, $1E, $10, $3C, $20, $3F, $3F, $20, $20, $FF, $FF, $C3, $00, $87
+    db $00, $0F, $00, $0F, $00, $1F, $00, $FF, $FF, $00, $00, $FF, $FF, $C1, $3F, $E0
+    db $1F, $F0, $0F, $F8, $07, $FC, $03, $FF, $FF, $00, $00, $C0, $C0, $E0, $E0, $70
+    db $F0, $38, $F8, $38, $F8, $1C, $FC, $FC, $FC, $1C, $7C, $40, $7F, $7F, $7F, $80
+    db $80, $80, $FF, $FF, $FF, $10, $10, $0C, $0C, $03, $03, $00, $FF, $FF, $FF, $00
+    db $00, $00, $FF, $FF, $FF, $08, $38, $30, $F0, $C0, $C0, $00, $FF, $FF, $FF, $00
+    db $00, $00, $FF, $FF, $FF, $10, $10, $0C, $0C, $03, $03, $0E, $FE, $FE, $FE, $07
+    db $3F, $07, $FF, $FF, $FF, $08, $38, $30, $F0, $C0, $C0, $FF, $FF, $FF, $00, $FF
+    db $00, $FF, $00, $FF, $00, $FF, $00, $FF, $FF, $00, $00, $00, $00, $00, $00, $03
+    db $03, $0C, $0C, $10, $10, $20, $20, $20, $20, $40, $40, $00, $00, $00, $00, $80
+    db $80, $40, $40, $24, $24, $1A, $1A, $01, $01, $06, $00, $00, $00, $00, $00, $00
+    db $00, $00, $00, $00, $00, $00, $00
+DataPadding_453e:  ; $453E - Label conservé pour compatibilité
+    db $80, $80, $40, $40, $01, $01, $02, $02, $04, $04, $0F, $08, $07, $04, $03, $02
+    db $01, $01, $00, $00, $80, $80, $00, $00, $C1, $00, $F7, $00, $FF, $00, $FF, $40
+    db $FF, $E3, $3E, $3E, $13, $00, $99, $00, $C1, $00, $E3, $00, $FF, $00, $FF, $80
+    db $7F, $41, $3E, $3E, $40, $40, $A0, $20, $E0, $20, $C0, $40, $C0, $40, $80, $80
+    db $00, $00, $00, $00, $00, $00, $00, $00, $00, $10, $00, $28, $00, $10, $00, $00
+    db $00, $00, $00, $00, $00, $FF, $00, $FF, $00, $FF, $00, $FF, $00, $FF, $00, $FF
+    db $00, $FF, $00, $FF, $00, $FF, $00, $00, $00, $FF, $00, $00, $00, $FF, $00, $00
+    db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $03, $00, $0C
+    db $00, $10, $00, $20, $00, $52, $00, $52, $00, $4C, $00, $FF, $00, $00, $00, $00
+    db $00, $00, $00, $00, $00, $4A, $00, $4A, $00, $32, $00, $FF, $00, $00, $00, $00
+    db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $C0, $00, $30
+    db $00, $08, $00, $04, $00, $40, $00, $40, $00, $3F, $00, $40, $00, $3F, $00, $10
+    db $00, $08, $00, $07, $00, $00, $00, $00, $00, $FF, $00, $00, $00, $FF, $00, $48
+    db $00, $84, $00, $03, $00, $00, $00, $00, $00, $FF, $00, $00, $00, $FF, $00, $12
+    db $00, $21, $00, $C0, $00, $02, $00, $02, $00, $FC, $00, $02, $00, $FC, $00, $08
+    db $00, $10, $00, $E0, $00, $01, $00, $02, $00, $0F, $00, $10, $00, $3F, $00, $40
+    db $00, $7F, $00, $4C, $00, $80, $00, $40, $00, $F0, $00, $08, $00, $FC, $00, $02
+    db $00, $FE, $00, $32, $FD, $FB, $FD, $FB, $FD, $FB, $FD, $FB, $FD, $FB, $FD, $FB
+    db $FD, $FB, $FD, $03, $00, $00, $00, $00, $00, $18, $00, $24, $00, $24, $00, $18
+    db $00, $00, $00, $00, $00, $FF, $FF, $FF, $00, $00, $00, $FF, $FF, $FF, $00, $00
+    db $E7, $18, $00, $00, $E7, $18, $00, $00, $E7, $18, $00, $00, $E7, $18, $00, $00
+    db $E7, $18, $00, $00, $80, $00, $80, $00, $80, $00, $80, $00, $80, $00, $80, $00
+    db $80, $00, $80, $00, $00, $20, $00, $50, $00, $90, $00, $A0, $00, $90, $00, $90
+    db $00, $4A, $00, $4D, $00, $55, $00, $49, $00, $29, $00, $2A, $00, $2A, $00, $14
+    db $00, $14, $00, $0C, $00
+    add e
+    nop
+    add $00
+    ld l, l
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $30
+    nop
+    db $e3
+    nop
+    pop bc
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rra
+    rra
+    ld a, a
+    ld a, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    sbc c
+    sbc c
+    sbc c
+    sbc c
+    and $e6
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    sbc c
+    sbc c
+    sbc c
+    sbc c
+    ld h, [hl]
+    ld h, [hl]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld hl, sp-$08
+    cp $fe
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    sbc c
+    sbc c
+    sbc c
+    sbc c
+    ld h, a
+    ld h, a
+    xor $ee
+    xor $ee
+    xor $ee
+    xor $ee
+    xor $ee
+    xor $ee
+    nop
+    nop
+    nop
+    nop
+    ld a, a
+    ld a, a
+    ret nz
+
+    ret nz
+
+    and b
+    and b
+    sbc a
+    sbc a
+    sbc b
+    sbc b
+    sub h
+    sub h
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    cp $fe
+    inc bc
+
+TileSheetData_4755:
+    inc bc
+    rlca
+    rlca
+    ei
+    ei
+    dec de
+    dec de
+    dec sp
+    dec sp
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, a
+    ld a, a
+    ret nz
+
+    ret nz
+
+    and b
+    and b
+    sbc a
+    sbc a
+    sbc b
+    sbc b
+    sub h
+    sub h
+    sub e
+    sub e
+    sub d
+    sub d
+    cp $fe
+    inc bc
+    inc bc
+    rlca
+    rlca
+    ei
+    ei
+    dec de
+    dec de
+    dec sp
+    dec sp
+    db $db
+    db $db
+    db $db
+    db $db
+    sub e
+    sub e
+    sub e
+    sub e
+    sub h
+    sub h
+    sbc a
+    sbc a
+    sbc a
+    sbc a
+    and b
+    and b
+    rst $38
+    rst $38
+    ld a, a
+    ld a, a
+    db $db
+    db $db
+    db $db
+    db $db
+    dec sp
+    dec sp
+    ei
+    ei
+    ei
+    ei
+    rlca
+    rlca
+    rst $38
+    rst $38
+    cp $fe
+    nop
+    add e
+    nop
+    add $00
+    ld l, l
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    inc a
+    inc a
+    ld a, a
+    ld h, a
+    rst $38
+    call z, $90ff
+    rst $38
+    sub b
+    rst $38
+    add h
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, h
+    ld a, h
+    cp $9e
+    rst $38
+    inc sp
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    sub a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ret
+
+
+    rst $38
+    sbc l
+    rst $38
+    rst $38
+    rst $38
+    rst $18
+    rst $38
+    inc e
+    rst $38
+    ld [hl], b
+    rst $38
+    rst $20
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    ret
+
+
+    rst $38
+    add c
+    rst $38
+    and l
+    rst $38
+    add e
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rlca
+    rlca
+    inc bc
+    inc bc
+    inc bc
+    nop
+    rlca
+    ld bc, $0003
+    inc bc
+    nop
+    add hl, sp
+    add hl, de
+    ld a, a
+    rra
+    ret nz
+
+    ret nz
+
+    jr nc, DataZone_4836
+
+    ldh a, [rSVBK]
+    ldh a, [$ff30]
+    ldh a, [rNR10]
+    add sp, $08
+    call nz, $e0e4
+    ldh a, [rP1]
+    nop
+    inc bc
+    inc bc
+    ld bc, $0101
+    nop
+    inc bc
+    nop
+    ld bc, $0100
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    sbc b
+    sbc b
+    ld hl, sp+$38
+    ld sp, hl
+    sbc c
+    cp $0e
+    ldh a, [rP1]
+    ldh [hCurrentTile], a
+    nop
+    nop
+    ccf
+    ccf
+
+DataZone_4836:
+    ld b, b
+    ld b, h
+    or e
+    rst $30
+    rst $30
+    or e
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    rst $38
+    nop
+    nop
+    add b
+    add b
+    ld b, b
+    ld b, b
+    jr nz, DataChainEntry_48aa
+
+    jr nz, @+$62
+
+    and b
+    ld h, b
+    and b
+    ld h, b
+    and b
+    ld h, b
+    ccf
+    ccf
+    ld a, a
+    ld b, b
+    rst $38
+    cp e
+    rst $38
+    add b
+    rst $38
+    cp a
+    rst $08
+    rst $08
+    rlca
+    rlca
+    rlca
+    rlca
+    add b
+    add b
+    ld b, b
+    ret nz
+
+    and b
+    ldh [hTemp0], a
+    ld h, b
+    ldh [rNR41], a
+    ldh [hTemp0], a
+    ldh [hTemp0], a
+    ldh [c], a
+    and d
+    nop
+    nop
+    inc bc
+    inc bc
+    inc bc
+    inc bc
+    rlca
+    ld bc, $0003
+    ld a, a
+    rra
+    ld b, e
+    ld bc, $0f0f
+    nop
+    nop
+    ldh [c], a
+    ldh [c], a
+    ld [hl-], a
+    ld [hl-], a
+    db $fc
+    inc a
+    ldh [rP1], a
+    ldh a, [hCurrentTile]
+    ld hl, sp-$08
+    db $fc
+    db $fc
+    nop
+    nop
+    rlca
+    rlca
+    inc e
+    rra
+    scf
+    jr c, DataSection_48c7
+
+    jr nc, JumpStub_4915
+
+    ld h, b
+    ld e, b
+    ld h, b
+
+ConditionalVramLoop_48a0:
+    ld e, c
+    ld h, b
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    jr c, ConditionalVramLoop_48a0
+
+    sbc h
+    ld a, h
+
+DataChainEntry_48aa:
+    call z, $ce3c
+    ld a, $ce
+    ld a, $ce
+    ld a, $03
+    inc bc
+    inc c
+    inc c
+    db $10
+    db $10
+    inc h
+    jr nz, DataChain_48e3
+
+    jr nz, DataChain_48e5
+
+    jr nz, DataChain_48e8
+
+    ld hl, $2121
+    db $fd
+    db $fd
+    rlca
+    inc bc
+    inc bc
+
+DataSection_48c7:
+    ld bc, $0001
+    ld a, l
+    ld a, h
+    rst $38
+    cp $3f
+    ld a, [hl-]
+    cp a
+    or d
+    ld a, l
+    inc bc
+    ei
+    rlca
+    rst $38
+    add h
+    db $fc
+    or h
+    call c, $dfcc
+    call z, $cfdc
+    rst $18
+    rst $08
+    nop
+
+DataChain_48e3:
+    nop
+    ld h, b
+
+DataChain_48e5:
+    ld h, b
+    ld hl, sp-$48
+
+DataChain_48e8:
+    cp h
+    and h
+    and h
+    and h
+    db $fc
+    and h
+    cp b
+    ld hl, sp+$60
+    ld h, b
+    ld b, a
+    rlca
+    ld bc, $0100
+    ld bc, $0101
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh [hCurrentTile], a
+    ldh a, [hVramPtrLow]
+    ld hl, sp-$48
+    db $fc
+    sbc h
+    ldh [rP1], a
+    ret nz
+
+    ret nz
+
+    ld h, b
+    ld h, b
+    ld b, b
+    ld b, b
+    rra
+    rrca
+    ccf
+
+JumpStub_4915:
+    rrca
+    jr nz, DataPadding_4918
+
+DataPadding_4918:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh a, [$fff8]
+    ldh a, [$fff8]
+    ld hl, sp+$70
+    ld hl, sp-$28
+    ld hl, sp-$28
+    ld hl, sp-$68
+    ld h, b
+    ld h, b
+    ldh [hVramPtrLow], a
+    ld a, a
+    ld b, b
+    ccf
+    ccf
+    ld b, b
+    ld b, c
+    rst $38
+    rst $38
+    add c
+    add e
+    rst $38
+    rst $38
+    ld b, b
+    ld b, b
+    ccf
+    ccf
+    ld b, b
+    ret nz
+
+    ld b, c
+    pop bc
+    add e
+    add e
+    add l
+    add a
+    db $db
+    db $dd
+    ld h, [hl]
+    ld a, [$0cfc]
+    ld hl, sp-$08
+    rst $08
+    rst $08
+    rst $38
+    cp a
+    ld a, a
+    ld b, b
+    ccf
+    ccf
+    db $10
+    db $10
+    rra
+    rra
+    ld [$0708], sp
+    rlca
+    db $e3
+    inc hl
+    jp $c743
+
+
+    push bc
+    ld l, e
+    db $ed
+    ld [hl], a
+    ei
+    adc $f2
+    inc e
+    inc l
+    ldh a, [hCurrentTile]
+    ccf
+    ccf
+    ld a, [hl]
+    ld b, c
+    ld a, a
+    ld b, b
+    rst $38
+    sbc [hl]
+    rst $38
+    add b
+    rst $38
+    db $fc
+    rst $38
+    add b
+    ld a, a
+    ld a, a
+    nop
+    nop
+    add c
+    add c
+    ld b, e
+    jp DataLoopHelper2
+
+
+    call $db7f
+    ld c, l
+    rst $28
+    db $eb
+    sbc [hl]
+    sbc [hl]
+    ld e, a
+    ld h, b
+    ld c, a
+    ld [hl], b
+    ld l, a
+    ld [hl], b
+    jr nz, PopHlStoreC_49d9
+
+    jr nc, PopDualAndRst_49db
+
+    rra
+    rra
+    rlca
+    rlca
+    nop
+    nop
+    adc $3e
+    adc [hl]
+    ld a, [hl]
+    ld e, $fe
+    inc e
+    db $fc
+    ld a, h
+    db $fc
+    ld hl, sp-$08
+    ldh [hVramPtrLow], a
+    nop
+    nop
+    inc hl
+    inc hl
+    ld de, $0f11
+    rrca
+    rst $20
+    db $e4
+    rst $30
+    or h
+    ei
+    sbc e
+    sbc [hl]
+    sub h
+    sub a
+    sub a
+    scf
+    ld [hl-], a
+    db $fd
+    db $fd
+    rst $38
+    rst $38
+    rrca
+    nop
+    ccf
+    inc a
+    rst $38
+    rst $38
+    add $45
+    cp [hl]
+
+DataLoopHelper1:
+    adc l
+    rst $38
+    rst $38
+    rst $08
+    cp [hl]
+    cp a
+    ld [hl], c
+    ld [hl], c
+
+PopHlStoreC_49d9:
+    pop hl
+    ld [hl], c
+
+PopDualAndRst_49db:
+    pop hl
+    pop hl
+    rst $38
+    ld sp, $6fff
+    cp $e3
+    db $e3
+    rst $30
+    dec d
+    dec e
+    dec e
+    dec e
+    dec d
+    rst $38
+    dec d
+    rla
+    db $fd
+    dec e
+    rst $38
+    db $fd
+    rra
+    rlca
+    rlca
+    rrca
+    ld a, [bc]
+    rra
+    ld de, $223f
+    ccf
+    inc h
+    ccf
+    jr z, DataLoadBranch_4a3e
+
+    jr z, AdcDataPoint_4a40
+
+    jr z, ConditionalDispatchPoint_4a03
+
+ConditionalDispatchPoint_4a03:
+    nop
+    nop
+    nop
+    jr nc, DataLoadTable_4a38
+
+    ld [hl], c
+    ld d, c
+    or $97
+    ld hl, sp-$61
+    ei
+    adc a
+    rst $38
+    add h
+    rrca
+    rrca
+    inc de
+    inc de
+    dec de
+    dec de
+    inc de
+    inc de
+    ccf
+    ccf
+    ld c, b
+    ld c, b
+    cp a
+    adc b
+    rst $38
+    adc c
+    jp $e5c3
+
+
+    push hl
+    db $eb
+    jp hl
+
+
+    rst $38
+    pop af
+    rst $38
+    rst $38
+    ld sp, $fd31
+    dec e
+    rst $38
+    rst $38
+    nop
+    nop
+    inc a
+    inc a
+    ld a, [hl]
+    ld a, [hl]
+
+DataLoadTable_4a38:
+    ld c, [hl]
+    ld c, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld c, a
+    ld c, e
+
+DataLoadBranch_4a3e:
+    cp a
+    or b
+
+AdcDataPoint_4a40:
+    adc a
+    adc c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    sbc b
+    ld hl, sp-$12
+
+DataPadding_4a4f:
+    ld e, $fe
+    ld [de], a
+    nop
+    nop
+    nop
+    nop
+
+UpdateLevelState_4a56:
+    inc a
+    inc a
+    ld a, [hl]
+    ld a, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld c, a
+    ld c, e
+    cp a
+    or c
+    nop
+    nop
+    ld [hl], b
+    ld [hl], b
+    ld e, b
+    ld a, b
+    add sp, -$28
+    add sp, -$68
+    add sp, -$68
+    ret z
+
+    jr c, DataPadding_4a4f
+
+    ld a, $00
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rra
+    nop
+    rst $08
+    ccf
+    ldh a, [hCurrentTile]
+    nop
+    nop
+    ld a, [bc]
+    ld b, $0a
+    ld b, $12
+    ld c, $74
+    inc c
+    call nz, DecAnimObjCount
+    ld hl, sp-$10
+    ldh a, [rP1]
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    rra
+    jr DataMarker_4ad1
+
+    jr nz, DataZone_4acb
+
+    jr nz, DataEntry_4afd
+
+    ld b, b
+    ld h, b
+    ld b, b
+    ld h, b
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    add hl, bc
+    add hl, bc
+    dec d
+    inc de
+    dec l
+    inc hl
+    ld e, l
+    ld b, e
+    cp l
+    add e
+    db $f4
+    sub h
+    rst $38
+    sub h
+    rst $30
+    sbc a
+    sub l
+    db $fd
+    sbc c
+    ld sp, hl
+    sub b
+    ldh a, [hVramPtrLow]
+    ldh [rP1], a
+    nop
+    ld a, [hl]
+    ld c, l
+    cp $79
+    sbc h
+    add e
+    sbc e
+    rlca
+    or e
+
+DataZone_4acb:
+    ld c, $e7
+    sbc a
+    ld a, [hl]
+    ld a, h
+    rlca
+
+DataMarker_4ad1:
+    rlca
+    db $db
+    add a
+    db $db
+    add a
+    db $db
+    add a
+    rst $38
+    rst $38
+    ld sp, $ff0f
+    rst $38
+    ld [hl], c
+    ld c, $ff
+    rst $38
+    rst $20
+    push hl
+    jp wJumpTarget43
+
+
+    ret nz
+
+    add b
+    add b
+    add b
+    add b
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    rra
+    jr @-$6f
+
+    adc b
+    rst $00
+    rst $00
+    db $fd
+    db $fd
+    ld a, c
+    ld a, c
+    inc bc
+
+DataEntry_4afd:
+    inc bc
+    ld b, $06
+    inc b
+    inc b
+    rst $38
+    adc b
+    ld a, a
+    ld c, b
+    ccf
+    jr nc, PaddingZone_4b18
+
+    rrca
+    ld a, c
+    ld a, c
+    pop af
+    pop af
+    jp $9fc3
+
+
+    sbc a
+    sbc [hl]
+    ld [$ff89], a
+    ld c, b
+    ld a, a
+
+PaddingZone_4b18:
+    ccf
+    ccf
+    rlca
+    rlca
+    add hl, bc
+    add hl, bc
+    rrca
+    rrca
+    rlca
+    rlca
+    rlca
+    dec b
+    jp nz, ErrorTrap_01
+
+    db $fc
+    ldh [hVramPtrLow], a
+    ret nc
+
+    ret nc
+
+    ldh a, [hCurrentTile]
+    ldh a, [hCurrentTile]
+    ret nc
+
+    ret nc
+
+    cp a
+    cp e
+    ret
+
+
+    rst $08
+    ld a, h
+    ld a, a
+    rlca
+    rlca
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld a, d
+    ld c, $bc
+    sbc h
+    ldh a, [hCurrentTile]
+    ldh [hVramPtrLow], a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    adc a
+    adc b
+    cp a
+    cp b
+    ret
+
+
+    adc $7c
+    ld a, a
+    rlca
+    rlca
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    sbc [hl]
+    ld a, d
+    or d
+    ld a, [hl]
+    db $ec
+    inc e
+    db $10
+    ldh a, [hVramPtrLow]
+    ldh [rP1], a
+    nop
+    nop
+    nop
+    nop
+    nop
+    sbc c
+    sbc c
+    ld a, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld b, d
+    jp $c381
+
+
+    add c
+    ld h, [hl]
+    ld b, d
+    ld a, [hl]
+    ld h, [hl]
+    sbc c
+    sbc c
+    jr @+$1a
+
+    inc a
+    inc a
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    jr DataPadding_4baa
+
+    ld h, b
+    ld b, b
+    ld h, b
+    ld b, b
+    ld [hl], b
+    ld b, b
+    ld a, $20
+    ld de, $0e1e
+    rrca
+    ld bc, $0001
+    nop
+    nop
+    nop
+    ld a, a
+    ld a, a
+    rst $38
+    add b
+    add b
+    nop
+
+DataPadding_4baa:
+    dw $0000
+    dw $4141
+    dw $4141
+    dw $0000
+    dw $0000
+    dw $0000
+    dw $F0F0
+    dw $08F8
+    dw $041C
+    dw $040C
+    dw $060A
+    dw $060A
+
+; ROM_WORLD3_PALETTE - Données palette monde 3 ($4BC2-$4E83)
+; ==============================================================================
+; Description: Palette graphique complète pour le monde 3
+;              Contient les couleurs et données graphiques pour l'affichage
+; Référencé par: GraphicsTableB ($0DEA) pointe vers $4BC2
+; Destination: Copié vers VRAM $9310 par CopyColorPaletteDataLoop
+; Taille: $2C2 octets (706 bytes)
+; Format: Données palette 16-bit little-endian
+; ==============================================================================
+
+; Données de la palette à $4BC2 (adresse ROM_WORLD3_PALETTE)
+World3PaletteData:
+    dw $0000, $FF00, $8100, $BD00, $A500, $B500, $8500, $FD00
+    dw $0000, $7E00, $4200, $5A00, $4A00, $7A00, $0200, $FE00
+    dw $8100, $8100, $8100, $8100, $8100, $8100, $8100, $5E00
+    dw $0000, $0200, $4600, $2600, $1400, $0800, $0800, $0800
+    dw $0400, $0200, $6200, $1D00, $0100, $0000, $0000, $0000
+    dw $0000, $0000, $0000, $1000, $1800, $1800, $0900, $0900
+    dw $0600, $0800, $1000, $2C00, $4700, $C000, $8000, $8000
+    dw $0000, $0000, $0000, $0000, $0000, $0000, $0800, $1400
+    dw $1400, $2A00, $2600, $5500, $4900, $5100, $6300, $5500
+    dw $0100, $0300, $0500, $0900, $1100, $2100, $4100, $5E00
+    dw $FFFF, $FFFF, $FF00, $FFFF, $FFFF, $FF00, $FFFF, $FFFF
+    dw $FF00, $FF00, $FF00, $FF00, $FF00, $FF00, $FF00, $FF00
+    dw $0000, $1E00, $2100, $4000, $4000, $A000, $A800, $8000
+    dw $0000, $0000, $0000, $8000, $8000, $4000, $2000, $2000
+    dw $0100, $0200, $0200, $0400, $0400, $0400, $0800, $0800
+    dw $1000, $1000, $1000, $1100, $1100, $0A00, $0A00, $0C00
+    dw $0000, $0000, $E000, $1000, $0800, $0400, $0400, $0400
+    dw $0800, $0800, $1000, $1400, $2500, $2400, $4000, $8000
+    dw $0800, $0400, $1400, $5400, $0400, $0200, $0000, $0000
+    dw $8400, $8200, $2200, $0200, $0100, $0100, $0800, $0000
+    dw $1000, $1000, $1000, $1000, $1000, $0800, $0800, $0800
+    dw $1600, $2900, $4000, $8004, $805D, $413E, $320C, $0C00
+    dw $6800, $9600, $0100, $0084, $00D5, $00FF, $CB34, $3400
+    dw $0000, $C000, $2000, $1080, $6080, $8000, $0000, $0000
+    dw $0000, $FF00, $FF00, $00FF, $0000, $00FF, $0000, $00FF
+    dw $0100, $0100, $0200, $0200, $0200, $0400, $0400, $0800
+    dw $0700, $0800, $1000, $1000, $2000, $4000, $4000, $4000
+    dw $8000, $4000, $2000, $1000, $1000, $0800, $0800, $0800
+    dw $0000, $0000, $0000, $0000, $0100, $0100, $0200, $0200
+    dw $4000, $4000, $9000, $9400, $0000, $0000, $0000, $0000
+    dw $0400, $1200, $1200, $0100, $0100, $0100, $0000, $0000
+    dw $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
+    dw $FBFD, $FBFD, $FBFD, $FBFD, $FBFD, $FBFD, $FBFD, $03FD
+    dw $0000, $1F00, $2000, $4000, $8000, $8040, $8040, $4020
+    dw $0000, $0700, $E800, $1000, $0800, $0800, $0000, $0000
+    dw $0000, $8F00, $5000, $2000, $2000, $0000, $0000, $0000
+    dw $0000, $8000, $5800, $2400, $2200, $0100, $0100, $0102
+    dw $4020, $4030, $2010, $201C, $1807, $0700, $0000, $0000
+    dw $0000, $0008, $0408, $0876, $14E3, $E300, $0000, $0000
+    dw $0000, $0010, $0030, $1069, $20DF, $DF00, $0000, $0000
+    dw $0102, $0186, $42AC, $4CB0, $B000, $0000, $0000, $0000
+    dw $0000, $0010, $0010, $00FE, $007C, $0038, $007C, $00C6
+    dw $FFFF, $FF00, $00FF, $0000, $00FF, $0000, $00FF, $0000
+    dw $0000, $00FF, $0000, $00FF, $0000, $00FF, $FF00, $FFFF
+    dw $0000
+
+; Données après palette monde 3 ($4E84-$4F5D)
+DataPadding_4e84:
+    dw $3C00, $6600, $DB00, $FF00, $FC00, $7B00, $FF00, $0206
+    dw $0808, $2236, $CADE, $2A3E, $0A0E, $0206, $0000, $0000
+    dw $0000, $0000, $0000, $0000, $0000, $0000, $0000, $C7C7
+    dw $68EF, $33FF, $87FC, $FFF8, $FF00, $FF00, $7C83, $F3F3
+    dw $3CFF, $89FF, $E3FE, $FF3C, $FF00, $FD02, $708F, $7E7E
+    dw $83FF, $BBFF, $A3FF, $A3FF, $87FF, $FFFF, $7E7E, $E0E0
+    dw $3CFC, $8AFE, $E77F, $FF1D, $FF01, $FD03, $718F, $01FF
+    dw $02FE, $06FE, $04FC, $04FC, $06FE, $03FF, $01FF, $0F0F
+    dw $303F, $477F, $CFF9, $FFF0, $FF80, $FF80, $B8C7, $80FF
+    dw $C0FF, $407F, $407F, $607F, $203F, $203F, $607F, $7E7E
+    dw $89BB, $89BB, $FFFF, $91B7, $91B7, $91B7, $FFFF, $7E7E
+    dw $818F, $81BF, $83BF, $FFFF, $7E7E, $0000, $0000, $7F7F
+    dw $C0C0, $BFBF, $BFBF, $BFBF, $BFBF, $FF80, $FFFF, $FEFE
+    dw $0303, $FFFD, $FFFD, $FFFD, $FFFD
+
+DataPadding_4f5e:
+    inc bc
+    rst $38
+    rst $38
+    rst $38
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    rst $38
+    rst $38
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    rst $38
+    and $1e
+    and $1e
+
+PaddingZone_4f76:
+    rst $38
+    rst $38
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $38
+    rst $38
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+
+PaddingZone_4f86:
+    ld a, a
+    ld b, b
+    ccf
+    ccf
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    and $1e
+    and $1e
+    and $1e
+    db $fc
+    db $fc
+    and $1e
+    and $1e
+    and $1e
+
+CheckScrollingConditionAndReset:
+    and $1e
+    rst $38
+    rst $38
+    rst $38
+    add c
+    rst $00
+    add l
+    rst $18
+    sbc l
+    rst $18
+    sbc l
+    rst $38
+    cp l
+    rst $38
+    add c
+    rst $38
+    rst $38
+    ldh a, [$ffac]
+    and $01
+    ret nz
+
+    ld a, [wCollisionFlag]
+    cp COLLISION_THRESHOLD
+    jr c, UpdateScrollXAndDecreaseCollisionCounter
+
+    ldh a, [hShadowSCX]
+    and $0c
+    jr nz, UpdateScrollXAndDecreaseCollisionCounter
+
+    ldh a, [hShadowSCX]
+    and SCROLL_ALIGN_MASK        ; Aligner scroll sur 4 pixels
+    ldh [hShadowSCX], a
+    ret
+
+
+UpdateScrollXAndDecreaseCollisionCounter:
+    ldh a, [hShadowSCX]
+    inc a
+    ldh [hShadowSCX], a
+    ld b, $01
+    call OffsetSpritesY
+    call OffsetSpritesX
+    ld hl, wPlayerState
+    dec [hl]
+    ld a, [hl]
+    and a
+    jr nz, PerformCollisionCheckAndIncrementCounter
+
+    ld [hl], $f0
+
+PerformCollisionCheckAndIncrementCounter:
+    ld c, $08
+    call CheckSpriteCollisionWithOffset
+    ld hl, wPlayerState
+    inc [hl]
+    ret
+
+; ===========================================================================
+; UpdateObjectsAndInput
+; ---------------------
+; Description: Point d'entrée pour la mise à jour des objets du jeu.
+;              Vérifie d'abord si les boutons A ou B sont pressés pour
+;              des actions spéciales, sinon traite les mouvements directionnels.
+; In:  hJoypadState = État actuel du joypad
+; Out: Aucun retour spécifique
+; Modifie: a, bc, de, hl (via appels)
+; ===========================================================================
+UpdateObjectsAndInput:
+    ldh a, [hJoypadState]
+    bit 6, a                         ; Test bit 6 (bouton B)
+    jr nz, HandleJoypadButtonB_CheckCollision
+
+    bit 7, a                         ; Test bit 7 (bouton A)
+    jr nz, CheckSpriteCollisionSimple
+    ; Fall through vers HandleJoypadAndCollision
+
+; HandleJoypadAndCollision
+; ------------------------
+; Description: Gère le D-Pad (gauche/droite) et applique collisions directionnelles.
+;              Gauche (bit 5): offset -6, décrément wPlayerState si >= $10 et pas de collision.
+;              Droite (bit 4): offset +8, incrément wPlayerState si < $A0.
+; In:  hJoypadState = État boutons (bit 4=droite, bit 5=gauche)
+;      wPlayerState = Position état joueur actuelle
+;      wCollisionFlag = Flag collision pour tests supplémentaires
+; Out: wPlayerState modifié selon direction et collision
+; Modifie: a, bc, hl (via appels)
+HandleJoypadAndCollision:
+    ldh a, [hJoypadState]
+    bit 4, a                         ; Test PADF_RIGHT (bit 4)
+    jr nz, CheckCollisionWithPositiveOffset
+
+    bit 5, a                         ; Test PADF_LEFT (bit 5)
+    ret z
+
+    ld c, COLLISION_SIDE_X_NEG       ; Offset -6 pour collision gauche
+    call CheckSpriteCollisionWithOffset
+    ld hl, wPlayerState
+    ld a, [hl]
+    cp PLAYER_STATE_MIN              ; Si état < 16, bloqué
+    ret c
+
+    dec [hl]                         ; Décrément état joueur
+    ld a, [wCollisionFlag]
+    cp COLLISION_THRESHOLD           ; Collision forte ?
+    ret nc
+
+    dec [hl]                         ; Double décrément si collision faible
+    ret
+
+
+; CheckCollisionWithPositiveOffset
+; --------------------------------
+; Description: Gère le mouvement vers la droite avec vérification de collision.
+;              Incrémente wPlayerState si pas de blocage (< PLAYER_STATE_MAX).
+; In:  wPlayerState = Position état joueur actuelle
+; Out: wPlayerState modifié (+1 si mouvement autorisé)
+; Modifie: a, bc, hl (via appels)
+CheckCollisionWithPositiveOffset:
+    ld c, COLLISION_OFFSET_8         ; Offset +8 pour collision droite
+    call CheckSpriteCollisionWithOffset
+    ld hl, wPlayerState
+    ld a, [hl]
+    cp PLAYER_STATE_MAX              ; Si état >= 160, bloqué
+    ret nc
+
+    inc [hl]                         ; Incrément état joueur
+    ret
+
+
+; CheckSpriteCollisionSimple
+; --------------------------
+; Description: Vérifie collision sprite lorsque bouton A est pressé.
+;              Si aucune collision détectée et position X valide, déplace joueur vers la droite.
+; In:  wPlayerX = Position X actuelle du joueur
+; Out: Aucun (retourne via HandleJoypadAndCollision)
+; Modifie: a, hl (via appels)
+CheckSpriteCollisionSimple:
+    call CheckSpriteCollision
+    cp RETURN_COLLISION_FOUND
+    jr z, HandleJoypadAndCollision
+
+    ld hl, wPlayerX
+    ld a, [hl]
+    cp PLAYER_X_MAX_LIMIT
+    jr nc, HandleJoypadAndCollision
+
+    inc [hl]
+    jr HandleJoypadAndCollision
+
+; HandleJoypadButtonB_CheckCollision
+; ----------------------------------
+; Description: Gère collision lors appui bouton B (mouvement gauche)
+; In:  -
+; Out: a = $FF si collision solide, autre valeur si OK ou pipe
+; Modifie: a, hl, bc, de
+HandleJoypadButtonB_CheckCollision:
+    call CheckPlayerCollisionWithTile
+    cp RETURN_COLLISION_FOUND
+    jr z, HandleJoypadAndCollision
+
+    ld hl, wPlayerX
+    ld a, [hl]
+    cp GAME_STATE_WALK_LEFT        ; Limite gauche $30
+    jr c, HandleJoypadAndCollision
+
+    dec [hl]
+    jr HandleJoypadAndCollision
+
+; CheckPlayerCollisionWithTile
+; ----------------------------
+; Description: Vérifie collision joueur avec tiles devant lui (2 points test)
+; In:  -
+; Out: a = $FF si collision solide, 0 si libre, code spécial si pipe
+; Modifie: a, b, hl, hSpriteX, hSpriteY
+CheckPlayerCollisionWithTile:
+    ld hl, wPlayerX
+    ldh a, [hTimerAux]
+    ld b, FEET_COLLISION_OFFSET_Y  ; $FD = -3
+    and a
+    jr z, .checkFirstTile
+
+    ld b, COLLISION_ADJUST_X_NEG4  ; $FC = -4
+
+.checkFirstTile:
+    ld a, [hl+]
+    add b
+    ldh [hSpriteY], a
+    ldh a, [hShadowSCX]
+    ld b, [hl]
+    add b
+    add FEET_COLLISION_ADJUST_X    ; +2
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_THRESHOLD       ; Tiles < $60 = non-solides
+    jr nc, .tileIsSolid
+
+    ldh a, [hSpriteX]
+    add COLLISION_SIDE_X_NEG       ; -6 pixels
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_THRESHOLD
+    ret c
+
+.tileIsSolid:
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr z, .activateCollision
+
+    ld a, RETURN_COLLISION_FOUND
+    ret
+
+
+.activateCollision:
+    push hl
+    pop de
+    ld hl, hBlockHitType
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, STATE_BUFFER_COIN
+    ld [wStateBuffer], a
+    ret
+
+
+; CheckSpriteCollision
+; --------------------
+; Description: Détecte les collisions du sprite joueur avec les tiles de la tilemap
+;              Vérifie 2 points de collision (gauche et droite de la hitbox)
+; In:  c = offset X relatif
+; Out: a = résultat collision ($FF si aucune, valeur tile si collision)
+;      zero flag set si collision spéciale détectée
+; Modifie: a, bc, de, hl, hSpriteX, hSpriteY
+CheckSpriteCollision:
+    ld hl, wPlayerX
+    ld a, [hl+]
+    add SPRITE_COLLISION_OFFSET_Y
+    ldh [hSpriteY], a
+    ldh a, [hShadowSCX]
+    ld b, a
+    ld a, [hl]
+    add b
+    add HEAD_COLLISION_ADJUST_X  ; Ajustement hitbox X (-2)
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_THRESHOLD
+    jr nc, CheckForSpecialCollisionTile
+
+    ldh a, [hSpriteX]
+    add SPRITE_COLLISION_WIDTH
+    ldh [hSpriteX], a
+    call ReadTileUnderSprite
+    cp TILEMAP_CMD_E1            ; Tile collision spéciale E1 ?
+    jp z, TriggerBlockCollisionSound_TimerDispatch
+
+    cp TILEMAP_CMD_THRESHOLD
+    jr nc, CheckForSpecialCollisionTile
+
+    ret
+
+
+CheckForSpecialCollisionTile:
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr nz, ReturnNoCollisionDetected
+
+    push hl
+    pop de
+    ld hl, $ffee
+    ld [hl], $c0
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], e
+    ld a, $05
+    ld [wStateBuffer], a
+    ret
+
+
+ReturnNoCollisionDetected:
+    ld a, $ff
+    ret
+
+
+; CheckSpriteCollisionWithOffset
+; --------------------------------
+; Description: Vérifie collision sprite avec tile en testant plusieurs points d'offset.
+;              Teste 5 ou 1 point(s) selon timer, détecte tiles spéciaux (pipe, blocs).
+; In:  c = offset horizontal additionnel pour le test
+; Out: a = tile ID si collision spéciale, sinon indéfini
+;      carry/zero selon résultat de collision
+; Modifie: a, bc, de, hl
+; Calls: ReadTileUnderSprite, TriggerBlockCollisionSound_TimerDispatch
+CheckSpriteCollisionWithOffset:
+    ld de, $0502                ; d=offset Y (+5), e=compteur (2 tests)
+    ldh a, [hTimerAux]
+    cp $02
+    jr z, CollisionCheckOffsetLoop
+
+    ld de, $0501                ; Si timer != 2: d=offset Y (+5), e=1 test
+
+CollisionCheckOffsetLoop:
+    ld hl, wPlayerX
+    ld a, [hl+]                 ; a = wPlayerX (en fait Y sur GB)
+    add d                       ; Ajoute offset Y
+    ldh [hSpriteY], a
+    ld b, [hl]                  ; b = wPlayerX+1 (position X)
+    ld a, c                     ; Ajoute offset X passé en paramètre
+    add b
+    ld b, a
+    ldh a, [hShadowSCX]         ; Ajoute scroll X
+    add b
+    ldh [hSpriteX], a
+    push de
+    call ReadTileUnderSprite    ; Lit tile aux coordonnées (hSpriteY, hSpriteX)
+    pop de
+    cp TILEMAP_CMD_THRESHOLD    ; Tile >= $60 ?
+    jr c, DecrementOffsetAndRetryCollision
+
+    cp TILEMAP_CMD_PIPE         ; Tile tuyau $F4 ?
+    jr z, TriggerSpecialCollisionEvent
+
+    cp TILEMAP_CMD_E1            ; Tile collision spéciale E1 ?
+    jp z, TriggerBlockCollisionSound_TimerDispatch
+
+    cp TILEMAP_CMD_BLOCK         ; Tile bloc collision ?
+    jp z, TriggerBlockCollisionSound_TimerDispatch
+
+    pop hl
+    ret
+
+
+; DecrementOffsetAndRetryCollision
+; ---------------------------------
+; Description: Ajuste l'offset Y de collision vers le bas et retente si nécessaire.
+;              Change l'offset de +5 à -3 pour tester les pieds du sprite.
+; In:  e = compteur de tests restants, d = offset Y précédent
+; Out: (retourne ou reboucle selon compteur)
+; Modifie: d
+DecrementOffsetAndRetryCollision:
+    ld d, FEET_COLLISION_OFFSET_Y  ; Offset Y devient -3 (pieds)
+    dec e                       ; Décrémente compteur de tests
+    jr nz, CollisionCheckOffsetLoop
+
+    ret
+
+
+; TriggerSpecialCollisionEvent
+; ----------------------------
+; Description: Déclenche un événement collision spéciale (tuyau/pipe $F4).
+;              Configure le type de collision à $C0 et mémorise les coordonnées du sprite.
+;              Passe l'état buffer à 5 pour traiter l'événement spécial.
+; In:  hl = coordonnées du sprite (h=Y, l=X)
+; Out: -
+; Modifie: a, de, hl
+TriggerSpecialCollisionEvent:
+    push hl                     ; Copie hl -> de
+    pop de
+    ld hl, hBlockHitType        ; $FFEE
+    ld [hl], BLOCK_HIT_TYPE_SPECIAL ; Type collision = $C0 (spécial)
+    inc l                       ; $FFEF (stocke coordonnée Y du sprite)
+    ld [hl], d
+    inc l                       ; hCurrentTile ($FFF0)
+    ld [hl], e
+    ld a, $05
+    ld [wStateBuffer], a        ; Change état buffer à 5 (événement spécial)
+    ret
+
+
+; UpdateActiveSpriteAnimations
+; ----------------------------
+; Description: Met à jour les animations des 3 sprites actifs (slots $FFA9-$FFAB).
+;              Pour chaque sprite actif, incrémente sa position Y OAM de +2 pixels/frame.
+;              Nettoie les sprites qui atteignent Y >= $A9 (hors écran).
+;              Vérifie les collisions pièces et appelle ProcessObjectCollisions.
+; In:  hObjParamBuf1 = flags activité sprites (0=inactif, !=0=actif)
+;      wOamAttrY = buffer OAM (position Y sprites)
+; Out: Sprites mis à jour dans OAM, flags nettoyés si hors écran
+; Modifie: a, bc, de, hl
+; Calls: CheckTileForCoin, ProcessObjectCollisions
+UpdateActiveSpriteAnimations:
+    ld b, OAM_SPRITE_LOOP_3
+    ld hl, hObjParamBuf1
+    ld de, wOamAttrY
+
+OamSpriteActivityCheckLoop:
+    ld a, [hl+]
+    and a
+    jr nz, ProcessActiveSpriteOffset
+
+IncrementOamPointerAndLoop:
+    inc e
+    inc e
+    inc e
+    inc e
+    dec b
+    jr nz, OamSpriteActivityCheckLoop
+
+    ret
+
+
+ProcessActiveSpriteOffset:
+    push hl
+    push de
+    push bc
+    dec l
+    ld a, [de]
+    inc a
+    inc a
+    ld [de], a
+    ldh [hTemp1], a
+    ldh [hSoundParam2], a
+    cp OAM_Y_OFFSCREEN_LIMIT
+    jr c, CheckCoinCollisionLogic
+
+ClearOamAndMemory:
+    xor a
+    res 0, e
+    ld [de], a
+    ld [hl], a
+    jr ProcessCollisionAndLoopContinue
+
+CheckCoinCollisionLogic:
+    add $02
+    push af
+    dec e
+    ld a, [de]
+    ldh [hSoundParam1], a
+    add $06
+    ldh [hSpriteY], a
+    pop af
+    call CheckTileForCoin
+    jr c, ProcessCollisionAndLoopContinue
+
+    jr ClearOamAndMemory
+
+ProcessCollisionAndLoopContinue:
+    pop bc
+    pop de
+    pop hl
+    call ProcessObjectCollisions
+    jr IncrementOamPointerAndLoop
+
+; CheckPlayerStateAndReset
+; -------------------------
+; Description: Vérifie l'état du joueur et réinitialise le jeu si nécessaire.
+;              Appelé en fin de boucle principale (State0D) pour détecter
+;              la mort du joueur (< $01) ou un état critique (>= $F0).
+; In:  [wPlayerState] = état actuel du joueur (0-255)
+; Out: Aucun (ou reset du jeu via ResetGameStateInit)
+; Modifie: a
+CheckPlayerStateAndReset:
+    ld a, [wPlayerState]
+    cp PLAYER_STATE_ALIVE_MIN
+    jr c, ResetGameStateInit     ; Si < $01 (mort), réinitialiser
+
+    cp PLAYER_STATE_CRITICAL
+    ret c                        ; Si < $F0, état normal, continuer
+
+    ; Si >= $F0 (état critique), tomber dans ResetGameStateInit
+
+; ResetGameStateInit
+; -------------------
+; Description: Réinitialise le jeu à l'état initial (game state = $01).
+;              Appelé quand le joueur meurt ou atteint un état critique.
+; In:  Aucun
+; Out: Aucun
+; Modifie: a
+;          [hTimerAux] = $00, [hSubState] = $00
+;          [hGameState] = $01, [wStateRender] = $02
+;          [hTimer1] = TIMER_CHECKPOINT_LONG
+ResetGameStateInit:
+    xor a                        ; a = $00
+    ldh [hTimerAux], a           ; Reset timer auxiliaire
+    ldh [hSubState], a           ; Reset sous-état
+    inc a                        ; a = $01
+    ldh [hGameState], a          ; Game state = $01 (init)
+    inc a                        ; a = $02
+    ld [wStateRender], a         ; State render = $02
+    ld a, TIMER_CHECKPOINT_LONG  ; Timer checkpoint (144 frames)
+    ldh [hTimer1], a             ; Timer1 = TIMER_CHECKPOINT_LONG
+    ret
+
+; ==============================================================================
+; Level5MapData - Map data for level 5 ($5179-$5221)
+; ==============================================================================
+; Description: Compressed map data (RLE format) for level 5
+; Format:
+;   - Standard bytes: high nibble = tile count-1, low nibble = tile base
+;   - Command $84: Special tile marker
+;   - Command $93: Repeat/pattern marker
+;   - Command $00: Separator/special marker
+;   - End marker: $FF
+; Referenced by: LevelJumpTable entry for level 5 (line 22)
+; Size: 169 bytes (0xA9)
+; ==============================================================================
+Level5MapData:
+    db $0E, $13, $10, $10, $13, $10, $11, $0D, $84, $12, $04, $84, $17, $0B, $84, $1A
+    db $93, $10, $1B, $05, $84, $1C, $93, $10, $21, $09, $0B, $25, $06, $0B, $2A, $0F
+    db $84, $2D, $0C, $84, $2E, $13, $00, $2F, $05, $84, $34, $13, $10, $37, $13, $10
+    db $3A, $13, $10, $3D, $13, $10, $40, $13, $10, $41, $08, $04, $43, $13, $10, $47
+    db $93, $10, $49, $93, $10, $4C, $13, $A4, $4E, $13, $10, $51, $07, $00, $52, $07
+    db $00, $57, $04, $00, $58, $04, $00, $59, $04, $00, $5C, $93, $10, $5E, $93, $10
+    db $60, $93, $10, $62, $93, $10, $66, $93, $10, $68, $93, $10, $6A, $93, $24, $6C
+    db $93, $90, $6F, $4E, $02, $71, $0F, $84, $78, $07, $00, $79, $07, $00, $7D, $0B
+    db $84, $7D, $87, $84, $7F, $04, $00, $80, $04, $80, $84, $13, $90, $87, $13, $24
+    db $88, $08, $84, $8B, $93, $24, $8E, $0F, $84, $90, $08, $0A, $98, $08, $0A, $99
+    db $10, $84, $9C, $05, $36, $9C, $85, $36, $FF
+
+; ==============================================================================
+; Level5EntitiesData - Entities/objects data for level 5 ($5222-$5277)
+; ==============================================================================
+; Description: Entity placement data for level 5 (enemies, coins, blocks, etc.)
+; Format: Variable-length entries, each entity contains:
+;   - Position data (X, Y coordinates)
+;   - Entity type ID
+;   - Properties/flags
+; Size: 86 bytes ($56)
+; Referenced by: LevelJumpTable entry for level 5 (line 22)
+; Note: Format appears specific to level 5 layout
+; ==============================================================================
+Level5EntitiesData:
+    db $0C, $0C, $16, $12, $0C, $84, $16, $0B, $00, $17, $07, $04, $1D, $0B, $04, $22
+    db $07, $0B, $23, $13, $A4, $27, $07, $0B, $2A, $0D, $04, $31, $09, $16, $36, $09
+    db $04, $37, $0E, $00, $3A, $09, $80, $3E, $09, $16, $41, $0E, $00, $44, $09, $80
+    db $46, $09, $04, $48, $09, $16, $4B, $0E, $00, $57, $8F, $04, $58, $0E, $84, $59
+    db $0C, $00, $5B, $13, $24, $60, $8F, $16, $65, $85, $0A, $6B, $0A, $0B, $70, $0D
+    db $04, $71, $13, $A4, $73, $13
+
+DataZone_5278:
+    inc h
+    ld [hl], a
+    ld c, e
+    ld [bc], a
+    ld a, b
+    add hl, bc
+    add h
+    ld a, c
+    adc e
+    nop
+    ld a, d
+    ret
+
+
+    ld [bc], a
+    ld a, l
+    dec b
+    inc b
+    ld a, a
+    dec b
+    add h
+    add e
+    inc de
+    and h
+    add a
+    add l
+    ld [hl], $88
+    inc bc
+    dec bc
+    adc b
+    adc c
+    ld [hl], $89
+    adc l
+    ld [hl], $ff
+
+; Level6TilesetData
+; ----------------
+; Description: Tileset pour le niveau 6 (format RLE compressé)
+; Format: Paires d'octets (count, tile_id), terminé par $1A $FF
+; Taille: 118 octets ($76)
+; Référencé par: LevelJumpTable niveau 6
+Level6TilesetData:
+    db $0F, $05, $AF, $19, $0E, $2F, $1B, $53
+    db $10, $23, $0E, $9D, $25, $0B, $1D, $27
+    db $08, $9D, $29, $05, $1D, $2D, $08, $2F
+    db $2F, $53, $10, $39, $53, $10, $3B, $05
+    db $1D, $3E, $05, $9D, $40, $0D, $1D, $43
+    db $0D, $9D, $43, $13, $10, $49, $07, $1D
+    db $4D, $13, $10, $4E, $07, $2F, $54, $08
+    db $20, $57, $08, $1D, $5F, $09, $20, $69
+    db $07, $20, $69, $0D, $20, $73, $07, $2F
+    db $75, $13, $24, $78, $0C, $1D, $7F, $13
+    db $24, $85, $0A, $20, $88, $0C, $2F, $89
+    db $13, $A4, $8E, $0F, $1D, $92, $0F, $9D
+    db $9B, $0D, $20, $9C, $0F, $9D, $A5, $07
+    db $A0, $A8, $0F, $1D, $AE, $0B, $48, $AF
+    db $0A, $C8, $B0, $0C, $1A, $FF
+
+; ==============================================================================
+; SharedMapData_467 - Map data partagée niveaux 4, 6, 7 ($5311-$5404)
+; ==============================================================================
+; Description: Données de carte partagées entre les niveaux 4, 6 et 7
+;              Zone mal désassemblée comme du code (rrca, call z, etc.)
+;              Réellement: données de map au format similaire à Level5MapData
+; Format: Variable-length entries describing tile placement, terminated by $FF
+; Referenced by: LevelJumpTable entries for levels 4, 6, and 7
+; Size: 244 bytes ($F4)
+; Note: Reconstruire avec des 'db' statements pour une meilleure lisibilité
+; ==============================================================================
+SharedMapData_467:  ; $5311
+    rrca
+    call z, $1155
+    pop de
+    ld [bc], a
+    add hl, de
+    ld d, c
+    ld [bc], a
+    ld a, [de]
+    dec bc
+    sub $1b
+    rrca
+    add h
+    inc e
+    rrca
+    ld d, [hl]
+    rra
+    adc c
+    ld a, [bc]
+    inc h
+    add a
+    dec bc
+    inc l
+    rrca
+    add h
+    dec l
+    ld d, c
+    ld c, c
+    cpl
+    rrca
+    ld d, [hl]
+    scf
+    ld c, $84
+    add hl, sp
+    adc [hl]
+    inc b
+    ld a, [hl-]
+    ld c, $56
+    ld b, b
+    ld c, $56
+    ld b, c
+    ld c, $04
+    ld b, e
+    adc [hl]
+    inc b
+
+PaddingZone_5344:
+    ld c, d
+    rrca
+    ld d, [hl]
+
+PaddingZone_5347:
+    ld c, e
+    ld d, c
+    ld [bc], a
+    ld c, l
+    dec bc
+    ld d, [hl]
+    ld c, l
+    rrca
+
+ValidateCondition_534f:
+    add h
+    ld d, c
+    ld d, c
+    add d
+    ld d, e
+
+PaddingZone_5354:
+    ld d, c
+    ld [bc], a
+    ld d, h
+    ld c, a
+    ld [bc], a
+    ld d, l
+    call ProcessLevelData_5b49
+    ld c, [hl]
+    ld [bc], a
+    ld e, [hl]
+    ld a, [bc]
+    ld d, [hl]
+    ld e, [hl]
+    adc d
+    inc b
+    ld h, d
+    ld c, l
+    ld [bc], a
+    ld h, e
+    ld c, [hl]
+    ret
+
+
+    ld h, a
+    ld c, $39
+    ld l, e
+    ld a, [bc]
+    jr c, @+$71
+
+    rst $08
+    ld [bc], a
+    ld [hl], c
+    call z, ValidationData_7355
+    call z, ConfigData_7555
+    pop de
+    ld [bc], a
+    ld a, c
+    rst $08
+    ld c, c
+    ld a, e
+    call z, LevelData_7c55
+    rrca
+    add b
+    ld a, l
+    call z, DataPadding_7e55
+    rrca
+    nop
+    ld a, a
+    pop de
+    ld [bc], a
+    add e
+    rst $08
+    ld c, c
+    add l
+    call z, $8755
+    call z, $8855
+    rrca
+    add h
+    adc c
+    pop de
+    ld [bc], a
+    adc d
+    add [hl]
+    inc c
+    adc [hl]
+    adc l
+    dec bc
+    sub d
+    ld b, $38
+    sub l
+    add l
+    ld [hl], $96
+    dec b
+    ld [hl], $98
+    dec b
+    ld [hl], $98
+    add l
+    ld [hl], $9a
+    ld b, $36
+    sbc d
+    add [hl]
+    ld [hl], $9d
+    ld b, $0a
+    and c
+    ld d, c
+    add d
+    and d
+    ld d, c
+    ld c, c
+    and e
+    ld d, c
+    add d
+    and h
+    ld c, a
+    add d
+    and l
+    call $a7c9
+    adc c
+    ld d, [hl]
+    xor [hl]
+    ld c, $56
+    xor a
+    ld c, $04
+    or c
+    adc [hl]
+    inc b
+    or d
+    ld c, $56
+    or h
+    add hl, bc
+    ld a, [bc]
+    jp nz, DataLoopHelper1
+
+    call nz, $49cf
+    push bc
+    adc d
+    inc b
+    add $c9
+    ld c, c
+    rst $08
+    dec b
+    ld d, [hl]
+    rst $08
+    ld [$cf56], sp
+    ld c, $56
+    call nc, AudioInitData_StackVariantA
+    push de
+    db $10
+    ld [hl], $d7
+    pop de
+    ld c, c
+    ret c
+
+    rst $08
+    ld c, c
+    reti
+
+
+    call z, $de49
+    adc b
+    add hl, sp
+    rst $38
+    rrca
+    dec bc
+    inc b
+    ld de, $8909
+    dec d
+    rrca
+    inc b
+    add hl, de
+    dec bc
+    inc b
+    dec de
+    rrca
+    add hl, bc
+    rra
+    ld d, b
+    ld c, c
+    jr nz, JumpStub_5428
+
+    add h
+    inc hl
+    dec c
+    inc b
+    daa
+    dec bc
+    add hl, bc
+    add hl, hl
+    ld d, b
+    ld c, c
+    ld a, [hl+]
+    rrca
+    add h
+    dec l
+    adc l
+
+JumpStub_5428:
+    cp a
+    jr nc, ConditionalProcessingRoutine_5436
+
+    ccf
+    inc [hl]
+    call AudioInitData_StackVariantB
+    add hl, bc
+    inc b
+    scf
+    call $3a55
+
+ConditionalProcessingRoutine_5436:
+    call z, $3e55
+    call ProcessDataValue_4055
+    ld d, b
+    ret
+
+
+    ld b, c
+    call InitializeLevel_4355
+    ld d, b
+    ld c, c
+    ld b, h
+    call z, TileSheetData_4755
+    add hl, bc
+    inc b
+    ld c, b
+
+; SharedEntitiesData_467 - Entities data partagée niveaux 4, 6, 7 ($5405-$5509)
+SharedEntitiesData_467:  ; $5405
+    rrca
+    nop
+    ld c, e
+    inc c
+    cp a
+    ld c, l
+    ld c, $09
+    ld d, e
+    rrca
+    ld d, h
+    ld d, h
+    ld c, h
+    ld [bc], a
+    ld d, [hl]
+    rlca
+    ld d, h
+    ld e, c
+    rrca
+    ld d, h
+    ld e, d
+    rrca
+    nop
+    ld e, l
+    rrca
+    ld d, h
+    ld h, b
+    rlca
+    ld d, h
+    ld h, e
+    rrca
+    ld d, h
+    ld l, b
+    inc c
+    ld d, h
+    ld l, d
+    rrca
+    inc b
+    ld l, h
+    dec c
+    ld d, h
+    ld [hl], b
+    adc a
+    call nc, $8e72
+    dec bc
+    halt
+    adc h
+    dec bc
+    ld a, d
+    rrca
+    inc b
+    ld a, h
+    inc c
+    ld d, h
+    ld a, [hl]
+    rrca
+    inc b
+    add b
+    dec c
+    ld d, h
+    add h
+    adc a
+    call nc, $8e86
+    dec bc
+    adc d
+    adc h
+    dec bc
+    adc e
+    add a
+    call nc, ValidateAndWriteTextCharToVram
+    inc b
+    sub c
+    inc c
+    ccf
+    sub h
+    adc d
+    inc b
+    sub l
+    add a
+    ld d, h
+    sbc c
+    rrca
+    ld d, h
+    sbc h
+    rlca
+    ld d, h
+    sbc l
+    adc l
+    inc b
+    sbc a
+    rrca
+    ld d, h
+    and e
+    rrca
+    ccf
+    and l
+    inc c
+    inc b
+    and a
+    adc l
+    cp a
+    xor b
+    adc d
+    inc b
+    xor c
+    add a
+    ld d, h
+    or c
+    rrca
+    res 6, l
+    ld c, h
+    ld d, l
+    or a
+    ld b, $3a
+    cp h
+    ld b, $36
+    cp a
+    ld c, $36
+    cp a
+    adc e
+    ld [hl], $c0
+    ld [wSpriteVar36], sp
+    add [hl]
+    ld [hl], $ff
+; SharedTilesetData_578 - Tileset data partagée niveaux 5, 7, 8 ($54D5-$55BB)
+; ==============================================================================
+; Description: Tileset partagé utilisé par les niveaux 5, 7 et 8
+; Format: Paires d'octets (position, tile_id), terminé par $FF $FF
+;         - Chaque paire définit: position (nibbles: Y/X), tile ID
+;         - Valeurs spéciales: $52/$53/$59 (bank selectors?), $D2/$D3 (commands?)
+; Taille: 227 octets ($E3)
+; Référencé par: LevelJumpTable niveaux 5, 7, 8 (lignes 22, 26, 28)
+; ==============================================================================
+SharedTilesetData_578:
+    db $10, $06, $53, $11, $0F, $D3, $13, $08, $53, $14, $0D, $53, $17, $0A, $53, $19
+    db $06, $53, $1A, $0F, $D3, $1C, $0C, $53, $1D, $09, $53, $23, $06, $53, $24, $08
+    db $D3, $25, $0A, $53, $27, $0E, $53, $28, $0C, $D3, $29, $0A, $53, $2B, $06, $53
+    db $2C, $05, $52, $2E, $05, $D2, $30, $05, $52, $34, $0F, $52, $36, $0F, $D2, $38
+    db $0F, $52, $3C, $05, $52, $3D, $0A, $D2, $3E, $0F, $52, $42, $06, $52, $43, $0D
+    db $52, $4C, $05, $53, $4D, $8B, $59, $4E, $06, $D3, $4E, $0C, $52, $50, $85, $59
+    db $52, $0F, $52, $52, $06, $53, $56, $06, $59, $57, $0E, $53, $58, $8F, $59, $5A
+    db $06, $52, $5A, $0E, $D2, $5C, $0F, $53, $5D, $09, $59, $5F, $08, $53, $60, $0D
+    db $59, $63, $05, $53, $63, $0A, $52, $65, $0E, $53, $67, $09, $59, $68, $09, $53
+    db $69, $0E, $D2, $6B, $09, $59, $6C, $08, $53, $71, $8A, $59, $72, $07, $53, $73
+    db $0A, $52, $75, $0C, $52, $76, $8F, $59, $78, $08, $52, $7A, $0A, $53, $7B, $0E
+    db $59, $7D, $07, $53, $7E, $0D, $53, $80, $8C, $59, $85, $05, $53, $87, $0E, $53
+    db $89, $0E, $D2, $8E, $0A, $52, $90, $07, $52, $93, $0D, $53, $93, $06, $52, $CF
+    db $8A, $54, $D9, $87, $D4, $DB, $0C, $54, $DC, $0D, $86, $E0, $08, $06, $E1, $08
+    db $06, $EC, $8A, $61, $FF, $FF
+
+; ==============================================================================
+; SharedTilesetData_024 - Tileset data partagée niveaux 0, 1, 2, 4 ($55BB-$55E1)
+; ==============================================================================
+; Description: Table de pointeurs vers tiles graphiques (8 bytes/tile)
+; Format: Séquence de words (16-bit pointers), terminée par $FF
+;         - Chaque word pointe vers une tile de 8 octets en mémoire
+; Taille: 39 octets ($27) - 19 pointeurs + terminateur
+; Référencé par: LevelJumpTable niveaux 0, 1, 2, 4 (lignes 12, 14, 16, 20)
+; ==============================================================================
+SharedTilesetData_024:
+    dw $56CD, $5ABB, $6048, $56CD, $574A, $57EB, $5D32, $586F
+    dw $58FE, $58FE, $596E, $574A, $57EB, $57EB, $586F, $574A
+    dw $58FE, $59EE, $5A5F
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; SharedMapData_012 - Map data partagée niveaux 0, 1, 2 ($55E2-$5604)
+; ==============================================================================
+; Description: Données de map (layout de tiles) partagées par les niveaux 0, 1 et 2
+; Format: Séquence de words (16-bit tile IDs ou pointeurs), terminée par $FF
+;         - Chaque word représente un tile dans le layout de la map
+; Taille: 35 octets ($23) - 17 words + terminateur
+; Référencé par: LevelJumpTable niveaux 0, 1, 2 (lignes 12, 14, 16)
+; ==============================================================================
+SharedMapData_012:
+    dw $56CD, $5ABB, $6048, $5BA3, $5C22, $5CA6, $5D32, $5D8A
+    dw $5E32, $5E32, $5E32, $5F44, $5F44, $5D32, $5FAD, $5CA6
+    dw $5A5F
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; SharedEntitiesData_012 - Entities data partagée niveaux 0-2 ($5605-$562F)
+; ==============================================================================
+; Description: Table de pointeurs vers les données d'entités pour niveaux 0, 1, 2
+; Format: Séquence de words (16-bit pointeurs vers entités), terminée par $FF
+;         - Chaque word pointe vers une définition d'entité (position/type)
+; Taille: 43 octets ($2B) - 21 words + terminateur
+; Référencé par: LevelJumpTable niveaux 0, 1, 2 (lignes 12, 14, 16)
+; ==============================================================================
+SharedEntitiesData_012:  ; $5605
+    dw $56CD, $6327, $6327, $6100, $61B8, $6272, $61B8, $6100
+    dw $6100, $6272, $6272, $61B8, $6327, $6327, $6272, $6272
+    dw $6100, $640D, $6327, $6327, $650D
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; Level3TilesetData - Tileset data niveau 3 ($5630-$5664)
+; ==============================================================================
+; Description: Table de pointeurs vers tiles graphiques pour le niveau 3
+; Format: Séquence de words (16-bit pointers), terminée par $FF
+;         - Chaque word pointe vers une tile de 8 octets en mémoire
+; Taille: 53 octets ($35) - 26 pointeurs + terminateur
+; Référencé par: LevelJumpTable niveau 3 (ligne 18)
+; ==============================================================================
+Level3TilesetData:  ; $5630
+    dw $6C81, $6C81, $6DDB, $65D3, $66A1, $67BF, $6882, $67BF
+    dw $691C, $691C, $67BF, $69E2, $65D3, $6882, $66A1, $66A1
+    dw $66A1
+DataZone_5652:  ; $5652 - Référencé par du code (lignes 10194, 10254)
+    dw $6882, $6882, $69E2, $691C, $6AA0, $6B51, $691C
+    dw $6B51, $6C1B
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; Level3MapData - Map data niveau 3 ($5665-$5693)
+; ==============================================================================
+; Description: Données de map (layout de tiles) pour le niveau 3
+; Format: Séquence de words (16-bit pointeurs vers tileset data), terminée par $FF
+;         - Chaque word pointe vers des données de tileset dans bank 1
+;         - Les pointeurs référencent des blocs de tile patterns compressés
+; Taille: 47 octets ($2F) - 23 words + terminateur
+; Référencé par: LevelJumpTable niveau 3 (ligne 18)
+; ==============================================================================
+Level3MapData:  ; $5665
+    dw $6C81, $6C81, $6DDB, $6EA6, $6F60, $6F60, $6EA6, $6EA6
+    dw $7038, $7038, $6F60, $7123, $7123, $71FC, $72BC, $71FC
+    dw $72BC, $7379, $7123, $7379, $7442, $757C, $6C1B
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; Level3EntitiesData - Entities data niveau 3 ($5694-$56CA)
+; ==============================================================================
+; Description: Table de pointeurs vers les données d'entités pour niveau 3
+; Format: Séquence de words (16-bit pointeurs vers entités), terminée par $FF
+;         - Chaque word pointe vers une définition d'entité (position/type)
+; Taille: 55 octets ($37) - 27 words + terminateur
+; Référencé par: LevelJumpTable niveau 3 (ligne 18)
+; ==============================================================================
+Level3EntitiesData:  ; $5694
+    dw $6C81, $6C81, $6DDB, $764F, $764F, $764F, $764F, $76D2
+    dw $76D2, $76D2, $764F, $764F, $764F, $76D2, $76D2, $764F
+    dw $775A, $775A, $77BD, $79E9, $791A, $791A, $79E9, $7AB2
+    dw $7B5F, $7C0E, $7D01
+    db $FF  ; Terminateur
+
+; ==============================================================================
+; ZONE MAL DÉSASSEMBLÉE: $56CB-$574A (Données compressées)
+; ==============================================================================
+; ATTENTION: Les instructions ci-dessous sont en réalité des DONNÉES compressées
+; mal interprétées comme du code par le désassembleur.
+;
+; Structure réelle:
+;   $56CB-$56CC: Padding (2 bytes: $00 $00)
+;   $56CD-$5749: CompressedTilesetData (125 bytes de données compressées)
+;
+; Référencé par:
+;   - SharedTilesetData_024 (ligne 3381) - niveaux 0, 1, 2
+;   - SharedMapData_012 (ligne 3396) - niveaux 0, 1, 2
+;   - SharedEntitiesData_012 (ligne 3411) - niveaux 0, 1, 2
+;
+; Format compression: Stream de commandes + données
+;   - $5D $FE: Commande de répétition/copie
+;   - $E2 XX: Commande avec argument
+;   - Autres: Données brutes ou arguments
+;
+; TODO: Reconstruire cette zone avec des 'db' statements corrects
+; ==============================================================================
+TilesetData_Padding:  ; $56CB
+    nop
+    nop
+CompressedTilesetData:  ; $56CD
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $e2
+    ld h, b
+    ld e, l
+    cp $72
+    add hl, sp
+    dec a
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $54
+    inc sp
+    ld [hl], $3a
+    ld a, $e2
+    ld h, c
+    ld e, l
+    cp $5b
+    inc [hl]
+
+DataZone_56e9:
+    scf
+    ld b, c
+    ld e, b
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld h, c
+    ld e, l
+    cp $54
+    dec [hl]
+    jr c, DataZone_5733
+
+    ccf
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $72
+    inc a
+    ld b, b
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $c4
+    ld h, b
+    ld e, d
+    ld h, c
+    ld e, l
+    cp $c1
+    ld h, c
+    ldh [c], a
+    ld h, e
+    ld e, l
+    cp $c1
+    ld h, c
+    pop af
+    ld e, l
+    cp $85
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, c
+    pop af
+    ld e, l
+    cp $81
+    ld h, c
+    call nz, $3163
+
+DataZone_5733:
+    ld sp, $fe5d
+    add c
+    ld h, c
+    pop af
+    ld e, l
+    cp $81
+    ld h, c
+    pop af
+    ld e, l
+    cp $88
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld e, l
+    db $FE  ; Opcode cp (partie de données compressées mal désassemblées)
+
+; ==============================================================================
+; TileGraphic_574A - Tile graphique 8x8 pixels (8 bytes)
+; ==============================================================================
+; Description: Données de tile graphique 8x8 (2 bits par pixel, 2 bytes par ligne)
+; Format: 8 bytes représentant 8 lignes de pixels (2bpp format Game Boy)
+;         Pattern: $6A $60 suivi de 6x $5A
+; Taille: 8 octets
+; Référencé par: SharedTilesetData_024 (lignes 3381-3382) - 3 occurrences
+; ==============================================================================
+TileGraphic_574A:  ; $574A
+    db $6A, $60, $5A, $5A, $5A, $5A, $5A, $5A
+
+    db $5A, $5A  ; Suite des données (2 bytes additionnels)
+    ld e, l
+    cp $61
+    ld h, c
+    pop af
+    ld e, l
+    cp $21
+    add c
+    ld h, c
+    ld h, c
+    pop af
+    ld e, l
+    cp $21
+    add d
+    ld h, c
+    ld h, c
+    ldh [c], a
+    ld h, b
+    ld e, l
+    cp $21
+    add c
+    ld h, c
+    ld h, c
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $6a
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $5d61
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $a6
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, c
+    ld e, l
+    cp $a1
+    ld h, c
+    ldh [c], a
+    ld h, e
+    ld e, l
+    cp $6a
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, e
+    ld sp, $3131
+    ld sp, $fe5d
+    dec a
+    ld h, b
+    ld e, d
+    ld e, d
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $5d31
+    cp $22
+    db $f4
+    ld h, c
+    pop af
+    ld e, l
+    cp $31
+    ld h, c
+    add c
+    ld e, a
+    call nz, PatternData_5a60
+    ld e, d
+    ld e, l
+    cp $22
+    db $f4
+    ld h, c
+    pop bc
+    ld h, c
+    pop af
+    ld e, l
+    cp $31
+    ld h, c
+    call nz, $3163
+    ld sp, $fe5d
+    ld [hl+], a
+    db $f4
+    ld h, c
+    pop af
+    ld e, l
+    cp $3d
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $5d31
+    cp $f1
+    ld e, l
+    cp $f1
+
+; ==============================================================================
+; TileGraphic_57EB - Tile graphique 8x8 pixels (8 bytes)
+; ==============================================================================
+; Description: Données de tile graphique (format pattern compressé)
+; Format: 8 bytes de données graphiques mal désassemblées comme code
+;         Pattern binaire: $5D $FE $C4 $60 $5A $5A $5D $FE
+;         Interprété comme: ld e,l / cp $c4 / ld h,b / ld e,d / ld e,d / ld e,l / (cp partiel)
+; In: Aucun (données, pas du code exécutable)
+; Out: Aucun
+; Modifie: Aucun
+; Taille: 8 octets ($57EB-$57F2)
+; Référencé par: SharedTilesetData_024 (lignes 3381-3382) - 3 occurrences
+; ==============================================================================
+TileGraphic_57EB:  ; $57EB
+    ld e, l
+    cp $c4
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, l
+    ; Note: Le byte $FE qui suit fait partie du tile, mais est aussi l'opcode de 'cp $c1'
+    cp $c1
+    ld h, c
+    pop af
+    ld e, l
+    cp $c4
+    ld h, e
+    ld sp, $5d31
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $a6
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $a1
+    ld h, c
+    pop af
+    ld e, l
+    cp $a6
+    ld h, e
+    ld sp, $3131
+    ld sp, $fe5d
+    pop af
+    ld e, l
+    cp $79
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $71
+    ld h, c
+    pop af
+    ld e, l
+    cp $79
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $fe5d
+    pop af
+    ld e, l
+    cp $4c
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $41
+    ld h, c
+    pop af
+    ld e, l
+    cp $4c
+    ld h, e
+    ld sp, $3131
+    ld sp, $5a60
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $91
+    ld h, c
+    pop af
+    ld e, l
+    cp $91
+    ld h, c
+    pop af
+    ld e, l
+    cp $97
+    ld h, e
+    ld sp, $3131
+    ld sp, $5d31
+    cp $e2
+    ld h, b
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $b5
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, c
+    ld e, l
+    cp $b5
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $e2
+    ld h, c
+    ld e, l
+    cp $b5
+    ld h, b
+    ld e, d
+    ld e, d
+    ld h, c
+    ld e, l
+    cp $b1
+    ld h, c
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $31
+    add c
+    ld [hl], l
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, c
+    ldh [c], a
+    ld h, c
+    ld e, l
+    cp $75
+    ld h, e
+    ld sp, $3131
+    ld h, c
+    ldh [c], a
+    ld h, e
+    ld e, l
+    cp $b1
+    ld h, c
+    pop af
+    ld e, l
+    cp $48
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, c
+    pop af
+    ld e, l
+    cp $32
+    db $f4
+    ld h, c
+    or c
+    ld h, c
+    pop af
+    ld e, l
+    cp $32
+    db $f4
+    ld h, c
+    adc b
+    db $f4
+    ld h, b
+    ld e, d
+    ld h, e
+    ld sp, $3131
+    ld e, l
+    cp $46
+    ld h, e
+    ld sp, $3131
+    ld sp, $f161
+    ld e, l
+    cp $82
+    db $f4
+    ld h, c
+    pop af
+    ld e, l
+    cp $91
+    ld h, c
+    pop af
+    ld e, l
+    cp $82
+    db $f4
+    ld h, c
+    pop af
+    ld e, l
+    cp $97
+    ld h, e
+    ld sp, $3131
+    ld sp, $5d31
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $51
+    db $f4
+    ld [hl], c
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $71
+    ld h, h
+    pop af
+    ld e, l
+    cp $31
+    db $f4
+    pop af
+    ld e, l
+    cp $31
+    db $f4
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $79
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $79
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld sp, $fe5d
+    or c
+    ld a, a
+    pop af
+    ld e, l
+    cp $b1
+    ld a, a
+    pop af
+    ld e, l
+    cp $b5
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $b5
+    ld h, e
+    ld sp, $3131
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $97
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $97
+    ld h, e
+    ld sp, $3131
+    ld sp, $5d31
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $91
+    ld a, a
+    pop af
+    ld e, l
+    cp $88
+    ld h, b
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, l
+    cp $88
+    ld h, e
+    ld sp, $3131
+    ld sp, $3131
+    ld e, l
+    cp $31
+    ld b, l
+    pop af
+    ld e, l
+    cp $22
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld e, l
+    cp $22
+    ld b, e
+    ld b, a
+    ldh [c], a
+    ld h, h
+    ld e, l
+    cp $22
+    ld b, h
+    ld c, b
+    ldh [c], a
+    ld h, h
+    ld e, l
+    cp $e2
+    ld h, h
+    ld e, l
+    cp $e2
+    ld h, h
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $22
+    add c
+    add d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $31
+    add d
+    or c
+    ld a, a
+    pop af
+    ld e, l
+    cp $35
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld e, l
+    cp $44
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld e, l
+    cp $35
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld e, l
+    cp $11
+    ld b, l
+    dec [hl]
+    db $fd
+    add d
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, h
+    ld c, b
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+
+PatternData_5a60:
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    adc [hl]
+    pop af
+    adc a
+    cp $00
+    inc de
+    inc h
+    adc a
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    inc de
+    inc h
+    adc [hl]
+    cp $00
+    ld hl, $8e56
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    ld hl, $8f56
+    cp $00
+    db $fd
+    ld a, a
+    cp $a1
+    ld e, a
+    pop af
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $05
+    db $fd
+    ld a, a
+    pop af
+    ld a, a
+    cp $05
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $05
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $05
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    and c
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $05
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    add d
+    ld [hl], c
+    add d
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    ld a, a
+    sub c
+    add b
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    sub a
+    db $fd
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    and [hl]
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    sub a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    sub a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $08
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+
+ProcessLevelData_5b49:
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    sub a
+    add d
+    add d
+    add d
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    or l
+    add d
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    or l
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $06
+    ld a, a
+    db $f4
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    sub a
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $05
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    sub a
+    ld [hl], l
+    ld a, b
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $42
+    add hl, sp
+    dec a
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $24
+    inc sp
+    ld [hl], $3a
+    ld a, $e2
+    ld h, l
+    ld e, l
+    cp $2e
+    inc [hl]
+    scf
+    ld b, c
+    ld e, b
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld h, [hl]
+    ld e, l
+    cp $24
+    dec [hl]
+    jr c, DataZone_5c0c
+
+    ccf
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $42
+    inc a
+    ld b, b
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $21
+    ld b, l
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $12
+    ld b, d
+    ld b, [hl]
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $12
+    ld b, e
+    ld b, a
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $12
+    ld b, h
+    ld c, b
+    or l
+    ld h, a
+    ld l, c
+    ld h, a
+
+DataZone_5c0c:
+    ld l, c
+    ld e, l
+    cp $b5
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld e, l
+    cp $b2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $b2
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $b2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $b2
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $b2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $31
+    ld b, l
+    or d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $22
+    ld b, d
+    ld b, [hl]
+    or d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $22
+    ld b, e
+    ld b, a
+    or d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $22
+    ld b, h
+    ld c, b
+    pop af
+    ld e, l
+    cp $b1
+    ld a, a
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+
+CheckResult_5c5b:
+    cp $b1
+    ld a, a
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $b1
+    ld a, a
+    pop af
+    ld e, l
+    cp $11
+    ld b, l
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    or d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    or d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    or d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    ld h, c
+    add c
+    or d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $02
+    ld b, h
+    ld c, b
+    or d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $b2
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $84
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $84
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $a2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $61
+    add c
+    and d
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $a2
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $11
+    db $f4
+    ld h, [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $11
+    db $f4
+    ld h, [hl]
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $a2
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $e2
+    ld a, a
+    ld e, l
+    cp $e2
+    ld a, a
+    ld e, l
+    cp $42
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $42
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $82
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $84
+    ld l, b
+    ld l, d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $a2
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $a2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $a2
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $a2
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $61
+    add c
+    and d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $11
+    ld b, l
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, h
+    ld c, b
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $21
+    ld b, l
+    pop af
+    ld e, l
+    cp $12
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld e, l
+    cp $12
+    ld b, e
+    ld b, a
+    pop af
+    ld e, l
+    cp $12
+    ld b, h
+    ld c, b
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $d3
+    ld [hl], b
+    ld [hl], d
+    ld e, l
+    cp $d3
+    ld [hl], c
+    ld [hl], e
+    ld e, l
+    cp $08
+    db $fd
+    db $f4
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $11
+    ld b, l
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    pop bc
+    ld a, a
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    pop bc
+    ld a, a
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $02
+    ld b, h
+    ld c, b
+    and e
+    ld h, a
+    ld l, c
+    ld a, a
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $85
+    ld h, a
+    ld l, c
+    ld l, b
+    ld l, d
+    ld a, a
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $82
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    add d
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld h, d
+    ld e, l
+    cp $00
+    ld l, b
+    ld l, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld l, b
+    ld l, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld a, a
+    ld e, d
+    ld e, l
+    cp $00
+    ld h, a
+    ld l, c
+    ld sp, $3131
+    ld sp, $3131
+    ld h, a
+    ld l, c
+    ld sp, $3131
+    ld a, a
+    ld sp, $fe5d
+    ld [bc], a
+    ld l, b
+    ld l, d
+    add d
+    ld l, b
+    ld l, d
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    add h
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    add h
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add h
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add h
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add d
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add d
+    ld l, b
+    ld l, d
+    jp nz, Bank1EndPadding
+
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add d
+    ld h, a
+    ld l, c
+    jp nz, Bank1EndPadding
+
+    pop af
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add d
+    ld l, b
+    ld l, d
+    jp nz, Bank1EndPadding
+
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add d
+    ld h, a
+    ld l, c
+    jp nz, Bank1EndPadding
+
+    pop af
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add d
+    ld l, b
+    ld l, d
+    jp nz, Bank1EndPadding
+
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add [hl]
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    db $f4
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add [hl]
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    db $f4
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add c
+    add d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add c
+    add d
+    or c
+    add b
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add l
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld a, a
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add d
+    add l
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld a, a
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld h, a
+    ld l, c
+    ld b, c
+    add d
+    add d
+    ld h, a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    ld b, c
+    add b
+    add d
+    ld l, b
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $00
+    ld h, a
+    ld l, c
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, a
+    ld l, c
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld a, a
+    ld e, l
+    cp $00
+    ld l, b
+    ld l, d
+    ld sp, $3131
+    ld sp, $3131
+    ld l, b
+    ld l, d
+    ld sp, $3131
+    ld sp, $5d7f
+    cp $02
+    ld h, a
+    ld l, c
+    add c
+    add d
+    or c
+    ld a, a
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $02
+    ld l, b
+    ld l, d
+    add c
+    add d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $d1
+    ld a, a
+    pop af
+    ld e, l
+    cp $d1
+    ld a, a
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $21
+    ld b, l
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $12
+    ld b, d
+    ld b, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $12
+    ld b, e
+    ld b, a
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $12
+    ld b, d
+    ld b, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $12
+    ld b, e
+    ld b, a
+    ldh [c], a
+    ld h, l
+    ld e, l
+    cp $12
+    ld b, h
+    ld c, b
+    ldh [c], a
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $e2
+    ld h, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld e, l
+    cp $d3
+    ld h, a
+    ld l, c
+    ld e, l
+    cp $d3
+    ld l, b
+    ld l, d
+    ld e, l
+    cp $b5
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld e, l
+    cp $b5
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld e, l
+    cp $b5
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld e, l
+    cp $b5
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld e, l
+    cp $c1
+    ld a, a
+    pop af
+    ld e, l
+    cp $c1
+    ld a, a
+    pop af
+    ld e, l
+    cp $11
+    ld b, l
+    add c
+    add c
+    pop bc
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    ld b, c
+    add c
+    add c
+    add c
+    pop bc
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    add c
+    add c
+    pop bc
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, d
+    ld b, [hl]
+    pop bc
+    ld a, a
+    pop af
+    ld e, l
+    cp $02
+    ld b, e
+    ld b, a
+    or d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld b, h
+    ld c, b
+    or d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $97
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld e, l
+    cp $97
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld e, l
+    cp $68
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $68
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $f1
+    ld e, l
+    cp $86
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld h, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $86
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld l, b
+    ld l, d
+    pop af
+    ld e, l
+    cp $00
+    db $fd
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $e2
+    db $f4
+    ld a, a
+    cp $08
+    db $fd
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    or c
+    ld e, a
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, c
+    db $f4
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, c
+    db $f4
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, c
+    db $f4
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, c
+    db $f4
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    pop af
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], h
+    ld [hl], a
+    add b
+    ld h, d
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], l
+    ld a, b
+    add d
+    ld [hl], c
+    ld a, a
+    pop af
+    ld a, a
+    cp $04
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    or c
+    ld e, a
+    ldh [c], a
+    db $f4
+    ld a, a
+    cp $00
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    and c
+    ld c, c
+    call nz, CheckResult_5c5b
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld [hl], c
+    ld d, a
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    pop bc
+    ld c, c
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    sub c
+    ld d, a
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, c
+    ld d, a
+    or l
+    ld c, c
+    ld c, h
+    ld d, b
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    add c
+    ld d, a
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    db $C4, $4F, $53  ; call nz, $534f (data within SharedMapData_467, not code)
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, [hl]
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, c
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld [hl], c
+    ld d, a
+    or c
+    ld c, c
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    and c
+    ld d, a
+    call nz, CheckResult_5c5b
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    call nz, $8282
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    call nz, $8280
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, d
+    db $fd
+    add d
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, d
+    add b
+    add d
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    call nz, $504c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    sub c
+    ld d, a
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    or l
+    ld c, c
+    ld c, a
+    ld d, e
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    sub c
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    sub c
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    sub c
+    ld d, a
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld [hl], c
+    ld l, h
+    or c
+    ld c, c
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld [hl], c
+    ld l, l
+    call nz, CheckResult_5c5b
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $09
+    ld e, l
+    ld c, d
+    ld l, h
+    ld l, h
+    add d
+    add d
+    add d
+    add d
+    add d
+    and [hl]
+    add d
+    add d
+    add d
+    add d
+    ld l, h
+    ld l, [hl]
+    cp $09
+    ld e, l
+    ld c, d
+    ld l, l
+    ld l, l
+    add d
+    add d
+    add d
+    add d
+    add d
+    and [hl]
+    add d
+    add d
+    add d
+    add d
+    ld l, l
+    ld l, [hl]
+    cp $09
+    ld e, l
+    ld c, d
+    ld l, h
+    ld l, h
+    add d
+    add d
+    add d
+    add d
+    add d
+    and [hl]
+    add b
+    add d
+    add d
+    add d
+    ld l, h
+    ld l, [hl]
+    cp $04
+    ld e, l
+    ld c, d
+    ld l, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    and c
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    and c
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    ld d, c
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    ld d, c
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $04
+    ld e, l
+    ld c, d
+    ld l, h
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $07
+    ld e, l
+    ld c, d
+    ld l, l
+    ld l, l
+    add d
+    add d
+    add d
+    adc b
+    add d
+    add d
+    add d
+    add d
+    add d
+    add d
+    ld l, l
+    ld l, [hl]
+    cp $07
+    ld e, l
+    ld c, d
+    ld l, h
+    ld l, h
+    add d
+    add d
+    add d
+    adc b
+    add d
+    add d
+    add d
+    add d
+    add d
+    add d
+    ld l, h
+    ld l, [hl]
+    cp $07
+    ld e, l
+    ld c, d
+    ld l, l
+    ld l, l
+    add d
+    add d
+    add d
+    adc b
+    add b
+    add d
+    add d
+    add d
+    add d
+    add d
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld h, c
+    db $f4
+    call nz, $504c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, c
+    db $f4
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, [hl]
+    db $fd
+    db $f4
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    db $C4, $4F, $53  ; call nz, $534f (data within SharedMapData_467, not code)
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, l
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ld [hl], c
+    db $f4
+    call nz, $504c
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ld [hl], c
+    db $f4
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, l
+    db $fd
+    db $f4
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    db $C4, $4F, $53  ; call nz, $534f (data within SharedMapData_467, not code)
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, [hl]
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    call nz, $504c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    ld h, d
+    db $fd
+    db $f4
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, d
+    db $fd
+    db $f4
+    add d
+    db $fd
+    db $f4
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    db $C4, $4F, $53  ; call nz, $534f (data within SharedMapData_467, not code)
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, [hl]
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    call nz, $504c
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, h
+    db $fd
+    db $f4
+    or l
+    ld d, h
+    ld c, l
+    ld d, c
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    sub c
+    db $f4
+    or l
+    ld d, l
+    ld c, [hl]
+    ld d, d
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld b, c
+    db $f4
+    sub c
+    db $f4
+    db $C4, $4F, $53  ; call nz, $534f (data within SharedMapData_467, not code)
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld c, d
+    ld e, [hl]
+    ld d, h
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $0d
+    ld e, l
+    ld l, h
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, h
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld e, l
+    ld l, l
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld l, h
+    ld l, h
+    db $d3
+    ld l, h
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld l, l
+    ld l, l
+    db $d3
+    ld l, l
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld l, h
+    ld l, h
+    pop af
+    ld l, [hl]
+    cp $03
+    ld e, l
+    ld l, l
+    ld l, l
+    pop af
+    ld l, [hl]
+    cp $00
+    ld e, l
+    ld l, h
+    ld l, h
+    ld l, h
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    add d
+    add d
+    ld l, [hl]
+    cp $04
+    ld e, l
+    ld l, l
+    ld l, l
+    ld l, l
+    db $d3
+    add d
+    add d
+    ld l, [hl]
+    cp $04
+    ld e, l
+    ld l, h
+    ld l, h
+    ld l, h
+    db $d3
+    add d
+    add d
+    ld l, [hl]
+    cp $04
+    ld e, l
+    ld l, l
+    ld l, l
+    ld l, l
+    sub a
+    pop hl
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, [hl]
+    cp $00
+    ld e, l
+    ld l, h
+    ld l, h
+    ld l, h
+    ld a, a
+    ld a, a
+    db $ec
+    db $ec
+    db $ec
+    db $ec
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, [hl]
+    cp $06
+    ld e, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld a, a
+    ld a, a
+    and [hl]
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, [hl]
+    cp $02
+    ld sp, $e280
+    ld h, l
+    ld h, [hl]
+    cp $02
+    ld [hl-], a
+    add d
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $b582
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    add d
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $3282
+    inc [hl]
+    dec [hl]
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    nop
+    ld [hl-], a
+    add d
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $5282
+    ld [hl], $37
+    call nz, $3938
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    add d
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $9182
+    add c
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    sub c
+    add c
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld sp, $917f
+    add c
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $4c7f
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    ld h, d
+    ld [hl], $37
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $c47f
+    ld [hl], b
+    ld [hl], d
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    call nz, ProcessValidation_7371
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $617f
+    add b
+    and [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    ld h, c
+    add d
+    and [hl]
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $b57f
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld a, a
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, e
+    ld h, h
+    cp $04
+    ld sp, $7f7f
+    ld a, a
+    ld d, d
+    inc [hl]
+    dec [hl]
+    ldh [c], a
+    ld h, l
+    ld h, [hl]
+    cp $00
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, c
+    add sp, -$02
+    inc b
+    ld sp, $7f7f
+    ld a, a
+    ld d, c
+    scf
+    ldh [c], a
+    ld h, e
+    ld h, h
+    cp $04
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    call nz, $7270
+    ld [hl], d
+    ld [hl], d
+    cp $04
+    ld sp, $7f7f
+    ld a, a
+    call nz, ProcessValidation_7371
+    ld [hl], e
+    ld [hl], e
+    cp $04
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ldh [c], a
+    ld h, l
+    ld h, [hl]
+    cp $08
+    ld sp, $7f7f
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    inc c
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    inc c
+    ld sp, $7f7f
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [$7f32], sp
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [$7f31], sp
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    inc c
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    inc c
+    ld sp, $7f7f
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    dec bc
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    add d
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    dec bc
+    ld sp, $7f7f
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    add d
+    ldh [c], a
+    ld h, e
+    ld h, h
+    cp $0b
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    add d
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $0b
+    ld sp, $7f7f
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    add d
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $04
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld d, c
+    dec [hl]
+    and c
+    add b
+    ldh [c], a
+    ld h, l
+    ld h, [hl]
+    cp $00
+    ld sp, $7f7f
+    ld a, a
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, c
+    add sp, -$02
+    inc b
+    ld [hl-], a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld d, d
+    ld [hl], $37
+    ldh [c], a
+    ld h, e
+    ld h, h
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $e249
+    ld h, l
+    ld h, [hl]
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld sp, $7235
+    inc [hl]
+    dec [hl]
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    nop
+    ld sp, $3349
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ld d, c
+    scf
+    call nz, $3938
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $a149
+    add c
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    and c
+    add c
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, wStackWRAM
+    dec [hl]
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    dec a
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, e
+    ld h, h
+    cp $02
+    ld sp, $6249
+    ld [hl], $37
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld sp, $e249
+    ld h, l
+    ld h, [hl]
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $a149
+    add c
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    and c
+    add c
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $4149
+    dec [hl]
+    call nz, $3938
+    ld h, b
+    add sp, -$02
+    nop
+    ld [hl-], a
+    ld c, c
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, b
+    add sp, -$02
+    inc b
+    ld sp, $3649
+    scf
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld h, e
+    ld h, h
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ld sp, $b246
+    inc [hl]
+    dec [hl]
+    cp $02
+    ld sp, $3149
+    ld b, a
+    or l
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld sp, $e148
+    scf
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $4149
+    dec [hl]
+    add d
+    inc [hl]
+    dec [hl]
+    cp $00
+    ld [hl-], a
+    ld c, c
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    cp $02
+    ld sp, $6149
+    scf
+    sub d
+    ld [hl], $37
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and d
+    ccf
+    ld b, d
+    cp $02
+    ld sp, $9149
+    dec a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    sub e
+    ld a, $40
+    ld b, e
+    cp $02
+    ld sp, $9349
+    ld b, [hl]
+    ld b, c
+    ld b, h
+    cp $02
+    ld [hl-], a
+    ld c, c
+    sub c
+    ld b, a
+    cp $02
+    ld sp, $9149
+    ld c, b
+    cp $02
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    or d
+    inc [hl]
+    dec [hl]
+    cp $02
+    ld sp, $6a49
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    scf
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $e249
+    ld h, l
+    ld h, [hl]
+    cp $02
+    ld [hl-], a
+    ld c, c
+    call nz, $3938
+    ld h, c
+    add sp, -$02
+    inc b
+    ld sp, $3449
+    dec [hl]
+    ld h, c
+    dec [hl]
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    nop
+    ld [hl-], a
+    ld c, c
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $3149
+    scf
+    ldh [c], a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $9149
+    add d
+    db $d3
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ld d, c
+    add c
+    sub c
+    add d
+    db $d3
+    ld a, a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $9149
+    add d
+    db $d3
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    db $d3
+    ld a, a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $7949
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    add d
+    ld [hl], $37
+    db $d3
+    ld a, a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $5149
+    dec [hl]
+    db $d3
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    dec a
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld a, a
+    ld h, c
+    add sp, -$02
+    ld [bc], a
+    ld sp, $4149
+    scf
+    or l
+    jr c, CheckStateValue_69ff
+
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    db $d3
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld sp, $d349
+    ld a, a
+    ld h, b
+    add sp, -$02
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    db $d3
+    ld a, a
+    ld h, e
+    ld h, h
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $9249
+    ccf
+    ld b, d
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld [hl], d
+    ld b, [hl]
+    dec a
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+
+ValidatePlayerState_69fd:
+    cp $02
+
+CheckStateValue_69ff:
+    ld sp, $7449
+    ld b, a
+    ld a, $40
+    ld b, e
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld [hl], c
+    ld c, b
+    sub d
+    ld b, c
+    ld b, h
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld sp, $8249
+    ccf
+    ld b, d
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld [hl], c
+    dec a
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld sp, $6449
+    ld b, [hl]
+    ld a, $45
+    ld b, e
+    call nz, $7270
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld h, c
+    ld b, a
+    call nz, ProcessValidation_7371
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld sp, $6149
+    ld c, b
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $a649
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $a649
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    adc b
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $8849
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $e249
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    cp $02
+    ld sp, $fe49
+    inc bc
+    ld [hl-], a
+    ld c, c
+    ld e, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    cp $06
+    ld sp, $7f49
+    ld a, a
+    ld a, a
+    ld a, a
+    and l
+    db $fd
+    ld a, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld d, c
+    ld a, a
+    and c
+    ld a, a
+    cp $06
+    ld sp, $f449
+    db $f4
+    db $f4
+    ld a, a
+    and c
+    ld a, a
+    cp $06
+    ld [hl-], a
+    ld c, c
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    and c
+    ld a, a
+    cp $06
+    ld sp, $f449
+    db $f4
+    db $f4
+    ld a, a
+    and c
+    ld a, a
+    cp $06
+    ld [hl-], a
+    ld c, c
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    and c
+    ld a, a
+    cp $06
+    ld sp, $f449
+    db $f4
+    db $f4
+    ld a, a
+
+CheckPlayerAction_6afd:
+    and c
+    ld a, a
+    jp nc, PaddingAlign_423f
+
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and c
+    ld a, a
+    pop bc
+    dec a
+    cp $02
+    ld sp, $c349
+    ld a, $40
+    ld b, e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld a, a
+    jp PaddingTrap_4146
+
+
+    ld b, h
+    cp $02
+    ld sp, $8149
+    ld a, a
+    pop bc
+    ld b, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld a, a
+    or d
+    ccf
+    ld c, b
+    cp $02
+    ld sp, $8149
+    ld a, a
+    and c
+    dec a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld a, a
+    and h
+    ld a, $45
+    ld b, h
+    ld b, [hl]
+    cp $02
+    ld sp, $8149
+    ld a, a
+    pop de
+    ld b, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld a, a
+    pop de
+    ld c, b
+    cp $02
+    ld sp, $fe49
+    ld [bc], a
+    ld [hl-], a
+    ld c, c
+    ld b, c
+    dec [hl]
+    add d
+    inc [hl]
+    dec [hl]
+    cp $00
+    ld sp, $3349
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    cp $04
+    ld [hl-], a
+    ld c, c
+    ld [hl], $37
+    ld [hl], c
+    scf
+    cp $02
+    ld sp, $e249
+    db $fd
+    ld a, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    sub a
+    ld a, [hl-]
+    inc sp
+    inc sp
+    inc sp
+    inc sp
+    ld a, a
+    ld a, a
+    cp $02
+    ld sp, $b149
+    scf
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld sp, $9249
+    ccf
+    ld b, d
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    dec a
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld sp, $8349
+    ld a, $40
+    ld b, e
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add e
+    ld b, [hl]
+    ld b, c
+    ld b, h
+    ldh [c], a
+    ld [hl], b
+    ld [hl], d
+    cp $02
+    ld sp, $8149
+    ld b, a
+    ldh [c], a
+    ld [hl], c
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld c, b
+    call nz, $7270
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $c449
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    sub a
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $9749
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld l, d
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $02
+    ld sp, $6a49
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $02
+    ld [hl-], a
+    ld c, c
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    ld a, a
+    pop af
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    ld a, a
+    pop af
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    ld a, a
+    pop af
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    ld a, a
+    pop af
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    ld a, a
+    pop af
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    adc [hl]
+    pop af
+    adc a
+    cp $00
+    inc de
+    inc h
+    adc a
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    inc de
+    inc h
+    adc [hl]
+    cp $00
+    ld hl, $8e51
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    ld hl, $8f51
+    cp $00
+    db $fd
+    ld a, a
+    cp $00
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    cp $00
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld [hl], l
+    ld a, b
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    cp $00
+    db $fd
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $01
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $fd
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    add l
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $0d
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    halt
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    halt
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $767f
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $767f
+    db $fd
+    ld a, a
+    pop af
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    ld [hl], c
+    ld a, a
+    pop af
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], l
+    ld a, b
+    ld a, a
+    or c
+    ld a, a
+    pop af
+    ld a, a
+    cp $00
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $02
+    ld sp, $c249
+    ccf
+    ld b, d
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld b, [hl]
+    or c
+    dec a
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $8149
+    ld b, a
+    or l
+    ld a, $40
+    ld [hl], b
+    ld [hl], d
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add e
+    ld c, b
+    ccf
+    ld b, d
+    call nz, $7141
+    ld [hl], e
+    ld h, a
+    cp $02
+    ld sp, $8149
+    dec a
+    pop bc
+    ld c, d
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add d
+    ld a, $45
+    or c
+    dec a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $b249
+    ld a, $45
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $f149
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    pop af
+    ld e, l
+    cp $02
+    ld sp, wStackWRAM
+    ld l, b
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    pop bc
+    ld l, b
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $c449
+    ld l, b
+    ld c, d
+    ld b, d
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    or d
+    ccf
+    ld b, d
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $a149
+    dec a
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and h
+    ld a, $45
+    ld b, e
+    ld c, d
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $a149
+    ld l, b
+    pop bc
+    dec a
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and c
+    ld l, b
+    jp nz, DataPadding_453e
+
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $a149
+    ld l, b
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    and c
+    ld l, b
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $e249
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld sp, $8146
+    ld h, a
+    call nz, ValidateOrTransformValue
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $3149
+    ld b, a
+    add c
+    ld h, a
+    or c
+    dec a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld sp, $8148
+    ld h, a
+    or l
+    ld a, $40
+    ld b, d
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $8149
+    ld h, a
+    or l
+    ld b, [hl]
+    ld b, c
+    ld b, e
+    ld h, a
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld h, a
+    or c
+    ld b, a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $b149
+    ld c, b
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    db $d3
+    ld c, l
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $b549
+    ld h, a
+    ld c, e
+    ld c, [hl]
+    ld h, a
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld [hl], c
+    add c
+    or l
+    ld h, a
+    ld c, h
+    ld c, a
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $7149
+    add c
+    or c
+    ld h, a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    or c
+    ld h, a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $a249
+    ccf
+    ld b, d
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add d
+    ld h, a
+    dec a
+    db $d3
+    ccf
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $8549
+    ld h, a
+    ld a, $45
+    ld b, e
+    dec a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    add c
+    ld h, a
+    call nz, HandlePaletteLookup
+    ld h, a
+    ld h, a
+    cp $02
+    ld sp, $5149
+    ld b, [hl]
+    add c
+    ld h, a
+    or l
+    ccf
+    ld b, d
+    ld b, c
+    ld h, a
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld c, c
+    ld d, c
+    ld b, a
+    and c
+    dec a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $5149
+    ld c, b
+    and d
+    ld a, $45
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld c, c
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $a667
+    db $fd
+    ld h, a
+    cp $08
+    ld [hl-], a
+    ld h, a
+    ld h, a
+    ld h, a
+    add d
+    add d
+    add d
+    add d
+    and [hl]
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $7167
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld [hl], c
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld sp, $7267
+    db $fd
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    halt
+    db $f4
+    ld h, a
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    pop af
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add l
+    ld h, a
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    pop af
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add b
+    ld [hl], d
+    db $f4
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add c
+    ld h, a
+    db $d3
+    ld [hl], b
+    ld [hl], d
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    ld [hl], d
+    db $f4
+    ld h, a
+    db $d3
+    ld [hl], c
+    ld [hl], e
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add c
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add b
+    halt
+    db $f4
+    ld h, a
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    pop af
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add l
+    ld h, a
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    pop af
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    ld [hl], d
+    db $f4
+    ld h, a
+    pop af
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add c
+    ld h, a
+    db $d3
+    ld [hl], b
+    ld l, l
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    ld [hl], d
+    db $f4
+    ld h, a
+    db $d3
+    ld [hl], c
+    ld l, [hl]
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    add c
+    ld h, a
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    ld [hl], l
+    ld h, a
+    ld h, a
+    ld l, l
+    ld l, l
+    ld l, e
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld sp, $4167
+    add c
+    ld [hl], l
+    ld h, a
+    ld h, a
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $02
+    ld [hl-], a
+    ld h, a
+    ld b, c
+    add d
+    ldh [c], a
+    db $fd
+    ld h, a
+    cp $05
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld a, a
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    db $d3
+    ld l, a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    call nz, $7270
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    call nz, ProcessValidation_7371
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    sub a
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld l, c
+    ld l, d
+    cp $06
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, a
+    sub a
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    db $d3
+    ld l, a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld a, a
+    cp $05
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $04
+    ld sp, $696a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld e, l
+    cp $04
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $04
+    ld sp, $696a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $04
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    and c
+    add c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $04
+    ld sp, $696a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $04
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $04
+    ld sp, $696a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $04
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $04
+    ld sp, $696a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $04
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld a, a
+    cp $05
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop de
+    ld l, a
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop de
+    ld a, a
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $06
+
+ValidationData_7355:
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, a
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+
+ProcessValidation_7371:
+    ld [hl-], a
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    ld [hl], c
+    ld e, a
+    call nz, ValidatePlayerState_69fd
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    call nz, CheckPlayerAction_6afd
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld [hl], c
+    db $f4
+    or l
+    db $fd
+    ld l, c
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld [hl], c
+    db $f4
+    or l
+    db $fd
+
+DataLoopHelper2:
+    ld l, d
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    call nz, ValidatePlayerState_69fd
+    cp $06
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, a
+    call nz, CheckPlayerAction_6afd
+    cp $05
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    sub a
+    db $fd
+    ld l, c
+    cp $05
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    sub a
+    db $fd
+    ld l, d
+    cp $05
+    ld [hl-], a
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    pop af
+    ld e, l
+    cp $0b
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    db $fd
+    ld l, c
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    db $fd
+    ld l, d
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld a, a
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    pop af
+    ld e, l
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+
+ConfigData_7555:
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld e, l
+    cp $0b
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $0b
+    ld [hl-], a
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $0b
+    ld sp, $697f
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ld a, a
+    ld l, c
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $0b
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $0c
+    ld sp, $696a
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, l
+    ld l, e
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $0c
+    ld [hl-], a
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, d
+    ld l, c
+    ld l, [hl]
+    ld l, h
+    ldh [c], a
+    ld l, c
+    ld l, d
+    cp $0b
+    ld sp, $7f6a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ld l, d
+    ld a, a
+    ldh [c], a
+    ld l, d
+    ld l, c
+    cp $02
+    ld [hl-], a
+    ld l, c
+    ldh [c], a
+    ld a, a
+    ld l, d
+    cp $02
+    ld sp, $f16a
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $416a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld l, c
+    ld b, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $416a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld l, c
+    ld b, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $416a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld l, c
+    ld b, c
+    ld l, d
+    pop af
+    ld e, l
+    cp $02
+    ld sp, $416a
+    ld l, c
+    pop af
+    ld e, l
+    cp $02
+    ld [hl-], a
+    ld l, c
+    ld c, h
+    ld l, d
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $02
+    ld sp, $fe6a
+    dec bc
+    ld [hl-], a
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    cp $0b
+    ld sp, $6a6a
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    pop af
+    ld l, c
+    cp $01
+    ld [hl-], a
+    pop af
+    ld l, d
+    cp $02
+    ld d, d
+    ld d, [hl]
+    pop af
+    ld d, d
+    cp $02
+    ld d, e
+    ld d, a
+    pop af
+    ld d, e
+    cp $03
+    ld d, h
+    ld d, d
+    ld d, [hl]
+    db $d3
+    ld d, d
+    ld d, [hl]
+    ld d, h
+    cp $03
+    ld d, l
+    ld d, e
+    ld d, a
+    db $d3
+    ld d, e
+    ld d, a
+    ld d, l
+    cp $12
+    ld d, l
+    ld e, c
+    ld b, d
+    ld d, d
+    ld d, [hl]
+    jp nc, $5854
+
+    cp $02
+    ld d, d
+    ld d, [hl]
+    ld b, d
+    ld d, l
+    ld e, c
+    db $d3
+    ld d, l
+    ld e, c
+    ld d, d
+    cp $02
+    ld d, e
+    ld d, a
+    pop af
+    ld d, e
+    cp $02
+    ld d, h
+    ld e, b
+    pop af
+    ld d, h
+    cp $02
+    ld d, l
+    ld e, c
+    ldh [c], a
+    ld d, d
+    ld d, l
+    cp $e2
+    ld d, e
+    ld d, a
+    cp $12
+    ld d, d
+    ld d, [hl]
+    ldh [c], a
+    ld d, l
+    ld e, c
+    cp $12
+    ld d, h
+    ld e, b
+    cp $03
+    ld d, d
+    ld d, l
+    ld e, c
+    jp nz, DataZone_5652
+
+    cp $02
+    ld d, e
+    ld d, a
+    jp nz, $5955
+
+    cp $02
+    ld d, h
+    ld e, b
+    ld sp, $f180
+    ld d, d
+    cp $02
+    ld d, l
+    ld e, c
+    pop af
+    ld d, e
+    cp $12
+    ld d, d
+    ld d, [hl]
+    pop af
+    ld d, h
+    cp $12
+    ld d, h
+    ld e, b
+    pop af
+    ld d, l
+    cp $12
+    ld d, l
+    ld e, c
+    cp $fe
+    cp $12
+    ld d, d
+    ld d, [hl]
+    cp $12
+    ld d, h
+    ld d, a
+    add d
+    add b
+    add d
+    pop af
+    ld d, d
+    cp $03
+    ld d, d
+    ld d, l
+    ld e, c
+    ld b, c
+    db $f4
+    pop af
+    ld d, h
+    cp $02
+    ld d, e
+    ld d, a
+    pop af
+    ld d, l
+    cp $02
+    ld d, h
+    ld e, b
+    ld b, c
+    db $f4
+    jp nz, DataZone_5652
+
+    cp $02
+    ld d, l
+    ld e, c
+    call nz, $5955
+    ld d, d
+    ld d, [hl]
+    cp $e2
+    ld d, e
+    ld d, a
+    cp $12
+    ld d, d
+    ld d, [hl]
+    ldh [c], a
+    ld d, h
+    ld e, b
+    cp $12
+    ld d, l
+    ld e, c
+    or c
+    db $f4
+    ldh [c], a
+    ld d, l
+    ld e, c
+    cp $32
+    add d
+    add b
+    cp $b1
+    db $f4
+    ldh [c], a
+    ld d, d
+    ld d, [hl]
+    cp $02
+    ld d, d
+    ld d, [hl]
+    ldh [c], a
+    ld d, e
+    ld d, a
+    cp $02
+    ld d, e
+    ld d, a
+    ldh [c], a
+    ld d, l
+    ld d, d
+    cp $03
+    ld d, l
+    ld d, d
+    ld d, [hl]
+    pop af
+    ld d, e
+    cp $12
+    ld d, e
+    ld d, a
+    or d
+    db $fd
+    add d
+    pop af
+    ld d, h
+    cp $12
+    ld d, h
+    ld e, b
+    ld b, d
+    ld d, d
+    ld d, [hl]
+    pop af
+    ld d, l
+    cp $12
+    ld d, l
+    ld e, c
+    ld b, d
+    ld d, l
+    ld e, c
+    ldh [c], a
+    ld d, d
+    ld d, [hl]
+    cp $81
+    db $f4
+    ldh [c], a
+    ld d, h
+    ld d, a
+    cp $e2
+    ld d, l
+    ld e, c
+    cp $05
+    db $fd
+    ld l, a
+    or l
+    db $fd
+    ld l, a
+    cp $b1
+    ld l, a
+    cp $02
+    ld d, d
+    ld d, [hl]
+    or c
+    ld l, a
+    cp $02
+    ld d, e
+    ld d, a
+    or c
+    ld l, a
+    pop af
+    ld d, d
+    cp $03
+    ld d, h
+    ld e, b
+    ld d, [hl]
+    or c
+    ld l, a
+    pop af
+    ld d, e
+    cp $03
+    ld d, l
+    ld e, c
+    ld d, a
+    or c
+    ld l, a
+    pop af
+    ld d, h
+    cp $12
+    ld d, l
+    ld e, c
+    ld h, [hl]
+    db $fd
+    ld l, a
+    pop af
+    ld d, l
+    cp $fe
+    cp $fe
+    ldh [c], a
+    ld d, d
+    ld d, [hl]
+    cp $02
+    ld d, d
+    ld d, [hl]
+    ldh [c], a
+    ld d, l
+    ld e, c
+    cp $02
+    ld d, e
+    ld d, a
+    cp $08
+    db $fd
+    ld l, a
+    cp $02
+    ld d, l
+    ld e, c
+    cp $e2
+    ld d, d
+    ld d, [hl]
+    cp $d3
+    ld d, d
+    ld d, e
+    ld d, a
+    cp $d3
+    ld d, e
+    ld d, l
+    ld e, c
+    cp $d2
+    ld d, h
+    ld e, b
+    cp $d2
+    ld d, l
+    ld e, c
+    cp $07
+    db $fd
+    ld l, a
+    and [hl]
+    db $fd
+    ld l, a
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld l, a
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    db $f4
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    db $d3
+    db $f4
+    ld l, a
+    dec sp
+    cp $00
+    dec sp
+    ld e, e
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    add d
+    add d
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld d, [hl]
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld d, a
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld e, c
+    ld b, c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    sub c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $09
+    db $fd
+    ld l, a
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    add c
+    ld l, a
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    add h
+    db $fd
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    inc sp
+    db $fd
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    ld sp, $516f
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    ld sp, $5b6f
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    ld sp, $e26f
+    ld e, h
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    dec a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    ld l, a
+    ld e, e
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $0c
+    db $fd
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    add c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld d, c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld d, [hl]
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld d, a
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld e, b
+    sub c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $03
+    dec sp
+    ld e, e
+    ld e, c
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld d, d
+    ld d, d
+    ld d, [hl]
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld d, d
+    ld d, e
+    ld d, a
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld sp, $525a
+    ld d, l
+    ld e, c
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld [hl], c
+    ld e, d
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    or c
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    and d
+    ld e, [hl]
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    sub e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld sp, $835a
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld [hl], e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld h, e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld d, e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    ld b, e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $02
+    dec sp
+    ld e, e
+    inc sp
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $05
+    dec sp
+    ld e, e
+    ld e, [hl]
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, a
+    dec sp
+    cp $04
+    dec sp
+    ld e, e
+    ld l, a
+    ld l, a
+    ldh [c], a
+    db $fd
+    ld l, a
+    cp $03
+    dec sp
+    ld l, a
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    db $fd
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $01
+    ld l, a
+    add c
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $01
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $06
+    ld l, a
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    or l
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, a
+    cp $00
+    ld l, a
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    add b
+    add d
+    add d
+    add d
+    add d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ld h, h
+    db $fd
+    db $dd
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ld c, h
+    add b
+    add d
+    sbc $de
+    sbc $de
+    add d
+    add d
+    add d
+    add d
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ld d, c
+    ld l, a
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    and c
+    ld l, a
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $0c
+    ld l, a
+    ld l, c
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $0c
+    ld l, a
+    ld l, d
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ld [hl], e
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ld [hl], e
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ld [hl], e
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ld [hl], e
+
+DataShim_7c52:
+    db $fd
+    db $f4
+    ldh [c], a
+
+LevelData_7c55:
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ld [hl], e
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ld [hl], e
+    db $fd
+    db $f4
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, c
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    and [hl]
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, d
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    and [hl]
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, c
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, e
+    and [hl]
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, d
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    and [hl]
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    and [hl]
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, a
+    cp $07
+    ld l, a
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    and [hl]
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, a
+    cp $00
+    ld l, a
+    ld l, c
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    add d
+    add d
+    add d
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $00
+    ld l, a
+    ld l, c
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld e, a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, c
+    ldh [c], a
+    ld l, c
+    ld l, a
+    cp $02
+    ld l, a
+    ld l, d
+    ldh [c], a
+    ld l, d
+    ld l, a
+    cp $00
+    ld l, a
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, c
+    ld l, a
+    cp $00
+    ld l, a
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, d
+    ld l, a
+    cp $ff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+DataPadding_7e55:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+Bank1EndPadding:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
diff --git a/tmp/bank_002.asm.txt b/tmp/bank_002.asm.txt
new file mode 100644
index 0000000..9d2d364
--- /dev/null
+++ b/tmp/bank_002.asm.txt
@@ -0,0 +1,14838 @@
+SECTION "ROM Bank $002", ROMX[$4000], BANK[$2]
+
+    sub d
+    ld h, c
+
+Routine_DataProcess_A:
+    or a
+    ld h, c
+    jp c, $9261
+
+    ld h, c
+    or a
+    ld h, c
+    jp c, $9261
+
+    ld h, c
+    or a
+    ld h, c
+    jp c, $9261
+
+    ld h, c
+    or a
+    ld h, c
+    jp c, $9061
+
+    ld h, c
+    ld [bc], a
+    ld h, b
+    ld [hl], e
+    ld h, b
+    cp $60
+    ld [bc], a
+    ld h, b
+    ld [hl], e
+    ld h, b
+    cp $60
+    ld [bc], a
+    ld h, b
+    ld [hl], e
+    ld h, b
+    cp $60
+    ld [bc], a
+    ld h, b
+    ld [hl], e
+    ld h, b
+    cp $60
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    rrca
+    ld c, $1f
+    dec de
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ldh a, [hCurrentTile]
+    ldh [rLCDC], a
+    ldh a, [rP1]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0301
+    inc bc
+    rlca
+    rlca
+    rrca
+    dec c
+    rrca
+    inc c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ret nz
+
+    ret nz
+
+    ld hl, sp-$08
+    ldh a, [rNR41]
+    ld hl, sp-$80
+    ld hl, sp+$30
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    rrca
+    ld c, $1f
+    dec de
+    rra
+    jr TileData_Section_1
+
+TileData_Section_1:
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ldh a, [hCurrentTile]
+    ldh [rLCDC], a
+    ldh a, [rP1]
+    ldh a, [$ff60]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld [bc], a
+    ld [bc], a
+    rrca
+    add hl, bc
+    dec c
+    nop
+    jr @+$12
+
+    inc c
+    ld [$0303], sp
+    inc a
+    ccf
+    ld b, e
+    ld a, h
+    sbc h
+    ldh [hSpriteAttr], a
+    ret nz
+
+    and b
+    ret nz
+
+    sub b
+    ldh [$ff50], a
+    ld h, b
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    rrca
+    ld c, $1f
+    dec de
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld c, $00
+    adc [hl]
+    add b
+    db $fc
+    db $fc
+    db $ec
+    ld c, h
+    db $fc
+    inc c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    rra
+    rra
+    rrca
+    inc b
+    rra
+    ld [bc], a
+    rrca
+    inc c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ld hl, sp-$60
+    ld hl, sp+$20
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    rrca
+    rra
+    rra
+    rra
+    ld e, $3f
+    ld a, $3f
+    ld a, $3f
+    ccf
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ldh a, [hAudioControl]
+    ldh [rP1], a
+    ldh a, [rLCDC]
+    ldh [rP1], a
+    ldh [rP1], a
+    ret nz
+
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc e
+    inc e
+    ld a, $3e
+    ld a, a
+    ld a, a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    rla
+    rlca
+    ccf
+    ld a, [bc]
+
+TileData_Section_2:
+    ccf
+    inc e
+    rra
+    dec de
+    rra
+    jr Skip_9Bytes_002_413c
+
+    nop
+    dec c
+    rrca
+    dec e
+    rra
+    inc e
+    dec b
+
+Skip_9Bytes_002_413c:
+    jr @+$09
+
+    ld b, $06
+    ld c, $0e
+    ldh a, [$ff60]
+    ldh [rP1], a
+    add b
+    ret nz
+
+    or b
+    ldh a, [$ff38]
+    or b
+    jr TileData_Section_2
+
+    ld h, b
+    ld h, b
+    ld [hl], b
+    ld [hl], b
+    inc bc
+    nop
+    rrca
+    rrca
+    ccf
+    rrca
+    scf
+    rlca
+    nop
+    rrca
+    db $10
+    rra
+    jr TileData_Section_4
+
+    ld c, $0e
+    ldh a, [rP1]
+    ld b, b
+    ret nz
+
+    ld a, h
+
+TileData_Section_3:
+    ldh [$ff3c], a
+    ld [hl], b
+    ld [$18c8], sp
+    ld hl, sp+$18
+    ld a, b
+    nop
+    nop
+    rlca
+    nop
+    ld c, $0f
+    ld e, $1f
+    ld e, $18
+    inc b
+    dec de
+
+TileData_Section_4:
+    nop
+    rrca
+    rlca
+    rlca
+    rlca
+    rlca
+    ldh [rP1], a
+    add b
+    add b
+    ret nz
+
+    ret nz
+
+    nop
+    and b
+    nop
+    ldh [hSoundId], a
+    ret nz
+
+    ldh [hVramPtrLow], a
+    add b
+    add b
+    rra
+    jr TileData_Section_5
+
+    nop
+    rrca
+    rrca
+    rra
+    rrca
+    jr nc, TileData_Section_6
+
+TileData_Section_5:
+    db $10
+    rra
+    ld sp, $213d
+    ld hl, $60f0
+    ldh [rP1], a
+    ld e, b
+    ret nz
+
+    ld hl, sp-$40
+    nop
+
+TileData_Section_6:
+    ldh [rP1], a
+    ret nz
+
+    add b
+    add b
+    ret nz
+
+    ret nz
+
+    rra
+    jr @+$09
+
+    nop
+    dec e
+    rra
+    ld a, h
+    ccf
+    ld h, b
+    ld c, $50
+    rra
+    jr c, GraphicsControlData_2
+
+    jr nz, TileData_Section_7
+
+    ld hl, sp+$78
+    ldh a, [rNR10]
+    and b
+    ldh [hSoundCh1], a
+    db $e4
+    inc c
+    call c, $fc0c
+    nop
+    ret nz
+
+    nop
+    nop
+    rra
+    jr GraphicsControlData_1
+
+    rra
+    rra
+    rra
+    ld c, $0f
+    ld bc, $0103
+    inc bc
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh [hSoundId], a
+    jr nc, TileData_Section_3
+
+    ld [hl], b
+
+TileData_Section_7:
+    ldh [hCurrentTile], a
+    ret nz
+
+    ldh [hObjParamBuf0], a
+    add sp, $78
+    ld hl, sp+$70
+    ld [hl], b
+    inc a
+    ccf
+
+GraphicsControlData_1:
+    dec sp
+    inc a
+    ld [de], a
+    ld de, $0403
+    ld bc, $010e
+    ld e, $00
+
+GraphicsControlData_2:
+    ccf
+    nop
+    ld a, a
+    ld b, b
+    and b
+    nop
+    ldh [rP1], a
+    ret nz
+
+    nop
+    ldh [hJoypadState], a
+    ld h, b
+    add b
+    ld [hl], b
+    nop
+    ldh a, [rP1]
+    ldh a, [rIE]
+    rst $38
+    ld a, a
+    ld a, a
+    ld a, $3e
+    inc e
+    inc e
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rrca
+    ld [$0e0d], sp
+    ld hl, $382f
+    dec a
+    jr c, GraphicsControlData_5
+
+    nop
+    rlca
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    inc c
+    rra
+    ld d, $3f
+    jr nc, @+$41
+
+    jr nc, GraphicsControlData_3
+
+    ld [$0f0b], sp
+    ret nz
+
+    ret nz
+
+    ldh a, [hCurrentTile]
+    ldh [hJoypadState], a
+    ld hl, sp+$00
+    ld hl, sp+$40
+    ldh a, [hCurrentTile]
+
+GraphicsControlData_3:
+    ldh [rP1], a
+    add b
+    ret nz
+
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    rlca
+    ld b, $0f
+    dec bc
+    rra
+    jr @+$21
+
+    jr GraphicsControlData_4
+
+    inc b
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    ld hl, sp-$08
+
+GraphicsControlData_4:
+    ldh a, [rLCDC]
+    db $fc
+
+GraphicsControlData_5:
+    nop
+    db $fc
+    jr nz, @-$06
+
+    ld a, b
+    ldh a, [rP1]
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    inc c
+    rra
+    ld d, $3f
+    jr nc, @+$41
+
+    jr nc, GraphicsControlData_6
+
+    ld [$1f1f], sp
+    ret nz
+
+    ret nz
+
+    ldh a, [hCurrentTile]
+    ldh [hJoypadState], a
+    ld hl, sp+$00
+    ld hl, sp+$40
+    ldh a, [hCurrentTile]
+
+GraphicsControlData_6:
+    ldh [rP1], a
+    ld b, b
+    ret nz
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc e
+    inc e
+    ld [hl+], a
+    ld a, $49
+    ld [hl], e
+    or c
+    pop bc
+    ld e, c
+    ld h, e
+    ld [hl+], a
+    ld a, $1c
+    inc e
+    nop
+    nop
+    nop
+
+GraphicsControlData_7:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    inc c
+    rra
+    ld d, $3f
+    jr nc, SpriteAttributeTable_3
+
+    jr nc, SpriteAttributeTable_1
+
+    inc c
+    ld c, $00
+    sbc $c8
+    cp $f0
+    cp $9e
+    cp $06
+    db $fc
+    ld b, h
+    db $fc
+    db $fc
+
+SpriteAttributeTable_1:
+    ld hl, sp+$18
+    rlca
+    rlca
+    rra
+    rra
+    rrca
+    ld [bc], a
+    rra
+    nop
+    ccf
+    ld b, $3f
+    inc c
+    rrca
+    ld bc, $1f1d
+    add b
+    add b
+    ld hl, sp-$10
+    db $fc
+    ld h, b
+    call z, $c0b0
+    jr nz, GraphicsControlData_7
+
+    ldh a, [hVramPtrLow]
+    jr c, @-$1e
+
+    jr SpriteAttributeTable_2
+
+SpriteAttributeTable_2:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+SpriteAttributeTable_3:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    adc a
+    adc b
+    ret c
+
+    ret nc
+
+SpriteAttributeTable_4:
+    ld a, b
+    ld a, b
+
+SpriteAttributeTable_5:
+    ld l, [hl]
+    xor $fb
+    db $e3
+    rst $38
+    ld h, b
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+    rrca
+    rrca
+    rra
+    rra
+    rra
+    ld e, $3f
+    ld a, $3f
+    ld a, $00
+    nop
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ldh a, [hAudioControl]
+    ldh [rP1], a
+    ldh a, [rLCDC]
+    ldh [rP1], a
+    ldh [rP1], a
+    dec de
+    rra
+    dec sp
+    ccf
+    jr c, DispatchTableData_SpriteAttr_004
+
+    jr c, DispatchTableData_SpriteAttr_001
+
+    jr DispatchTableData_SpriteAttr_002
+
+    nop
+    ld e, $1c
+    inc e
+    inc a
+
+DispatchTableData_SpriteAttr_001:
+    inc a
+    and b
+
+DispatchTableData_SpriteAttr_002:
+    ldh [hSpriteAttr], a
+    ldh a, [$ff38]
+    cp b
+    jr c, SpriteAttributeTable_4
+
+    jr nc, SpriteAttributeTable_5
+
+    nop
+    ldh a, [rSVBK]
+    ld [hl], b
+    ld a, b
+    ld a, b
+    dec bc
+    rrca
+    inc de
+    rra
+    inc bc
+    rra
+    jr nc, @+$41
+
+    jr nc, @+$41
+
+    jr nc, SpriteAttributeTable_6
+
+    jr nz, DispatchTableData_SpriteAttr_005
+
+    nop
+    nop
+    nop
+    ret nz
+
+    ret c
+
+    ret nz
+
+DispatchTableData_SpriteAttr_003:
+    db $fc
+    ldh [hOAMAddrLow], a
+    ldh [hJoypadState], a
+    ldh [rP1], a
+    ldh [rSVBK], a
+    ld [hl], b
+    ld a, b
+    ld a, b
+    rla
+
+DispatchTableData_SpriteAttr_004:
+    rra
+    rlca
+    rra
+    nop
+    rra
+    nop
+    rrca
+    ld bc, $050f
+    rlca
+    ld c, $0e
+
+DispatchTableData_SpriteAttr_005:
+    rlca
+    rlca
+    ret nz
+
+    add b
+    ldh [hJoypadState], a
+    ld h, b
+    add b
+    nop
+    ldh [hJoypadState], a
+    ldh [hSoundId], a
+    ret nz
+
+    ld b, b
+    ld b, b
+    nop
+    nop
+    rrca
+    rrca
+    rra
+    rra
+    jr c, @+$09
+
+    jr nc, SpriteAttributeTable_7
+
+SpriteAttributeTable_6:
+    jr TableEntry_Variant_3
+
+    jr TableEntry_Variant_4
+
+    jr TableEntry_Variant_2
+
+    inc c
+
+SpriteAttributeTable_7:
+    inc c
+
+TableEntry_Variant_1:
+    ld e, h
+    ldh [$ff5c], a
+    ldh [$ff08], a
+    ld l, b
+    jr c, TableEntry_Variant_1
+
+    jr c, @-$06
+
+    jr c, DispatchTableData_SpriteAttr_003
+
+    nop
+    nop
+    nop
+    nop
+    ld a, $3f
+    ld a, $37
+    inc a
+    inc hl
+
+TableEntry_Variant_2:
+    inc e
+    rlca
+    ld h, [hl]
+
+TableEntry_Variant_3:
+    ld a, a
+    ld h, e
+
+TableEntry_Variant_4:
+    ld a, a
+    ld h, b
+    ld a, [hl]
+    ld b, b
+    ld b, b
+    or b
+    ldh a, [$ffa0]
+    ldh a, [rSC]
+    ld [hl], d
+    ld b, $fe
+    ld b, $fe
+    add [hl]
+    cp $00
+    nop
+    nop
+    nop
+    rra
+    rra
+    ld e, $1f
+    ld [$000f], sp
+    rlca
+    nop
+    inc bc
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ret nz
+
+    jr nc, LookupTable_SpriteState_001
+
+    ldh [$ff78], a
+    ld hl, sp-$08
+    ret z
+
+    ldh a, [c]
+    add d
+    ld c, [hl]
+    cp [hl]
+    inc a
+    ld a, h
+    jr c, TableEntry_Variant_5
+
+    cp a
+    xor c
+    db $eb
+    cp a
+    cp h
+    db $fc
+    rst $38
+    rst $38
+    rst $08
+    rr a
+    db $10
+    rra
+    ld de, $1e1e
+    nop
+    rst $38
+    nop
+    nop
+    rrca
+    rrca
+    ld hl, sp-$01
+    cp $ff
+    rst $38
+    ld a, a
+    add e
+    add e
+    nop
+    nop
+    ld a, a
+    ld a, a
+    ld a, b
+    ld a, e
+    ld bc, $0102
+    ld [bc], a
+    nop
+    rlca
+    nop
+    rrca
+    nop
+    rra
+    nop
+    ccf
+    ret nz
+
+    ld b, b
+    ld b, b
+    and b
+    nop
+    ldh [hSpriteAttr], a
+    ld b, b
+
+TableEntry_Variant_5:
+    ldh a, [rP1]
+    nop
+    ldh [rP1], a
+    ldh [rP1], a
+    ldh a, [rP1]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    inc c
+    nop
+    nop
+    nop
+
+LookupTable_SpriteState_001:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ret nz
+
+    ret nz
+
+TableEntry_Variant_6:
+    ldh a, [hCurrentTile]
+    ldh [hJoypadState], a
+    rra
+    ld d, $1f
+    db $10
+    rra
+    jr LookupTable_SpriteState_004
+
+    jr c, @+$3d
+
+    inc sp
+    jr c, LookupTable_SpriteState_003
+
+    inc e
+    rra
+    inc a
+    inc a
+    ld hl, sp+$00
+    ld hl, sp+$40
+    ldh a, [hCurrentTile]
+
+LookupTable_SpriteState_002:
+    ld hl, sp+$18
+    cp b
+    xor b
+    jr TableEntry_Variant_6
+
+    jr c, LookupTable_SpriteState_002
+
+    inc a
+    inc a
+    nop
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    inc c
+    rra
+    ld d, $3f
+    jr nc, TableEntry_Variant_7
+
+    jr nc, LookupTable_SpriteState_004
+
+    add hl, bc
+    nop
+    nop
+    ret nz
+
+LookupTable_SpriteState_003:
+    ret nz
+
+    ldh a, [hCurrentTile]
+    ldh [hJoypadState], a
+    ld hl, sp+$00
+    ld hl, sp+$40
+    cp $f0
+
+LookupTable_SpriteState_004:
+    db $fc
+    ldh a, [$ff0b]
+    rrca
+    ld bc, $000f
+    rra
+    nop
+    rra
+    ld h, b
+    ld a, a
+    ld h, b
+    ld a, [hl]
+    ld h, b
+    ld l, h
+    ld b, b
+    ld b, b
+    ldh [hVramPtrLow], a
+    add b
+    ret nz
+
+    nop
+    ret nz
+
+    ld b, b
+    ldh [hJoypadState], a
+    ldh [rP1], a
+    ldh [rSVBK], a
+    ld [hl], b
+    ld a, b
+    ld a, b
+    rlca
+    rlca
+    rrca
+    rrca
+    rra
+    rra
+    rra
+    inc e
+    ccf
+    dec a
+    ccf
+    inc a
+
+TableEntry_Variant_7:
+    ld a, a
+    ld a, h
+    ld a, a
+    ld a, a
+    ret nz
+
+    ret nz
+
+    ldh [hVramPtrLow], a
+    ldh a, [rSVBK]
+    ldh a, [rNR10]
+    ldh a, [$ff50]
+    ldh a, [rNR10]
+    ldh [hJoypadState], a
+    ret nz
+
+    ld b, b
+    ld a, c
+    ld a, d
+    jr nc, TableEntry_Variant_8
+
+    ld b, $01
+    rlca
+    ld [$1f00], sp
+    nop
+    ccf
+    nop
+    ld a, a
+    nop
+    rst $38
+    call nz, $1c20
+    ldh [$ff30], a
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    ret nz
+
+    nop
+    ldh [rP1], a
+    ldh [rP1], a
+    ldh [rP1], a
+    nop
+    ldh [hVramPtrLow], a
+    ldh a, [hAnimObjX]
+    adc b
+    adc b
+    add h
+    add h
+    adc h
+    adc h
+    ld a, [$fdfa]
+    ld de, wObjBufferVar3D
+    ld a, l
+    ld d, e
+    ld sp, hl
+    sub a
+    inc de
+    rst $38
+    ld e, $fe
+    db $fc
+
+TableEntry_Variant_8:
+    db $fc
+    ldh a, [hCurrentTile]
+    nop
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    rrca
+    rra
+    inc e
+    rra
+    dec e
+    ccf
+    inc a
+    ccf
+    inc a
+    ccf
+    ccf
+    ld e, $1e
+    ld de, $1e11
+    db $10
+    rra
+    inc de
+    inc e
+    inc d
+    call z, $ffcf
+    cp a
+    xor a
+    xor b
+    dec a
+    ld a, $38
+    ccf
+    ld e, $19
+    inc bc
+    inc b
+    ld bc, $000e
+    rra
+    nop
+    ccf
+    nop
+    ld a, a
+    ret nz
+
+    jr nz, TableEntry_Variant_9
+
+TableEntry_Variant_9:
+    ldh a, [$ff30]
+    ret nz
+
+    ld h, b
+    add b
+    ret nz
+
+    jr nz, ReadJoypadInput
+
+ReadJoypadInput:
+    ldh a, [rP1]
+    ldh a, [rP1]
+    ldh a, [$fffe]
+    cp $fe
+    add d
+    cp $ee
+    jr c, ConstTableA_Entry1
+
+    jr c, ConstTableA_Entry2
+
+    jr c, ConstTableA_Entry3
+
+    jr c, ConstTableA_Entry4
+
+    jr c, ConstTableA_Entry5
+
+    xor $ee
+    xor $aa
+    cp $ba
+    cp $82
+    cp $ba
+    xor $aa
+    xor $aa
+    xor $ee
+    cp $fe
+    cp $82
+    cp $be
+    db $fc
+    add h
+    db $fc
+    cp h
+    cp $be
+    cp $82
+    cp $fe
+
+ConstTableA_Entry1:
+    or $f6
+
+ConstTableA_Entry2:
+    cp $9a
+
+ConstTableA_Entry3:
+    cp $9a
+
+ConstTableA_Entry4:
+    cp $aa
+    cp $a2
+    cp $b2
+    xor $aa
+    xor $ee
+    db $fc
+    db $fc
+    cp $86
+    cp $b2
+    xor $aa
+
+ConstTableA_Entry5:
+    xor $aa
+    cp $b2
+    cp $86
+    db $fc
+    db $fc
+    nop
+    nop
+    ld [hl+], a
+    ld [hl+], a
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld [hl+], a
+    ld [hl+], a
+    nop
+    nop
+    nop
+    nop
+    jr nz, ConstTableA_Entry6
+
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    jr nz, PaddingZone_002_45e0
+
+    nop
+    nop
+    nop
+    nop
+    ld [de], a
+    ld [de], a
+    dec [hl]
+    dec [hl]
+    dec d
+    dec d
+    dec d
+    dec d
+    dec d
+    dec d
+    ld [de], a
+    ld [de], a
+    nop
+    nop
+    nop
+    nop
+    ld [hl+], a
+    ld [hl+], a
+
+ConstTableA_Entry6:
+    ld d, l
+    ld d, l
+    dec d
+    dec d
+    dec h
+    dec h
+    ld b, l
+    ld b, l
+    ld [hl], d
+    ld [hl], d
+
+PaddingZone_002_45e0:
+    nop
+    nop
+    nop
+    nop
+    and d
+    and d
+    and l
+    and l
+    and l
+    and l
+    push af
+    push af
+    dec h
+    dec h
+    ld [hl+], a
+    ld [hl+], a
+    nop
+    nop
+    nop
+    nop
+    ld [hl], d
+    ld [hl], d
+    ld b, l
+    ld b, l
+    ld h, l
+    ld h, l
+    dec d
+    dec d
+    dec d
+    dec d
+    ld h, d
+    ld h, d
+    nop
+    nop
+    nop
+    nop
+    ld h, d
+    ld h, d
+    sub l
+    sub l
+    ld h, l
+    ld h, l
+    or l
+    or l
+    sub l
+    sub l
+    ld h, d
+    ld h, d
+    nop
+    nop
+    nop
+    nop
+    ld l, [hl]
+    ld l, [hl]
+    xor $ee
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, a
+    ld l, a
+    ld h, a
+    ld h, a
+    nop
+    nop
+    nop
+    nop
+    cp [hl]
+    cp [hl]
+    cp c
+    cp c
+    cp c
+    cp c
+    cp [hl]
+    cp [hl]
+    cp b
+    cp b
+    jr c, PaddingZone_002_4668
+
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc c
+    inc c
+    db $10
+    db $10
+    jr nz, PaddingZone_002_466e
+
+    jr nz, SetVramPointer
+
+    ld b, b
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    jr SetVramPointer
+
+    inc a
+    inc h
+    ld a, d
+    ld d, [hl]
+    inc a
+    inc c
+    ld [$0018], sp
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4668:
+    nop
+    nop
+    inc bc
+    inc bc
+    rlca
+    rlca
+
+PaddingZone_002_466e:
+    ld h, h
+    ld h, h
+
+SetVramPointer:
+    ld d, h
+    ld d, l
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ldh a, [$ffa0]
+    ld hl, sp-$80
+    ld [hl], a
+    ld d, a
+    ld a, e
+
+ErrorTrap_002_4685:
+    ld a, b
+    ld c, a
+    ld c, a
+    ld a, h
+    ld a, h
+    jr c, ConstTableA_Entry7
+
+    rra
+    rra
+    rlca
+    rlca
+    ld bc, $f801
+    jr nc, ErrorTrap_002_4685
+
+    nop
+    ld hl, sp-$08
+    inc e
+    inc d
+    ld a, a
+    ld a, l
+    call z, InitializeGameObjects
+    ld sp, hl
+    pop af
+    pop af
+    ld hl, sp+$30
+    pop af
+    ld bc, $f9f9
+    inc e
+    inc d
+    ld a, a
+    ld a, l
+    call z, CalculateRelativeSpriteX
+    ld hl, sp-$10
+    ldh a, [rP1]
+    nop
+    rlca
+    rlca
+    rrca
+    rrca
+    ret
+
+
+    ret
+
+
+    xor c
+    xor e
+    rst $28
+    xor a
+    rst $20
+    and a
+    di
+    sub b
+    nop
+    nop
+
+ConstTableA_Entry7:
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ldh a, [rLCDC]
+    db $fc
+    nop
+    db $fc
+    jr nz, @-$06
+
+    ld a, b
+    ldh a, [rP1]
+    rst $38
+    rst $38
+    adc a
+    adc a
+    ld hl, sp-$08
+    ldh [hVramPtrLow], a
+    ld l, a
+    ld a, a
+    inc a
+    ccf
+    rrca
+    rrca
+    inc bc
+    inc bc
+    db $fc
+    db $fc
+    rst $30
+    push af
+    rra
+    dec d
+    db $fc
+    db $fc
+    adc e
+    ei
+    dec de
+    ei
+    di
+    ldh a, [hSoundParam2]
+    jp RST_00
+
+
+    ldh [hVramPtrLow], a
+    ldh a, [hCurrentTile]
+    ldh a, [rLCDC]
+
+LcdStatusWaitLoop:
+    rst $38
+    inc bc
+    rst $38
+    jr nz, LcdStatusWaitLoop
+
+    ld a, e
+    di
+    inc bc
+    db $fc
+    db $fc
+    rst $30
+    push af
+    rra
+    dec d
+    db $fc
+    db $fc
+    adc b
+    ld hl, sp+$18
+    ld hl, sp-$10
+    ldh a, [hSoundId]
+    ret nz
+
+    nop
+    nop
+    inc a
+    inc a
+    ld l, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ld b, b
+    ld b, b
+    inc h
+    inc h
+    ld a, [de]
+    ld a, [de]
+    ld bc, $0601
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc b
+    inc b
+    add hl, bc
+    add hl, bc
+    dec bc
+    dec bc
+    rrca
+    ld c, $00
+    nop
+    nop
+    nop
+    nop
+    nop
+    db $fc
+    db $fc
+    ldh [c], a
+    ldh [c], a
+    db $fd
+    db $fd
+    ld sp, hl
+    sub c
+    db $fd
+    pop bc
+    rrca
+    ld c, $09
+    ld [$0f0f], sp
+    ld h, a
+    ld h, h
+    ld h, h
+    ld h, h
+    inc d
+    rla
+    inc bc
+    inc bc
+    nop
+    nop
+    db $fd
+    add hl, de
+    ld sp, hl
+    ld bc, $f9f9
+    sub $56
+    ld a, a
+    ccf
+    ld a, l
+    ld sp, hl
+    ld sp, hl
+    db $fd
+    cp $fe
+    rrca
+    ld c, $09
+    ld [$0f0f], sp
+    rlca
+    inc b
+    inc b
+    inc b
+    inc d
+    rla
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, b
+    rrca
+    rrca
+    inc de
+    inc de
+    daa
+    daa
+    daa
+    ld h, $2f
+    dec hl
+    ccf
+    jr c, ConstTableA_Entry9
+
+    jr c, ConstTableA_Entry8
+
+    inc h
+    db $fc
+    db $fc
+    ldh [c], a
+    ldh [c], a
+    ld sp, hl
+    ld sp, hl
+    pop af
+    ld b, c
+    db $fd
+    ld bc, $21fd
+    ld sp, hl
+    ld a, c
+    pop af
+    ld bc, $3f3f
+    rst $18
+    call nc, $d4d4
+    call nc, AnimStateDispatcher
+    ccf
+    rra
+    rra
+    rrca
+    rrca
+    inc bc
+    inc bc
+    ld sp, hl
+    ld sp, hl
+    xor [hl]
+    xor [hl]
+    rst $38
+    ld a, a
+
+ConstTableA_Entry8:
+    ld a, l
+    pop af
+    pop af
+    db $fd
+    cp $fe
+    cp $fe
+    db $fc
+    db $fc
+    ccf
+    ccf
+    rra
+    inc d
+    inc d
+    inc d
+    inc d
+    rra
+    inc [hl]
+    ccf
+    rst $18
+    rst $18
+
+ConstTableA_Entry9:
+    rst $08
+    rst $08
+    jp LCDStat_CheckCarryExit
+
+
+    nop
+    nop
+    nop
+    ld e, $1e
+    ld [hl], e
+    ld [hl], e
+    rst $38
+    rst $38
+    ld a, a
+    ld a, a
+    ld e, $1e
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+ConstTableA_Entry10:
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ld b, b
+    ld b, b
+    ld bc, $0201
+    ld [bc], a
+    inc b
+    inc b
+    rrca
+    ld [$0407], sp
+    inc bc
+    ld [bc], a
+    ld bc, $0001
+    nop
+    add b
+    add b
+    nop
+    nop
+    pop bc
+
+AudioDispatchEntry_4807:
+    nop
+    rst $30
+    nop
+    rst $38
+    nop
+    rst $38
+    ld b, b
+    rst $38
+    db $e3
+    ld a, $3e
+    inc de
+    nop
+    sbc c
+    nop
+    pop bc
+    nop
+    db $e3
+    nop
+    rst $38
+    nop
+    rst $38
+    add b
+    ld a, a
+    ld b, c
+    ld a, $3e
+    ld b, b
+    ld b, b
+    and b
+    jr nz, AudioDispatchEntry_4807
+
+    jr nz, ConstTableA_Entry10
+
+    ld b, b
+    ret nz
+
+    ld b, b
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    cp e
+    rst $38
+    and e
+    rst $38
+    and e
+    rst $38
+    add a
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    sbc c
+    sbc c
+    and l
+    and l
+    adc l
+    adc l
+    sbc c
+    sbc c
+    add c
+    add c
+    sbc c
+    sbc c
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    cp e
+    rst $38
+    and e
+    rst $38
+    and e
+    rst $38
+    add a
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    ld a, [hl]
+    ld b, d
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    rst $38
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, d
+    inc a
+    inc a
+    nop
+    nop
+    ld l, [hl]
+    ld l, [hl]
+    cp a
+    sub e
+    cp a
+    add e
+    rst $38
+    add e
+    ld a, [hl]
+    ld b, [hl]
+    inc a
+    inc l
+    jr PaddingZone_002_489a
+
+    nop
+    nop
+    stop
+    stop
+    cp $00
+    ld a, h
+    nop
+    jr c, JoypadInputEntry_488e
+
+JoypadInputEntry_488e:
+    ld a, h
+    nop
+    add $00
+    nop
+    nop
+    db $10
+    db $10
+    db $10
+    db $10
+    cp $fe
+
+PaddingZone_002_489a:
+    ld a, h
+    ld a, h
+    jr c, PaddingZone_002_48d6
+
+    ld a, h
+    ld a, h
+    add $c6
+    jp $3dc3
+
+
+    dec a
+    jp hSoundParam2
+
+
+    rst $38
+    rst $38
+    rst $38
+    rst $28
+    rst $20
+    rst $38
+    rst $38
+    db $db
+    db $db
+    inc a
+    inc a
+    jr nz, PaddingZone_002_4904
+
+    rst $38
+    rst $38
+    rst $38
+    cp l
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    cp l
+    rst $38
+    rst $38
+    rrca
+    rrca
+    rra
+    db $10
+    jr c, PaddingZone_002_48f8
+
+    ld [hl], b
+    ld b, b
+    ld h, b
+    ld b, b
+    ret nz
+
+    add b
+    ret nz
+
+    add b
+    ret nz
+
+    add b
+    cp a
+    cp a
+    rst $38
+    ld b, b
+
+PaddingZone_002_48d6:
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, c
+    nop
+    nop
+    add b
+    add b
+    ld hl, sp+$78
+    inc a
+    inc b
+    inc c
+    inc b
+    ld c, $02
+    ld b, $02
+    dec b
+    inc bc
+    dec b
+    inc bc
+    ret nz
+
+    add b
+    ret nz
+
+    add b
+    ldh [hJoypadState], a
+
+PaddingZone_002_48f8:
+    ld [hl], b
+    ld b, b
+    ld a, $20
+    inc hl
+    inc a
+    dec e
+    ld e, $03
+    inc bc
+    nop
+    nop
+
+PaddingZone_002_4904:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ccf
+    nop
+    sbc h
+    ld a, a
+    db $e3
+    db $e3
+    rst $38
+    rst $38
+    add b
+    add b
+    cp a
+    add b
+    xor a
+    adc b
+    cp a
+    sbc b
+    cp a
+    add b
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    inc bc
+    inc bc
+    rst $38
+    inc bc
+    rst $28
+    dec bc
+    rst $38
+    dec de
+    rst $38
+    inc bc
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    inc a
+    inc a
+    ld a, [hl]
+    ld a, [hl]
+    db $db
+    db $db
+    db $db
+    db $db
+    rst $38
+    rst $38
+    inc a
+    nop
+    ld a, [hl]
+    ld h, d
+    ld [hl], $36
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld a, [hl]
+    ld a, [hl]
+    db $db
+    db $db
+    inc a
+    nop
+    jp $18c3
+
+
+    jr PaddingZone_002_4991
+
+    inc h
+    ld a, [hl]
+    ld d, d
+    ld a, [hl]
+    ld b, d
+    rst $38
+    pop bc
+    rst $38
+    add l
+    rst $38
+    add c
+    rst $38
+    and e
+    rst $38
+    add c
+    rst $38
+    jp DataZone_667e
+
+
+    inc a
+    inc a
+    sbc c
+    sbc c
+    db $db
+    db $db
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    add c
+    add c
+    add c
+    add c
+    jp $c3c3
+
+
+    jp $a5e7
+
+
+    rst $20
+    and l
+    rst $20
+    and l
+    rst $20
+    and l
+    rst $38
+    cp l
+    rst $38
+    sbc c
+    ld a, [hl]
+    ld b, d
+    inc a
+    inc a
+    sbc c
+    sbc c
+    db $db
+    db $db
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+
+PaddingZone_002_4991:
+    inc a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld h, b
+    ld h, b
+    sub b
+    sub b
+    ret nc
+
+    ret nc
+
+    ret nc
+
+    ret nc
+
+    sub b
+    sub b
+    add sp, -$20
+    ld a, [hl]
+    ld l, [hl]
+    dec a
+    dec l
+    rra
+    rrca
+    rra
+    ld b, $3f
+    add hl, sp
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld h, b
+    ld h, b
+    sub b
+    sub b
+    ret nc
+
+    ret nc
+
+    ret nc
+
+    ret nc
+
+    sub b
+    sub b
+    add sp, -$20
+    ld a, $2e
+    dec a
+    dec l
+    ld a, a
+    ld l, a
+    rra
+    ld b, $1e
+    db $10
+    scf
+    scf
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld l, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    inc a
+    nop
+    ld l, [hl]
+    nop
+    ld e, [hl]
+    nop
+    ld e, [hl]
+    nop
+    ld a, [hl]
+    nop
+    inc a
+    nop
+    dec b
+    inc bc
+    dec c
+    inc bc
+    add hl, bc
+    rlca
+    ld a, [bc]
+    ld b, $32
+    ld c, $e4
+    inc e
+    ld [$f0f8], sp
+    ldh a, [rP1]
+    nop
+    nop
+    nop
+    ld [bc], a
+    ld [bc], a
+    nop
+    nop
+    ld de, $0511
+    inc b
+    inc bc
+    ld bc, $2a2e
+    ld b, $06
+    ld [$2708], sp
+    inc h
+    inc l
+    jr z, PaddingZone_002_4a36
+
+    ld de, $8094
+    ld e, c
+    ld c, c
+    inc sp
+    inc hl
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4a36:
+    jr nc, PaddingZone_002_4a68
+
+    ld c, b
+    ld c, b
+    ld b, h
+    ld b, h
+    ld [hl], l
+    ld b, l
+    ld [hl], a
+    ld h, [hl]
+    add hl, sp
+    add hl, sp
+    nop
+    nop
+    nop
+    nop
+    inc c
+    inc c
+    ld [de], a
+    ld [de], a
+    ld [hl+], a
+    ld [hl+], a
+    xor [hl]
+    and d
+    xor $66
+    sbc h
+    sbc h
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld h, c
+    ld h, c
+    sub a
+    sub [hl]
+    adc c
+    adc c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4a68:
+    nop
+    nop
+    nop
+    nop
+    add [hl]
+    add [hl]
+    jp hl
+
+
+    ld l, c
+    sub c
+    sub c
+    ccf
+    ccf
+    ld l, l
+    ld [hl], b
+    ld a, a
+    ld a, a
+    adc [hl]
+    adc e
+    xor a
+    xor e
+    cp $fb
+    rst $38
+    add e
+    cp $87
+    add b
+    add b
+    ld b, b
+    ret nz
+
+    ldh [hVramPtrLow], a
+    or b
+    db $10
+    ldh a, [hCurrentTile]
+    or b
+    db $10
+    ldh a, [hCurrentTile]
+    ld b, b
+    ret nz
+
+SpriteGraphicsData_Warrior_001:
+    rra
+    rra
+    ld [hl], $38
+    ccf
+    ccf
+    ld b, a
+    ld b, l
+    ld d, a
+    ld d, l
+    ld a, a
+    ld a, l
+    scf
+    dec [hl]
+    rlca
+    dec b
+    ret nz
+
+    ret nz
+
+    and b
+    ld h, b
+    ldh a, [hCurrentTile]
+    ld e, b
+    adc b
+    ld hl, sp-$08
+    ld e, b
+    adc b
+    ld hl, sp-$08
+    jr nz, SpriteGraphicsData_Warrior_001
+
+    ld bc, $0701
+    ld b, $0f
+    ld [$383f], sp
+    ld c, a
+    ld c, b
+    adc a
+    adc [hl]
+    cp a
+    adc b
+    rst $30
+    rst $30
+    add b
+    add b
+    ld h, b
+    ldh [hAnimObjX], a
+    ld [hl], b
+    call c, $d23c
+    ld [hl-], a
+    pop af
+    ld [hl], c
+    db $dd
+    ld sp, $efef
+    ld bc, $0301
+    inc bc
+    rlca
+    rlca
+    rrca
+    rrca
+    rrca
+    rrca
+    ld a, $3e
+    ldh [hVramPtrLow], a
+    nop
+    nop
+    rst $38
+    sbc l
+    ld [hl], a
+    ld [hl], l
+    daa
+    dec h
+    rlca
+    dec b
+    ccf
+    dec sp
+    ld a, $22
+    sbc a
+    sbc a
+    ld a, [$00fa]
+    nop
+    jr c, FlagDispatch_Default
+
+    jr c, FlagDispatch_Entry1
+
+    jr c, FlagDispatch_Entry2
+
+    jr c, FlagDispatch_Entry3
+
+    jr c, FlagDispatch_Entry4
+
+    jr c, FlagDispatch_Entry5
+
+    jr c, FlagDispatch_Entry6
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+FlagDispatch_Entry1:
+    nop
+    nop
+
+FlagDispatch_Entry2:
+    nop
+    nop
+
+FlagDispatch_Entry3:
+    nop
+    nop
+
+FlagDispatch_Entry4:
+    nop
+    nop
+
+FlagDispatch_Entry5:
+    nop
+    nop
+
+FlagDispatch_Entry6:
+    nop
+    nop
+    nop
+    nop
+
+FlagDispatch_Default:
+    nop
+    nop
+    nop
+    nop
+    dec bc
+    ld a, [bc]
+    rst $08
+    rst $08
+    jp hl
+
+
+    jp hl
+
+
+    add hl, sp
+    add hl, sp
+    rlca
+    rlca
+    inc bc
+    ld [bc], a
+    ccf
+    ld a, $71
+    ld [hl], c
+    ret nc
+
+    ld d, b
+    di
+    di
+    ld d, a
+    ld d, a
+    ld e, h
+    ld e, h
+    ldh [hVramPtrLow], a
+    ret nz
+
+    ld b, b
+    db $fc
+    ld a, h
+    adc [hl]
+    adc [hl]
+    db $eb
+    adc d
+    ld a, a
+    ld a, a
+    ld a, [bc]
+    ld a, [bc]
+    ld a, [hl-]
+    ld a, [hl-]
+    ld [hl], a
+    ld [hl], a
+    inc bc
+    ld [bc], a
+    rrca
+    rrca
+    inc e
+    inc e
+    rst $10
+    ld d, c
+    cp $fe
+    sub b
+    sub b
+    sbc h
+    sbc h
+    xor $ee
+    ret nz
+
+    ld b, b
+    ldh a, [hCurrentTile]
+    jr c, SpriteGraphicsData_Warrior_002
+
+    ld a, a
+    ld a, h
+    rra
+    jr @+$31
+
+    jr nz, SpriteGraphicsData_Projectile
+
+    ld b, e
+    ld e, l
+    ld b, h
+    rst $18
+    rst $08
+    ei
+    adc b
+    ld a, a
+    ld a, a
+    ld a, b
+    ld hl, sp-$74
+    ld a, h
+    ldh a, [c]
+    ld c, $fb
+    add a
+    db $fd
+    inc bc
+    db $fd
+    add e
+    ei
+    rlca
+    cp $fe
+    rlca
+    dec b
+    ccf
+    dec a
+    ccf
+    ld [hl+], a
+    rra
+    dec e
+    ld l, $22
+    ld e, a
+    ld b, a
+    ld e, l
+    ld b, h
+    ccf
+    ccf
+    cp b
+    ld a, b
+    call nz, $fa3c
+    ld b, $fb
+    rst $00
+
+SpriteGraphicsData_Warrior_002:
+    db $fd
+    inc bc
+    db $fd
+    add e
+    ei
+    rlca
+    cp $fe
+    ccf
+    ccf
+    ld l, h
+    ld h, e
+    ld a, a
+    ld a, a
+    cp $82
+    rst $38
+    cp e
+    cp $82
+    rst $38
+    add e
+    ld a, a
+    ld a, a
+    jr c, PaddingZone_002_4bfc
+
+    xor $de
+    ldh a, [c]
+    adc $bd
+    ld h, e
+    db $fd
+    db $e3
+    cp l
+    ld h, e
+    db $fd
+    db $e3
+    cp $fe
+    inc e
+    inc e
+    ld a, $3e
+    cpl
+    cpl
+
+SpriteGraphicsData_Projectile:
+    daa
+    daa
+    ld h, a
+    ld h, a
+    pop bc
+    pop bc
+    add b
+    add b
+    nop
+    nop
+    ld [hl], e
+    ld [hl], e
+    ld b, $06
+    add hl, de
+    jr PaddingZone_002_4c10
+
+    jr nz, CollisionDispatchCase_099
+
+    ld b, c
+    ld a, l
+    ld b, a
+    ld a, [hl]
+    ld d, [hl]
+    ld a, b
+    ld a, b
+    jr c, PaddingZone_002_4c1c
+
+    jr c, PaddingZone_002_4c1e
+
+    jr c, PaddingZone_002_4c20
+
+    cp $fe
+    add d
+    add d
+
+PaddingZone_002_4bfc:
+    ld b, h
+    ld b, h
+    jr z, PaddingZone_002_4c28
+
+    db $10
+    stop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4c10:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4c1c:
+    nop
+    nop
+
+PaddingZone_002_4c1e:
+    nop
+    nop
+
+PaddingZone_002_4c20:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4c28:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld a, $3e
+    ld b, a
+    ld b, l
+    and $a5
+    and $a5
+    cp $99
+    db $fd
+    jp $1c1c
+
+
+    ld h, $26
+    ld b, d
+    ld b, d
+    ld b, [hl]
+    ld b, d
+    sbc [hl]
+    add d
+    cp [hl]
+    add [hl]
+    cp h
+    cp h
+    ld h, b
+    ld h, b
+    nop
+    nop
+    ld a, $3e
+    ld b, a
+    ld b, l
+    and $a5
+    and $a5
+    cp $99
+    db $fd
+    db $e3
+    rra
+    rla
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+
+CollisionDispatchCase_099:
+    add b
+    cp [hl]
+    cp [hl]
+    pop bc
+    pop bc
+    ld bc, $fb01
+    jp RST_00
+
+
+    ld a, $3e
+    ld a, a
+    ld a, a
+    rst $38
+    rst $20
+    rst $38
+    pop bc
+    rst $38
+    rst $20
+    ld a, a
+    ld a, a
+    ld a, $3e
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ldh [hVramPtrLow], a
+    ld hl, sp-$08
+    ldh [hVramPtrLow], a
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    rst $38
+    rst $38
+    ld b, l
+    add e
+    rst $38
+    rst $38
+    ld c, l
+    add e
+    rst $38
+    cp $c3
+    ld a, a
+    call c, $bbe4
+    ret z
+
+    nop
+    nop
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    jr c, AudioDispatchEntry_4ce2
+
+    db $ec
+    inc c
+    db $f4
+    add h
+    ld [hl], a
+    rrca
+    db $f4
+    inc c
+    ccf
+    ccf
+    ld a, a
+    ld b, c
+    cp $81
+    cp $b1
+    db $fc
+    or e
+    ld sp, hl
+    add a
+    rst $38
+    add a
+    ld a, c
+    ld a, c
+    nop
+    nop
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    cp $fe
+    ld bc, $016d
+    ld l, l
+    cp $fe
+    rst $38
+    add c
+    ld a, a
+    ld a, l
+    ld a, a
+    ld b, c
+    ccf
+    ld hl, $9f9f
+    ld a, [$73fa]
+    ld [hl], e
+    ld [bc], a
+    ld [bc], a
+
+AudioDispatchEntry_4ce2:
+    rst $38
+    rst $38
+    ld b, l
+    add e
+    rst $38
+    rst $38
+    ld c, l
+    add e
+    cp $fe
+    db $e3
+    ld a, h
+    rst $18
+    pop hl
+    cp [hl]
+    add d
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ret nz
+
+    ret nz
+
+    jr nc, AudioDispatchEntry_4d2c
+
+    jp hl
+
+
+    add hl, bc
+    rst $30
+    rst $20
+    inc de
+    rra
+    ld a, a
+    ld a, a
+    ld c, [hl]
+    ld [hl], b
+    ld a, a
+    ld a, a
+    ccf
+    dec a
+    ld d, a
+    ld d, l
+    ld d, a
+    ld d, h
+    rst $38
+    ld hl, sp-$01
+    add b
+    ld hl, sp-$08
+    inc h
+    inc e
+    db $fc
+    db $fc
+    ld a, [de]
+    ld b, $fe
+    cp $ed
+    inc hl
+    rst $38
+    cp a
+    push hl
+    inc hl
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+AudioDispatchEntry_4d2c:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    add a
+    ld a, e
+    ld a, e
+    inc bc
+    inc bc
+    dec h
+    dec h
+    ld l, b
+    ld l, b
+    sbc a
+    sbc a
+    ld l, b
+    ld l, b
+    jr nz, PaddingZone_002_4d62
+
+    db $fc
+    db $fc
+    ld b, $2e
+    ld [bc], a
+    ld l, d
+    add d
+    jp z, $fcfc
+
+    rst $38
+    rst $38
+    add h
+    add h
+    nop
+    nop
+    ld a, a
+    ld a, a
+    inc bc
+    inc bc
+    dec b
+    dec b
+    jr z, PaddingZone_002_4d82
+
+    ld l, b
+    ld l, b
+    sbc a
+    sbc a
+    ld l, b
+    ld l, b
+    jr nz, PaddingZone_002_4d82
+
+PaddingZone_002_4d62:
+    inc a
+    inc a
+    ld [bc], a
+    ld l, d
+    add d
+    jp z, $fcfc
+
+    ld b, d
+    ld b, d
+    rst $38
+    rst $38
+    ld b, d
+    ld b, d
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+    ei
+    rst $00
+    add h
+    add e
+    add d
+    add c
+
+PaddingZone_002_4d7c:
+    ld a, c
+    ld b, a
+    ld a, $3e
+    nop
+    nop
+
+PaddingZone_002_4d82:
+    nop
+    nop
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    ld a, $fe
+    jr nc, PaddingZone_002_4d7c
+
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    nop
+    nop
+    cp e
+    adc b
+    ld a, a
+    inc b
+    db $db
+    scf
+    and [hl]
+    ld a, [hl]
+    ld a, b
+    ld hl, sp-$7f
+    add c
+    ld bc, $0101
+    ld bc, $0cf4
+    or $4e
+    ld a, [$7ac6]
+    ld b, [hl]
+    or $9e
+    db $fc
+    ld c, h
+    ldh a, [$ff30]
+    ldh [hVramPtrLow], a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    ld bc, $0201
+    ld [bc], a
+    dec a
+    inc a
+    ld h, e
+    ld b, b
+    cp $81
+    db $fd
+    xor e
+    cp $fe
+    cp l
+    add h
+    ld a, l
+    inc b
+    rst $18
+    inc [hl]
+    and [hl]
+    ld a, e
+    ld l, a
+    rst $38
+    cp a
+    or b
+    rra
+    dec d
+    rra
+    rra
+    ld a, [$fa0e]
+    ld b, $fa
+    ld b, $fa
+    ld b, $7e
+    add d
+    db $fd
+    inc bc
+    ld sp, hl
+    rlca
+    cp $fe
+    ccf
+    ccf
+    ld a, a
+    ld a, a
+    rst $38
+    ret z
+
+    rst $38
+    add c
+    rst $38
+    sub b
+    rst $38
+    call nz, $ffff
+    rst $38
+    rst $38
+    db $fc
+    db $fc
+    cp $fe
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    inc de
+    rst $38
+    ld b, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    cp $da
+    rst $38
+    adc c
+    rst $38
+    call Routine_DataProcess_B
+    ld [hl], d
+    ld d, d
+    ld h, d
+    ld h, d
+    jr nz, ReturnFromInterrupt_002_4e50
+
+    jr nz, UnreachableCode_PostInterrupt
+
+    ld a, $3e
+    ld h, e
+    ld h, e
+    ld a, a
+    ld a, a
+    ld a, $3e
+    ld [$6b08], sp
+    ld l, e
+    ld a, $3e
+    inc e
+    inc e
+    inc a
+    inc a
+    ld l, d
+    ld b, [hl]
+    ld b, d
+    ld a, [hl]
+    inc a
+    inc a
+    jr PaddingZone_002_4e64
+
+    rst $38
+    rst $38
+    reti
+
+
+    add a
+
+ReturnFromInterrupt_002_4e50:
+    reti
+
+
+    add a
+
+UnreachableCode_PostInterrupt:
+    inc a
+    inc a
+    ld b, d
+    ld a, [hl]
+    sbc c
+    rst $20
+    and l
+    jp $c3a5
+
+
+    sbc c
+    rst $20
+    ld b, d
+    ld a, [hl]
+    inc a
+    inc a
+    nop
+    nop
+
+PaddingZone_002_4e64:
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    jr c, PaddingZone_002_4eae
+
+    ld a, a
+    ld a, a
+    cp $e4
+    rst $38
+    or b
+    rst $38
+    add [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld a, $1c
+    ld e, l
+    nop
+    ld b, c
+    nop
+    ld a, $00
+    ld [$6b00], sp
+    nop
+    ld a, $00
+    inc e
+    ld a, [hl]
+    ld a, [hl]
+    and l
+    jp $ffff
+
+
+    and l
+    jp $ffff
+
+
+    and l
+    jp DataZone_665a
+
+
+    inc a
+    inc a
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+
+PaddingZone_002_4eae:
+    nop
+    rst $38
+    nop
+    rst $38
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    jr AudioDispatchEntry_4edc
+
+    jr AudioDispatchEntry_4ede
+
+    jr c, GfxData_Tiles
+
+    ld hl, sp-$08
+    ldh a, [hCurrentTile]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+
+AudioDispatchEntry_4edc:
+    add c
+    rst $38
+
+AudioDispatchEntry_4ede:
+    add c
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    rst $38
+    ld de, $1111
+    ld de, $1111
+    ld de, $ff11
+    ld de, $ff11
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    jp $c3ff
+
+
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    rst $38
+    rst $38
+    jp $c3ff
+
+
+GfxData_Tiles:
+    ld a, [hl]
+    ld a, [hl]
+    db $10
+    db $10
+    db $10
+    db $10
+    jr z, PaddingZone_002_4f30
+
+    jr z, SpriteGraphicsData_Boss_Animated
+
+    ld b, h
+    ld b, h
+    ld a, h
+    ld b, h
+    ld a, h
+    ld b, h
+    ld a, h
+    ld a, h
+    ld a, [hl]
+    ld a, [hl]
+    sbc a
+    sbc a
+    rst $38
+    rst $38
+    ld l, [hl]
+    ld b, d
+    ld l, [hl]
+    ld b, d
+    rst $38
+    rst $38
+    sbc a
+    sbc a
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    add e
+    rst $38
+    add a
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_4f30:
+    nop
+    nop
+
+SpriteGraphicsData_Boss_Animated:
+    rrca
+    rrca
+    dec bc
+    ld [$080b], sp
+    dec bc
+    ld [$181b], sp
+    scf
+    jr nc, Return_IfCarry_002_4f6e
+
+    jr nz, PaddingZone_002_4f70
+
+    daa
+    ldh a, [hCurrentTile]
+    or b
+    ld [hl], b
+    or b
+    ld [hl], b
+    or b
+    ld [hl], b
+    sbc b
+    ld a, b
+    call c, $cc3c
+    inc a
+    db $e4
+    inc e
+    ld l, $21
+    inc h
+    inc hl
+    add hl, hl
+    add hl, hl
+    cpl
+    ld h, $36
+    ld sp, $1311
+    ld c, $0e
+    nop
+    nop
+    add h
+    db $fc
+    db $f4
+    db $fc
+    db $fc
+    ld e, h
+    ld a, h
+    call nc, $b4dc
+    inc h
+    ld l, h
+
+Return_IfCarry_002_4f6e:
+    ret c
+
+    ret c
+
+PaddingZone_002_4f70:
+    nop
+    nop
+    jr c, PaddingZone_002_4fac
+
+    ld a, h
+    ld b, h
+    xor $82
+    adc $8a
+    adc $8a
+    cp $92
+    ld a, h
+    ld b, h
+    jr c, PaddingZone_002_4fba
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rrca
+    rrca
+    rra
+    rra
+    inc e
+    inc e
+    jr PaddingZone_002_4fa8
+
+    jr PaddingZone_002_4faa
+
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    jr PaddingZone_002_4fbc
+
+    inc a
+    inc b
+    inc a
+    inc b
+
+PaddingZone_002_4fa8:
+    inc a
+    inc b
+
+PaddingZone_002_4faa:
+    inc a
+    inc b
+
+PaddingZone_002_4fac:
+    inc a
+    inc b
+    inc a
+    inc b
+    jr PaddingZone_002_4fca
+
+    jr PaddingZone_002_4fcc
+
+    jr PaddingZone_002_4fce
+
+    jr PaddingZone_002_4fd0
+
+    jr PaddingZone_002_4fd2
+
+PaddingZone_002_4fba:
+    jr PaddingZone_002_4fd4
+
+PaddingZone_002_4fbc:
+    jr UnreachableCodeData_002_00
+
+    jr PaddingZone_002_4fd8
+
+    jr PaddingZone_002_4fda
+
+    nop
+    nop
+    nop
+    nop
+    ld a, $3e
+    ld c, b
+    ld c, c
+
+PaddingZone_002_4fca:
+    xor [hl]
+    xor a
+
+PaddingZone_002_4fcc:
+    cp $ff
+
+PaddingZone_002_4fce:
+    ld a, [hl]
+    ld a, a
+
+PaddingZone_002_4fd0:
+    ld a, $3e
+
+PaddingZone_002_4fd2:
+    nop
+    nop
+
+PaddingZone_002_4fd4:
+    nop
+    nop
+
+UnreachableCodeData_002_00:
+    add b
+    add b
+
+PaddingZone_002_4fd8:
+    jr PaddingZone_002_4ff2
+
+PaddingZone_002_4fda:
+    cp h
+    cp h
+    sbc b
+    sbc b
+    add b
+    add b
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    adc h
+    adc h
+    ld [de], a
+    ld [de], a
+    adc c
+    adc c
+    sub d
+    sub d
+    adc h
+    adc h
+    add b
+    add b
+
+PaddingZone_002_4ff2:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    ld hl, sp-$08
+    jr c, DataVector_Handler_3
+
+    jr DataVector_Handler_2
+
+    jr PaddingZone_002_501a
+
+    jp RST_24
+
+
+    ld b, d
+    nop
+    add c
+    nop
+    nop
+    nop
+    nop
+    jr PaddingZone_002_500e
+
+PaddingZone_002_500e:
+    inc a
+    nop
+    ld h, [hl]
+    jr DataVector_Handler_1
+
+DataVector_Handler_1:
+    nop
+    nop
+    nop
+    nop
+    nop
+
+DataVector_Handler_2:
+    nop
+    nop
+
+PaddingZone_002_501a:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr PaddingZone_002_503c
+
+    jr PaddingZone_002_503e
+
+    inc e
+    inc e
+    rra
+    rra
+    rrca
+    rrca
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+
+DataVector_Handler_3:
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+
+PaddingZone_002_503c:
+    ld h, [hl]
+    ld h, [hl]
+
+PaddingZone_002_503e:
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    jr PaddingZone_002_505e
+
+    jr c, DataVector_Handler_7
+
+    jr DataVector_Handler_4
+
+    jr DataVector_Handler_5
+
+    jr DataVector_Handler_6
+
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld c, [hl]
+    ld c, [hl]
+    ld c, $0e
+    inc a
+    inc a
+    ld [hl], b
+    ld [hl], b
+
+PaddingZone_002_505e:
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+
+DataVector_Handler_4:
+    nop
+    nop
+
+DataVector_Handler_5:
+    ld a, h
+    ld a, h
+
+DataVector_Handler_6:
+    ld c, $0e
+    inc a
+    inc a
+    ld c, $0e
+    ld c, $0e
+    ld a, h
+    ld a, h
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld l, h
+    ld l, h
+    ld c, h
+    ld c, h
+    ld c, [hl]
+    ld c, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    inc c
+    inc c
+
+DataVector_Handler_7:
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+    ld h, b
+    ld h, b
+    ld a, h
+    ld a, h
+    ld c, $0e
+    ld c, [hl]
+    ld c, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, b
+    ld h, b
+    ld a, h
+    ld a, h
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    ld b, $06
+    inc c
+    inc c
+    jr PaddingZone_002_50c4
+
+    jr c, PaddingZone_002_50e6
+
+    jr c, PaddingZone_002_50e8
+
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld c, [hl]
+    ld c, [hl]
+    inc a
+    inc a
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_50c4:
+    inc a
+    inc a
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld a, $3e
+    ld c, $0e
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+
+PaddingZone_002_50e6:
+    ld h, [hl]
+    ld h, [hl]
+
+PaddingZone_002_50e8:
+    ld a, h
+    ld a, h
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld a, h
+    ld a, h
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld a, h
+    ld a, h
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    ld h, b
+    ld h, b
+    ld a, h
+    ld a, h
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld a, h
+    ld a, h
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld h, b
+    ld h, b
+    ld l, [hl]
+    ld l, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld a, $3e
+    nop
+    nop
+    nop
+    nop
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    jr ConstTableB_Entry1
+
+    jr ConstTableB_Entry2
+
+    jr ConstTableB_Entry3
+
+    jr ConstTableB_Entry4
+
+    inc a
+    inc a
+    nop
+    nop
+    rst $38
+    rst $38
+    ldh [hVramPtrLow], a
+    rst $08
+    ret nz
+
+    sbc b
+    add a
+    or a
+    adc a
+    xor a
+    sbc a
+    xor a
+    sbc a
+
+ConstTableB_Entry1:
+    xor a
+    sbc a
+
+ConstTableB_Entry2:
+    nop
+    nop
+
+ConstTableB_Entry3:
+    ld h, [hl]
+    ld h, [hl]
+
+ConstTableB_Entry4:
+    ld l, h
+    ld l, h
+    ld a, b
+    ld a, b
+    ld a, b
+    ld a, b
+    ld l, h
+    ld l, h
+    ld h, [hl]
+    ld h, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld b, [hl]
+    ld b, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld d, [hl]
+    ld d, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    nop
+    nop
+    nop
+    nop
+    ld b, [hl]
+    ld b, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    halt
+    halt
+    ld e, [hl]
+    ld e, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld a, h
+    ld a, h
+    ld h, b
+    ld h, b
+    ld h, b
+    ld h, b
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, d
+    ld h, d
+    ld h, d
+    ld h, d
+    ld l, d
+    ld l, d
+    ld h, h
+    ld h, h
+    ld a, [hl-]
+    ld a, [hl-]
+    nop
+    nop
+    nop
+    nop
+    ld a, h
+    ld a, h
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld a, h
+    ld a, h
+    ld l, b
+    ld l, b
+    ld h, [hl]
+    ld h, [hl]
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    ld h, b
+    ld h, b
+    inc a
+    inc a
+    ld c, $0e
+    ld c, [hl]
+    ld c, [hl]
+    inc a
+    inc a
+    nop
+    nop
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    jr ControlFlow_Target_1
+
+    jr ControlFlow_Target_2
+
+    jr ControlFlow_Target_3
+
+    jr ControlFlow_Target_4
+
+    jr ControlFlow_Target_5
+
+    nop
+    nop
+    nop
+    nop
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    inc a
+    inc a
+
+ControlFlow_Target_1:
+    nop
+    nop
+
+ControlFlow_Target_2:
+    nop
+    nop
+
+ControlFlow_Target_3:
+    ld b, [hl]
+    ld b, [hl]
+
+ControlFlow_Target_4:
+    ld b, [hl]
+    ld b, [hl]
+
+ControlFlow_Target_5:
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    inc l
+    inc l
+    jr ControlFlow_Target_6
+
+    nop
+    nop
+    nop
+    nop
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld d, [hl]
+    ld d, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    nop
+    nop
+    rst $38
+    rst $38
+    rlca
+    rrca
+    ei
+    rlca
+
+ControlFlow_Target_6:
+    dec c
+    di
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    nop
+    nop
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    inc a
+    inc a
+    jr ControlFlow_Target_7
+
+    jr ControlFlow_Target_8
+
+    jr ControlFlow_Target_9
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr nc, UnreachableCodeData_002_01
+
+    jr nc, PaddingZone_002_52a0
+
+    nop
+    nop
+    xor a
+    sbc a
+
+ControlFlow_Target_7:
+    xor a
+    sbc a
+
+ControlFlow_Target_8:
+    xor a
+    sbc a
+
+ControlFlow_Target_9:
+    xor a
+    sbc a
+    xor a
+    sbc a
+    xor a
+    sbc a
+    xor a
+    sbc a
+    cp a
+    add b
+    nop
+    nop
+    nop
+    nop
+    jr nc, PaddingZone_002_52b8
+
+    jr nc, PaddingZone_002_52ba
+
+    nop
+    nop
+    jr nc, PaddingZone_002_52be
+
+    jr nc, PaddingZone_002_52c0
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr nc, PaddingZone_002_52cc
+
+    jr nc, PaddingZone_002_52ce
+
+UnreachableCodeData_002_01:
+    db $10
+    db $10
+
+PaddingZone_002_52a0:
+    jr nz, PaddingZone_002_52c2
+
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    ld c, $0e
+    inc e
+    inc e
+    jr c, JoypadInputEntry_52e4
+
+    ld [hl], b
+    ld [hl], b
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    inc e
+    inc e
+    inc e
+    inc e
+
+PaddingZone_002_52b8:
+    inc e
+    inc e
+
+PaddingZone_002_52ba:
+    inc e
+    inc e
+    nop
+    nop
+
+PaddingZone_002_52be:
+    inc e
+    inc e
+
+PaddingZone_002_52c0:
+    nop
+    nop
+
+PaddingZone_002_52c2:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc a
+    inc a
+    inc a
+    inc a
+
+PaddingZone_002_52cc:
+    nop
+    nop
+
+PaddingZone_002_52ce:
+    nop
+    nop
+    nop
+    nop
+    jr c, AudioDispatchEntry_530c
+
+    ld a, h
+    ld b, h
+    xor $82
+    adc $8a
+    adc $8a
+    cp $92
+    ld a, h
+    ld b, h
+    jr c, @+$3a
+
+    nop
+    nop
+
+JoypadInputEntry_52e4:
+    nop
+    nop
+    ld b, h
+    ld b, h
+    jr z, AudioDispatchEntry_5312
+
+    db $10
+    db $10
+    jr z, @+$2a
+
+    ld b, h
+    ld b, h
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $28
+    rst $28
+    db $10
+    db $10
+    db $10
+    rst $30
+    db $10
+    rst $30
+    rst $38
+    rst $38
+
+AudioDispatchEntry_530c:
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+
+AudioDispatchEntry_5312:
+    ld a, [hl]
+    ld a, h
+    rst $38
+    cp $ff
+    add d
+    jp $ff82
+
+
+    cp $ff
+    cp $c3
+    add d
+    jp $ff82
+
+
+    cp $ff
+    cp $c3
+    add d
+    jp $ff82
+
+
+    cp $ff
+    cp $c3
+    add d
+    jp $ef82
+
+
+    rst $28
+    db $10
+    db $10
+    db $10
+    rst $30
+    db $10
+    rst $30
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $1c1c
+    ld [hl+], a
+    ld [hl+], a
+    ld c, a
+    ld c, a
+    ld c, e
+    ld c, e
+    ld de, $1111
+    ld de, $0101
+    ld bc, $7001
+    ld [hl], b
+    adc b
+    adc b
+    call nz, StoreAudioState
+    inc h
+    db $10
+    db $10
+    db $10
+
+AudioDataDispatchStart:
+    stop
+    nop
+    nop
+    nop
+    ld bc, $0301
+    inc bc
+    dec b
+
+AudioDataDispatchJump1:
+    dec b
+    add hl, bc
+    add hl, bc
+    ld de, $2111
+    ld hl, $4141
+    add c
+    add c
+    nop
+    ld a, h
+    nop
+    ld b, h
+    nop
+    ld d, h
+    nop
+    jr z, AudioDataDispatchChain1
+
+AudioDataDispatchChain1:
+    jr z, AudioDataDispatchChain2
+
+AudioDataDispatchChain2:
+    jr z, AudioDataDispatchChain3
+
+AudioDataDispatchChain3:
+    jr c, AudioDataDispatchChain4
+
+AudioDataDispatchChain4:
+    nop
+    ld bc, $0201
+    ld [bc], a
+    inc b
+    inc b
+    ld [$1008], sp
+    db $10
+    jr nz, AudioDataDispatchJump2
+
+    ld b, b
+    ld b, b
+    add b
+    add b
+    nop
+    ld a, [hl]
+    jr c, AudioDataDispatchStart
+
+    ld a, h
+    add e
+    ld a, h
+    add e
+    ld a, h
+    add e
+    ld a, h
+    add e
+    jr c, AudioDataDispatchJump1
+
+    nop
+    ld a, [hl]
+    nop
+    nop
+    db $10
+    db $10
+    jr c, PaddingZone_002_53f0
+
+    ld a, h
+    ld a, h
+    nop
+    nop
+    db $10
+    db $10
+
+AudioDataDispatchJump2:
+    jr c, @+$3a
+
+    ld a, h
+    ld a, h
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    inc bc
+    ld bc, $0601
+    ld b, $0a
+    ld a, [bc]
+    inc c
+    inc c
+    jr nc, @+$32
+
+    ld d, b
+    ld d, b
+    ld h, b
+    ld h, b
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    ld [$1800], sp
+    nop
+    inc h
+    nop
+    ld b, h
+    nop
+    sub d
+    nop
+
+PaddingZone_002_53f0:
+    add hl, sp
+    nop
+    add c
+    add c
+    ld b, c
+    ld b, c
+    ld hl, $1121
+    ld de, $0909
+    dec b
+    dec b
+    inc bc
+    inc bc
+    ld bc, $ff01
+    rst $38
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $8001
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    rst $38
+    rst $38
+    ccf
+    ccf
+    ld a, a
+    ld a, a
+    rst $38
+    ret z
+
+    rst $38
+    add c
+    rst $38
+    sub b
+    rst $38
+    call nz, $ffff
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc c
+    inc c
+    db $10
+    db $10
+    jr nz, UnreachableCodeData_002_02
+
+    jr nz, PaddingZone_002_5470
+
+    ld b, b
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ld b, b
+    ld b, b
+    inc h
+    inc h
+    ld a, [de]
+    ld a, [de]
+    ld bc, $0601
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+PaddingZone_002_5469:
+    nop
+    nop
+    nop
+    nop
+    nop
+
+UnreachableCodeData_002_02:
+    add b
+    add b
+
+PaddingZone_002_5470:
+    ld b, b
+    ld b, b
+    ld bc, $0201
+    ld [bc], a
+    inc b
+    inc b
+    rrca
+    ld [$0407], sp
+    inc bc
+    ld [bc], a
+    ld bc, $0001
+    nop
+    add b
+    add b
+    nop
+    nop
+    pop bc
+
+AudioDispatchEntry_5487:
+    nop
+    rst $30
+    nop
+    rst $38
+    nop
+    rst $38
+    ld b, b
+    rst $38
+    db $e3
+    ld a, $3e
+    inc de
+    nop
+    sbc c
+    nop
+    pop bc
+    nop
+    db $e3
+    nop
+    rst $38
+    nop
+    rst $38
+    add b
+    ld a, a
+    ld b, c
+    ld a, $3e
+    ld b, b
+    ld b, b
+    and b
+    jr nz, AudioDispatchEntry_5487
+
+    jr nz, PaddingZone_002_5469
+
+    ld b, b
+    ret nz
+
+    ld b, b
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    rrca
+    rrca
+    ld [de], a
+    ld [de], a
+    ld a, $3e
+    ld [hl+], a
+    ld [hl+], a
+    ld e, e
+    ld e, e
+    ld b, c
+    ld b, c
+    ld h, c
+    ld h, c
+    inc hl
+    inc hl
+    ret nz
+
+    ret nz
+
+    ld h, b
+    ld h, b
+    jr nz, AudioDispatchEntry_54e8
+
+    jr nc, AudioDispatchEntry_54fa
+
+    db $10
+    db $10
+    db $10
+    db $10
+    db $10
+    db $10
+    ldh a, [hCurrentTile]
+    ld a, $3e
+    inc b
+    inc b
+    ld c, $0e
+    db $10
+    db $10
+    ld a, $3e
+    ret nz
+
+    ret nz
+
+    xor b
+    xor b
+    rst $38
+    rst $38
+    ld [$0708], sp
+    rlca
+    nop
+    nop
+
+AudioDispatchEntry_54e8:
+    nop
+    nop
+    rlca
+    rlca
+    jr AudioDispatchEntry_5506
+
+    ld [de], a
+    ld [de], a
+    rst $38
+    rst $38
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    inc c
+    inc c
+    ld [bc], a
+    ld [bc], a
+
+AudioDispatchEntry_54fa:
+    add c
+    add c
+    ld bc, $4101
+    ld b, c
+    cp $fe
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+AudioDispatchEntry_5506:
+    rst $38
+    ret z
+
+    rst $38
+    add c
+    rst $38
+    sub b
+    rst $38
+    call nz, $ffff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    inc de
+    rst $38
+    ld b, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $0101
+    ld bc, $00ff
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    db $fc
+    db $fc
+    cp $fe
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    inc de
+    rst $38
+    ld b, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    jr PaddingZone_002_559e
+
+    inc h
+    inc h
+    ld e, d
+    ld e, d
+    ld e, d
+    ld e, d
+    inc h
+    inc h
+    jr PaddingZone_002_55a8
+
+    nop
+    nop
+    nop
+
+AudioDispatchEntry_5593:
+    nop
+    rst $38
+    rst $38
+    add c
+    add c
+    ld b, d
+    ld b, d
+    inc a
+    inc a
+    nop
+    nop
+
+PaddingZone_002_559e:
+    xor d
+    xor d
+    ld d, l
+    ld d, l
+    ld h, d
+    ld h, d
+    sbc a
+    sbc a
+    ld h, d
+    ld h, d
+
+PaddingZone_002_55a8:
+    nop
+    nop
+    ld a, [hl]
+    ld a, [hl]
+    add c
+    add c
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    or $f6
+    sub l
+    sub l
+    or $f6
+    nop
+    nop
+    ld a, h
+    ld a, h
+    or d
+    or d
+    or a
+    or a
+    ld a, h
+    ld a, h
+    nop
+    nop
+    ld b, e
+    ld b, e
+    ld b, l
+    ld b, l
+    ld c, a
+    ld c, a
+    ld c, c
+    ld c, c
+    ld b, c
+    ld b, c
+    ld a, a
+    ld a, a
+    ld e, a
+    ld e, a
+    nop
+    nop
+    ldh [c], a
+    ldh [c], a
+    ld [de], a
+    ld [de], a
+    sub a
+    sub a
+    sub l
+    sub l
+    push af
+    push af
+    dec h
+    dec h
+    and a
+    and a
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, e
+    ld b, e
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, c
+    ld b, e
+    ld b, e
+    jr nz, DataPatch_2
+
+    jr nz, DataPatch_3
+
+    ld l, a
+    ld l, a
+    jp hl
+
+
+    jp hl
+
+
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld b, [hl]
+    ld c, c
+    ld c, c
+    rst $08
+    rst $08
+    nop
+    nop
+    nop
+    stop
+    jr c, DataPatch_1
+
+DataPatch_1:
+    jr c, JoypadInputEntry_560b
+
+JoypadInputEntry_560b:
+    ld a, h
+    nop
+    ld l, h
+    nop
+    ld l, h
+    nop
+    jr c, AudioDispatchEntry_5593
+
+    add b
+
+DataPatch_2:
+    ld b, b
+    ld b, b
+
+DataPatch_3:
+    jr nz, DataPatch_4
+
+    db $10
+    db $10
+    ld [$0408], sp
+    inc b
+    ld [bc], a
+    ld [bc], a
+    ld bc, $0001
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+
+DataPatch_4:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld [$40ff], sp
+    rst $38
+    ld de, $00ff
+    rst $38
+    nop
+    rst $38
+    rst $38
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    cp e
+    rst $38
+    and e
+    rst $38
+    and e
+    rst $38
+    add a
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    add e
+    add e
+    sbc a
+    sbc a
+    sbc a
+    sbc a
+    sbc a
+    sbc a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    rst $38
+    rst $38
+    ld [hl+], a
+    rst $38
+    ld [hl+], a
+    rst $38
+    ld [hl+], a
+    rst $38
+    rst $38
+    rst $38
+    adc b
+    rst $38
+    adc b
+    rst $38
+    adc b
+    ccf
+    ccf
+    ld a, a
+    ld a, a
+    rst $38
+    ret z
+
+    rst $38
+    add c
+    rst $38
+    sub b
+    rst $38
+    call nz, $ffff
+    rst $38
+    rst $38
+    db $fc
+    db $fc
+    cp $fe
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    inc de
+    rst $38
+    ld b, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, $3e
+    ld h, e
+    ld h, e
+    pop bc
+    pop bc
+    add c
+    add c
+    add e
+    add e
+    add e
+    add e
+    rst $28
+    rst $28
+    ld a, a
+    ld a, a
+    ccf
+    ccf
+    ld a, a
+    ld a, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $30
+    rst $30
+    push de
+    push de
+    ld d, l
+    ld d, l
+    ld d, c
+    ld d, c
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld [hl], a
+    ld [hl], a
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    ld de, $fc11
+    db $fc
+    cp $fe
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld [hl], a
+    ld [hl], a
+    ld d, l
+    ld d, l
+    ld d, l
+    ld d, l
+    inc d
+    inc d
+    rst $38
+    rst $38
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ret z
+
+    rst $38
+    add c
+    rst $38
+    sub b
+    rst $38
+    call nz, $ffff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    daa
+    rst $38
+    inc bc
+    rst $38
+    inc de
+    rst $38
+    ld b, a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    add b
+    rst $38
+    rst $38
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    rst $38
+    rst $38
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $00
+    ccf
+    rst $38
+    rst $38
+    and $1e
+    and $1e
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ccf
+    ccf
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    and $1e
+    and $1e
+    and $1e
+    and $1e
+    db $fc
+    db $fc
+    and $1e
+    and $1e
+    and $1e
+    db $fd
+    db $fd
+    rst $38
+    add [hl]
+    rst $38
+
+Routine_DataProcess_B:
+    add h
+    rst $38
+    add h
+    rst $38
+    add h
+    rst $38
+    add h
+    rst $38
+    add h
+    rst $38
+    add h
+    rst $30
+    rst $30
+    rst $38
+    ld [$08ff], sp
+    rst $38
+    ld [$08ff], sp
+    rst $38
+    ld [$08ff], sp
+    rst $38
+    ld [wGameVarFF], sp
+    rst $38
+    ld h, b
+    rst $38
+    jr nc, @+$01
+
+    db $10
+    rst $38
+    rra
+    rst $38
+    jr @+$01
+
+    jr @+$01
+
+    jr @+$01
+
+    add h
+    rst $38
+    add h
+    rst $38
+    add h
+    add a
+    db $fc
+    add h
+    rst $38
+    db $fc
+    rst $38
+    rst $38
+    rst $38
+    db $fd
+    db $fd
+    rst $38
+    ld [$08ff], sp
+    rst $38
+    ld [$08ff], sp
+    ld [$08ff], sp
+    rst $38
+    rst $38
+    rst $38
+    rst $30
+    rst $30
+    rst $38
+    jr @+$01
+
+    jr @+$01
+
+    jr @+$01
+
+    jr PaddingZone_002_580a
+
+    rst $38
+    ld a, a
+    ldh a, [rIE]
+    ldh [rIE], a
+    ret nz
+
+    cp a
+    cp a
+    rst $38
+    ld h, c
+    rst $38
+    ld hl, $21ff
+    rst $38
+    ld hl, $21ff
+    rst $38
+    ld hl, $21ff
+    rst $38
+    ld hl, $21ff
+    rst $38
+    ld hl, $3fe1
+    ld hl, $3fff
+    rst $38
+    rst $38
+    rst $38
+    cp a
+    cp a
+    ld h, [hl]
+    ld h, [hl]
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    rst $38
+    sbc c
+    ld h, [hl]
+    ld h, [hl]
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+
+PaddingZone_002_580a:
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld de, $1111
+    ld de, $1111
+    ld de, $ff11
+    ld de, $ff11
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    add c
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    jp ComputeAnimationSpeed
+
+
+    jp SpriteAnimationState_CheckAndUpdate
+
+
+    jp SpriteAnimationState_CheckActiveFlag
+
+
+    jp SpriteAnimationState_LoadTileIndex
+
+
+    jp SpriteAnimationState_ValidateAndLoad
+
+
+    jp SpriteAnimationState_LoadPalette
+
+
+; =============================================================================
+; UpdateGameTimersAndAnimation - Met à jour les timers et animations de jeu
+; =============================================================================
+; QUOI : Appelle DecrementGameTimer puis UpdateSpriteAnimationFrame
+; ENTRÉE : Aucune
+; SORTIE : Timers et animations mis à jour
+; =============================================================================
+UpdateGameTimersAndAnimation:
+    call DecrementGameTimer
+    call UpdateSpriteAnimationFrame
+    ret
+
+
+DecrementGameTimer:
+    ld a, [wSpecialState]
+    cp $03
+    ret z
+
+    ld hl, $da00
+    ld a, [hl]
+    dec a
+    ld [hl], a
+    ret nz
+
+    ld a, $28
+    ld [hl], a
+    inc hl
+    ld a, [hl+]
+    ld c, [hl]
+    dec hl
+    sub $01
+    daa
+    ld [hl+], a
+    cp $99
+    jr nz, CounterStateDispatcher
+
+    dec c
+    ld a, c
+    ld [hl], a
+    ret
+
+
+CounterStateDispatcher:
+    ld hl, $da1d
+    cp $50
+    jr z, SetTimerForSpecialCase
+
+    and a
+    ret nz
+
+    or c
+    jr nz, SetTimerForAlternateCase
+
+    ld a, $03
+    ld [hl], a
+    ret
+
+
+SetTimerForSpecialCase:
+    ld a, c
+    and a
+    ret nz
+
+    ld a, $02
+    ld [hl], a
+    ld a, $50
+    ldh [rTMA], a
+    ret
+
+
+SetTimerForAlternateCase:
+    ld a, c
+    cp $01
+    ret nz
+
+    ld a, $01
+    ld [hl], a
+    ld a, $30
+    ldh [rTMA], a
+    ret
+
+
+UpdateSpriteAnimationFrame:
+    ldh a, [hPtrBank]
+    ld b, a
+    and a
+    jp z, ProcessSpriteAnimation
+
+    ld a, [wLevelParam0B]
+    ld l, a
+    ld h, $c0
+    ld de, $0008
+    push hl
+    add hl, de
+    ld a, l
+    ld [wLevelParam0B], a
+    cp $50
+    jr nz, PaddingZone_002_58b1
+
+    ld a, $30
+    ld [wLevelParam0B], a
+
+PaddingZone_002_58b1:
+    pop hl
+    ld c, $20
+    ld d, $f6
+    ld a, l
+    cp $30
+    jr nz, PaddingZone_002_58cd
+
+    ld a, c
+    ld [wLevelParam03], a
+    ld a, d
+    ld [wLevelParam07], a
+    ld a, b
+    cp $c0
+    jr nz, AnimationDispatch_SelectHandler
+
+    ld [wLevelParam0C], a
+    jr AnimationDispatch_SelectHandler
+
+PaddingZone_002_58cd:
+    cp $38
+    jr nz, PaddingZone_002_58e3
+
+    ld a, c
+    ld [wLevelParam04], a
+    ld a, d
+    ld [wLevelParam08], a
+    ld a, b
+    cp $c0
+    jr nz, AnimationDispatch_SelectHandler
+
+    ld [wLevelParam0D], a
+    jr AnimationDispatch_SelectHandler
+
+PaddingZone_002_58e3:
+    cp $40
+    jr nz, PaddingZone_002_58f9
+
+    ld a, c
+    ld [wLevelParam05], a
+    ld a, d
+    ld [wLevelParam09], a
+    ld a, b
+    cp $c0
+    jr nz, AnimationDispatch_SelectHandler
+
+    ld [wLevelParam0E], a
+    jr AnimationDispatch_SelectHandler
+
+PaddingZone_002_58f9:
+    ld a, c
+    ld [wLevelParam06], a
+    ld a, d
+    ld [wLevelParam0A], a
+    ld a, b
+    cp $c0
+    jr nz, AnimationDispatch_SelectHandler
+
+    ld [wLevelParam0F], a
+
+AnimationDispatch_SelectHandler:
+    ldh a, [hPtrHigh]
+    ld [hl+], a
+    ldh a, [hPtrLow]
+    ld [hl+], a
+    ld a, b
+    ld de, $5958
+    cp $01
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $02
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $04
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $05
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $08
+    jr z, AnimationDispatch_SetAndJump
+
+    ld d, $59
+    dec e
+    cp $10
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $20
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $40
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $50
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    cp $80
+    jr z, AnimationDispatch_SetAndJump
+
+    inc d
+    ld e, $5f
+    cp $ff
+    jr z, AnimationDispatch_SetAndJump
+
+    ld de, $f6fe
+
+AnimationDispatch_SetAndJump:
+    ld a, d
+    ld [hl+], a
+    inc hl
+    ldh a, [hPtrHigh]
+    ld [hl+], a
+    ldh a, [hPtrLow]
+    add $08
+    ld [hl+], a
+    ld a, e
+    ld [hl], a
+    xor a
+    ldh [hPtrBank], a
+    ldh [hPtrHigh], a
+    ldh [hPtrLow], a
+    ld a, b
+    ld de, $0100
+    cp $01
+    jr z, AnimationDispatch_SelectPalette
+
+    inc d
+    cp $02
+    jr z, AnimationDispatch_SelectPalette
+
+    inc d
+    inc d
+    cp $04
+    jr z, AnimationDispatch_SelectPalette
+
+    inc d
+    cp $05
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $08
+    cp $08
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $10
+    cp $10
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $20
+    cp $20
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $40
+    cp $40
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $50
+    cp $50
+    jr z, AnimationDispatch_SelectPalette
+
+    ld d, $80
+    cp $80
+    jr z, AnimationDispatch_SelectPalette
+
+    jr SpriteAnimationDispatchEntry
+
+AnimationDispatch_SelectPalette:
+    call AddScore
+
+ProcessSpriteAnimation:
+SpriteAnimationDispatchEntry:
+    ld hl, wSpriteTemp
+
+SpriteAnimationDispatch_ByType:
+    push hl
+    ld a, [hl]
+    and a
+    jp z, ExitSpriteHandler
+
+    ld a, l
+    ld bc, $da06
+    ld de, $da0a
+    ld hl, $da13
+    cp $48
+    jr z, PaddingZone_002_5a05
+
+    dec c
+    dec e
+    dec l
+    cp $40
+    jr z, PaddingZone_002_59f3
+
+    dec c
+    dec e
+    dec l
+    cp $38
+    jr z, PaddingZone_002_59e0
+
+    dec c
+    dec e
+    dec l
+    ld a, [wLevelParam0C]
+    cp $c0
+    jr z, SpriteAnimationMultiplexHandler
+
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    cp $02
+    jp nz, ExitSpriteHandler
+
+    xor a
+    ld [hl], a
+    jr SpriteAnimationMultiplexHandler
+
+PaddingZone_002_59e0:
+    ld a, [wLevelParam0D]
+    cp $c0
+    jr z, SpriteAnimationMultiplexHandler
+
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    cp $02
+    jp nz, ExitSpriteHandler
+
+    xor a
+    ld [hl], a
+    jr SpriteAnimationMultiplexHandler
+
+PaddingZone_002_59f3:
+    ld a, [wLevelParam0E]
+    cp $c0
+    jr z, SpriteAnimationMultiplexHandler
+
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    cp $02
+    jr nz, SpriteAnimationLoopExit
+
+    xor a
+    ld [hl], a
+    jr SpriteAnimationMultiplexHandler
+
+PaddingZone_002_5a05:
+    ld a, [wLevelParam0F]
+    cp $c0
+    jr z, SpriteAnimationMultiplexHandler
+
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    cp $02
+    jr nz, SpriteAnimationLoopExit
+
+    xor a
+    ld [hl], a
+
+SpriteAnimationMultiplexHandler:
+    pop hl
+    push hl
+    dec [hl]
+    inc l
+    inc l
+    inc l
+    inc l
+    dec [hl]
+    dec l
+    dec l
+    ld a, [hl]
+    cp $f6
+    jr c, SpriteAnimationCounterDecrement
+
+    ld a, [de]
+    inc a
+    ld [de], a
+    ld [hl], a
+    cp $f9
+    jr c, SpriteAnimationCounterDecrement
+
+    dec a
+    dec a
+    ld [hl], a
+    cp $f7
+    jr z, SpriteAnimationCounterDecrement
+
+    dec a
+    dec a
+    ld [de], a
+    ld [hl], a
+
+SpriteAnimationCounterDecrement:
+    ld a, [bc]
+    dec a
+    ld [bc], a
+    jr nz, SpriteAnimationLoopExit
+
+    ld a, $20
+    ld [bc], a
+    ld a, $f6
+    ld [de], a
+    xor a
+    ld [hl-], a
+    ld [hl-], a
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    ld [hl+], a
+    ld [hl+], a
+    ld [hl], a
+    ld a, l
+    ld hl, $da0c
+    ld bc, $0004
+    cp $36
+    jr z, SpriteAnimationStatePurge
+
+    inc l
+    cp $3e
+    jr z, SpriteAnimationStatePurge
+
+    inc l
+    cp $46
+    jr z, SpriteAnimationStatePurge
+
+    inc l
+
+SpriteAnimationStatePurge:
+    xor a
+    ld [hl], a
+    add hl, bc
+    ld [hl], a
+
+ExitSpriteHandler:
+SpriteAnimationLoopExit:
+    pop hl
+    ld de, $0008
+    add hl, de
+    ld a, l
+    cp $50
+    jp nz, SpriteAnimationDispatch_ByType
+
+    ret
+
+
+ComputeAnimationSpeed:
+    ld hl, wSpriteTemp
+    ldh a, [rDIV]
+    and FRAME_MASK_4
+    inc a
+    ld b, a
+    ld a, $20
+
+.frequencyCalculationLoop:
+    add $18
+    dec b
+    jr nz, .frequencyCalculationLoop
+
+    ld b, a
+    ld [hl+], a
+    ld a, $10
+    ld c, a
+    ld [hl+], a
+    xor a
+    ld d, a
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, PaddingZone_002_5a93
+
+    ld a, $20
+    ld d, a
+
+PaddingZone_002_5a93:
+    ld a, d
+    ld [hl+], a
+    inc l
+    ld a, b
+    ld [hl+], a
+    ld a, c
+    add $08
+    ld [hl+], a
+    ld a, d
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, b
+    add $08
+    ld b, a
+    ld [hl+], a
+    ld a, c
+    ld [hl+], a
+    ld a, d
+    add $10
+    ld d, a
+    ld [hl+], a
+    inc l
+    ld a, b
+    ld [hl+], a
+    ld a, c
+    add $08
+    ld [hl+], a
+    inc d
+    ld a, d
+    ld [hl], a
+    ld a, $15
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationState_CheckAndUpdate:
+    ld a, [wLevelParam27]
+    bit 0, a
+    jr z, PaddingZone_002_5ac9
+
+    ldh a, [hJoypadState]
+    bit 0, a
+    jp nz, SpriteAnimationState_ResetCounter
+
+PaddingZone_002_5ac9:
+    ld hl, $da22
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    cp $03
+    ret nz
+
+    xor a
+    ld [hl], a
+    ld a, [wLevelParam27]
+    bit 0, a
+    jr z, ProcessAnimationFrame
+
+    ld hl, wSpriteTemp
+    ld b, $04
+    ld a, [hl]
+    cp $80
+    jr z, WriteAnimValue38
+
+UpdateSpritePositionLoop:
+    ld a, $18
+    add [hl]
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    dec b
+    jr nz, UpdateSpritePositionLoop
+
+    jr ProcessAnimationFrame
+
+WriteAnimValue38:
+    ld b, $02
+    ld a, $38
+
+WriteAnimationValueLoop:
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    dec b
+    jr nz, WriteAnimationValueLoop
+
+    ld b, $02
+    ld a, $40
+
+ResetSpriteAnimationLoop:
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    dec b
+    jr nz, ResetSpriteAnimationLoop
+
+ProcessAnimationFrame:
+    ld hl, $98ea
+    ld bc, $0060
+    ld de, $da27
+    ld a, [de]
+    inc a
+    ld [de], a
+    cp $03
+    jr c, AnimationFrameIndexCommit
+
+    add hl, bc
+    cp $05
+    jr c, AnimationFrameIndexCommit
+
+    add hl, bc
+    cp $07
+    jr c, AnimationFrameIndexCommit
+
+    ld hl, $98ea
+    xor a
+    inc a
+    ld [de], a
+
+AnimationFrameIndexCommit:
+    ld a, h
+    ld [wLevelParam18], a
+    ld a, l
+    ld [wLevelParam19], a
+    ld hl, $da23
+    ld a, [de]
+    bit 0, a
+    jr z, SpriteAnimationTiles_Variant1
+
+    ld a, $2e
+    ld [hl+], a
+    ld a, $2f
+    ld [hl+], a
+    ld a, $2f
+    ld [hl+], a
+    ld a, $30
+    ld [hl], a
+    jr SpriteAnimationMergePoint
+
+SpriteAnimationTiles_Variant1:
+    ld a, $2d
+    ld [hl+], a
+    ld a, $2c
+    ld [hl+], a
+    ld a, $2c
+    ld [hl+], a
+    ld a, $2d
+    ld [hl], a
+
+SpriteAnimationMergePoint:
+    ld a, $16
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationState_ResetCounter:
+    xor a
+    ld [wLevelParam22], a
+    ld [wLevelParam27], a
+    ld [wLevelParam1A], a
+    ld a, $17
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationState_CheckActiveFlag:
+    ld hl, $da1c
+    ld a, [hl]
+    and a
+    jr nz, SpriteAnimationTiles_Variant2
+
+    inc [hl]
+    ld hl, $dfe8
+    ld a, $0a
+    ld [hl], a
+
+SpriteAnimationTiles_Variant2:
+    ld hl, wSpriteVar31
+    ld de, $5c9d
+    ld b, $04
+    ld a, [wLevelDifficulty]
+    and a
+    jr z, SpriteAnimationFrameLoad
+
+CountdownAnimationFramesLoop:
+    inc de
+    dec a
+    jr nz, CountdownAnimationFramesLoop
+
+SpriteAnimationFrameLoad:
+    inc [hl]
+    inc l
+    ld a, [de]
+    ld c, a
+    cp $ff
+    jr nz, SpriteAnimationFrameValidation
+
+    ld de, $5c9d
+    xor a
+    ld [wLevelDifficulty], a
+    ld a, [de]
+    ld c, a
+
+SpriteAnimationFrameValidation:
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, PaddingZone_002_5ba0
+
+    ld a, c
+    add $20
+    ld c, a
+
+PaddingZone_002_5ba0:
+    ld a, c
+    ld [hl+], a
+    inc de
+    inc l
+    inc l
+    dec b
+    jr nz, SpriteAnimationFrameLoad
+
+    ld a, [wLevelDifficulty]
+    add $04
+    ld [wLevelDifficulty], a
+    ld hl, wSpriteVar31
+    ld a, [hl-]
+    cp $80
+    jr nc, SetGameStateAnimationComplete
+
+    add $04
+    ldh [hSpriteX], a
+    ld a, [hl]
+    add $10
+    ldh [hSpriteY], a
+    ld bc, $da16
+    ld a, [bc]
+    dec a
+    ld [bc], a
+    ret nz
+
+    ld a, $01
+    ld [bc], a
+    call ReadTileUnderSprite
+    ld a, [hl]
+    cp $2e
+    jr z, SetGameStateCollisionTile1
+
+    cp $30
+    jr z, SetGameStateCollisionTile2
+
+    ret
+
+
+SetGameStateCollisionTile1:
+    ld a, $18
+    ldh [hGameState], a
+    ret
+
+
+SetGameStateCollisionTile2:
+    ld a, $19
+    ldh [hGameState], a
+    ret
+
+
+SetGameStateAnimationComplete:
+    xor a
+    ld [wLevelParam1C], a
+    ld a, $1a
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationState_LoadTileIndex:
+    ld hl, wSpriteTemp
+    ld b, $04
+    ld de, $5c9d
+    ld a, [wLevelDifficulty]
+    and a
+    jr z, SpriteAnimationTileIndexLoad
+
+    ld c, a
+
+SkipAnimationFrames_Loop:
+    inc de
+    dec c
+    jr nz, SkipAnimationFrames_Loop
+
+SpriteAnimationTileIndexLoad:
+    inc [hl]
+    inc l
+    inc l
+    ld a, [de]
+    ld c, a
+    cp $ff
+    jr nz, SpriteAnimationTileValidation
+
+    ld de, $5c9d
+    xor a
+    ld [wLevelDifficulty], a
+    ld a, [de]
+    ld c, a
+
+SpriteAnimationTileValidation:
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, SpriteAnimationPointerValidation
+
+    ld a, c
+    add $20
+    ld c, a
+
+SpriteAnimationPointerValidation:
+    ld a, c
+    ld [hl+], a
+    inc de
+    inc l
+    dec b
+    jr nz, SpriteAnimationTileIndexLoad
+
+    ld a, [wLevelDifficulty]
+    add $04
+    ld [wLevelDifficulty], a
+    ld hl, wSpriteTemp
+    ld a, [hl]
+    cp $50
+    jr z, OnAnimationThresholdReached
+
+    cp $68
+    jr z, OnAnimationThresholdReached
+
+    cp $80
+    jr z, OnAnimationThresholdReached
+
+    ret
+
+
+OnAnimationThresholdReached:
+    ld a, $08
+    ld [wLevelParam16], a
+    ld a, $17
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationState_ValidateAndLoad:
+    ld hl, wSpriteTemp
+    ld b, $04
+    ld de, $5c9d
+    ld a, [wLevelDifficulty]
+    and a
+    jr z, SpriteAnimationCountdown
+
+    ld c, a
+
+CountdownPointerOffsetLoop:
+    inc de
+    dec c
+    jr nz, CountdownPointerOffsetLoop
+
+SpriteAnimationCountdown:
+    dec [hl]
+    inc l
+    inc l
+    ld a, [de]
+    ld c, a
+    cp $ff
+    jr nz, SpriteAnimationDataAdvance
+
+    ld de, $5c9d
+    xor a
+    ld [wLevelDifficulty], a
+    ld a, [de]
+    ld c, a
+
+SpriteAnimationDataAdvance:
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, SpriteAnimationCompletionCheck
+
+    ld a, c
+    add $20
+    ld c, a
+
+SpriteAnimationCompletionCheck:
+    ld a, c
+    ld [hl+], a
+    inc de
+    inc l
+    dec b
+    jr nz, SpriteAnimationCountdown
+
+    ld a, [wLevelDifficulty]
+    add $04
+    ld [wLevelDifficulty], a
+    ld hl, wSpriteTemp
+    ld a, [hl]
+    cp $38
+    jr z, SetState17_AfterAnimation
+
+    cp $50
+    jr z, SetState17_AfterAnimation
+
+    cp $68
+    jr z, SetState17_AfterAnimation
+
+    ret
+
+
+SetState17_AfterAnimation:
+    ld a, $08
+    ld [wLevelParam16], a
+    ld a, $17
+    ldh [hGameState], a
+    ret
+
+
+    ld [bc], a
+    inc bc
+    ld [de], a
+    inc de
+    ld [bc], a
+    inc bc
+    ld [de], a
+    inc de
+    ld [bc], a
+    inc bc
+    ld [de], a
+    inc de
+    ld [bc], a
+    inc bc
+    ld [de], a
+    inc de
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    nop
+    ld bc, $1716
+    nop
+    ld bc, $1716
+    nop
+    ld bc, $1716
+    nop
+    ld bc, $1716
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    inc b
+    dec b
+    inc d
+    dec d
+    rst $38
+
+SpriteAnimationState_LoadPalette:
+    ld a, [wLevelBonus]
+    and a
+    jp nz, SpriteAnimationState_WritePalette
+
+    ld c, $02
+
+CheckAnimationTilesLoop:
+    ld hl, $98d1
+    ld de, $0060
+    ld a, [wSpriteTemp]
+    ld b, a
+    cp $38
+    jr z, CheckAnimTile_Skip50
+
+    ld a, $2c
+    ld [hl+], a
+    ld [hl-], a
+
+CheckAnimTile_Skip50:
+    add hl, de
+    ld a, b
+    cp $50
+    jr z, CheckAnimTile_Skip68
+
+    ld a, $2c
+    ld [hl+], a
+    ld [hl-], a
+
+CheckAnimTile_Skip68:
+    add hl, de
+    ld a, b
+    cp $68
+    jr z, CheckAnimTile_Skip80
+
+    ld a, $2c
+    ld [hl+], a
+    ld [hl-], a
+
+CheckAnimTile_Skip80:
+    add hl, de
+    ld a, b
+    cp $80
+    jr z, SpriteAnimationNextPhase
+
+    ld a, $2c
+    ld [hl+], a
+    ld [hl], a
+
+SpriteAnimationNextPhase:
+    dec c
+    jr nz, CheckAnimationTilesLoop
+
+    ld hl, wSpriteVar31
+    ld a, [hl-]
+    add $18
+    ldh [hSpriteX], a
+    ld a, [hl]
+    add $08
+    ldh [hSpriteY], a
+    call ReadTileUnderSprite
+    ld a, [hl]
+    cp $03
+    jr z, TileTypeDispatchCase_03
+
+    cp $e5
+    jr z, TileTypeDispatchCase_E5
+
+    cp $02
+    jr z, TileTypeDispatchCase_02
+
+    ld a, $02
+    ld [wLevelBonus], a
+
+TileTypeCommonExit:
+    ld hl, $dfe8
+    ld a, $0d
+    ld [hl], a
+    ret
+
+
+TileTypeDispatchCase_02:
+    ld a, $03
+    ld [wLevelBonus], a
+    jr TileTypeCommonExit
+
+TileTypeDispatchCase_03:
+    ld a, $04
+    ld [wLevelBonus], a
+    jr TileTypeCommonExit
+
+TileTypeDispatchCase_E5:
+    ldh a, [hSubState]
+    and a
+    jr z, TileTypeE5_InitPaletteWrite
+
+    ld hl, $dfe8
+    ld a, $0e
+    ld [hl], a
+    ld a, FLAG_TRUE
+    ld [wLevelBonus], a
+    ret
+
+
+TileTypeE5_InitPaletteWrite:
+    ld a, $10
+    ld [wLevelBonus], a
+    jr TileTypeCommonExit
+
+SpriteAnimationState_WritePalette:
+    ld a, [wLevelBonus]
+    cp $10
+    jr nc, SpriteAnimationCleanup
+
+    cp $02
+    jp nc, SpriteAnimationState_FinishPalette
+
+    ld a, [wLevelParam1B]
+    dec a
+    ld [wLevelParam1B], a
+    ret nz
+
+    ld a, $40
+    ld [wLevelParam1B], a
+    xor a
+    ld [wLevelBonus], a
+    ld [wLevelDifficulty], a
+    ld [wLevelParam1C], a
+    ld [wLevelParam1E], a
+    ld [wLevelParam20], a
+    inc a
+    ld [wLevelParam16], a
+    ld a, $40
+    ld [wLevelParam1F], a
+    ld a, $1b
+    ldh [hGameState], a
+    ret
+
+
+SpriteAnimationCleanup:
+    ld a, [wLevelParam1F]
+    dec a
+    ld [wLevelParam1F], a
+    ret nz
+
+    ld a, $03
+    ld [wLevelParam1F], a
+    ld a, [wLevelBonus]
+    inc a
+    ld [wLevelBonus], a
+    cp $28
+    jr z, SpriteAnimationFinalCleanup
+
+    ld a, [wLevelParam1C]
+    and a
+    jr nz, SpriteAnimationTermination
+
+    inc a
+    ld [wLevelParam1C], a
+    ld hl, $dfe0
+    ld a, $04
+    ld [hl], a
+    ldh a, [hTimerAux]
+    cp $02
+    jr z, SpriteAnimationFinalCleanup
+
+SpriteAnimationTermination:
+    ld hl, wSpriteVar32
+    ld b, $04
+    ld a, [wLevelParam1E]
+    and a
+    jr nz, DecrementAndSubtract
+
+    inc a
+    ld [wLevelParam1E], a
+
+AddSpriteOffset20Loop:
+    ld a, [hl]
+    add $20
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    dec b
+    jr nz, AddSpriteOffset20Loop
+
+    ret
+
+
+DecrementAndSubtract:
+    dec a
+    ld [wLevelParam1E], a
+
+SpriteAnimationDispatch_Type2:
+    ld a, [hl]
+    sub $20
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    dec b
+    jr nz, SpriteAnimationDispatch_Type2
+
+    ret
+
+
+SpriteAnimationFinalCleanup:
+    ld a, FLAG_TRUE
+    ld [wLevelBonus], a
+    inc a
+    ldh [hTimerAux], a
+    ldh [hSubState], a
+    ret
+
+
+SpriteAnimationState_FinishPalette:
+    ld a, [wLevelParam1F]
+    dec a
+    ld [wLevelParam1F], a
+    ret nz
+
+    ld a, $04
+    ld [wLevelParam1F], a
+    ld a, [wLevelParam20]
+    and a
+    jr nz, SpriteAnimationState_UpdateAnimCounters
+
+    ld hl, wSpriteTemp
+    ld a, $38
+    ld b, a
+    ld [hl+], a
+    ld a, $58
+    ld c, a
+    ld [hl+], a
+    inc l
+    inc l
+    ld a, b
+    ld [hl+], a
+    ld a, c
+    add $08
+    ld [hl+], a
+    inc l
+    inc l
+    ld a, b
+    add $08
+    ld b, a
+    ld [hl+], a
+    ld a, c
+    ld [hl+], a
+    inc l
+    inc l
+    ld a, b
+    ld [hl+], a
+    ld a, c
+    add $08
+    ld [hl+], a
+    xor a
+    inc a
+    ld [wLevelParam20], a
+    ret
+
+
+SpriteAnimationState_UpdateAnimCounters:
+    ld hl, wSpriteTemp
+    ld a, [wLevelParam21]
+    cp $02
+    jp z, SpriteAnimationState_IncrementCounter
+
+    and a
+    jr nz, IncrementAnimationCounters
+
+    ld a, [hl]
+    dec a
+    ld [hl+], a
+    inc l
+    ld a, $08
+    ld b, a
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, WriteSpriteValuesLoop
+
+    ld a, b
+    add $20
+    ld b, a
+
+WriteSpriteValuesLoop:
+    ld a, b
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    dec a
+    ld [hl+], a
+    inc l
+    ld a, b
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    dec a
+    ld [hl+], a
+    inc l
+    ld a, b
+    add $10
+    ld b, a
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    dec a
+    ld [hl+], a
+    inc l
+    ld a, b
+    inc a
+    ld [hl], a
+    ld a, [wLevelParam20]
+    inc a
+    ld [wLevelParam20], a
+    cp $06
+    ret nz
+
+    ld hl, $dfe0
+    ld a, $08
+    ld [hl], a
+    ld a, [wLivesCounter]
+    and a
+    cp $99
+    jr nc, AnimationCycleMarked
+
+    add $01
+    daa
+    ld [wLivesCounter], a
+    ld de, VRAM_LIVES_DISPLAY
+    ld a, [wLivesCounter]
+    ld b, a
+    and $0f
+    ld [de], a
+    dec e
+    ld a, b
+    and $f0
+    swap a
+    ld [de], a
+
+AnimationCycleMarked:
+    ld a, FLAG_TRUE
+    ld [wLevelParam20], a
+    ld [wLevelParam21], a
+    ret
+
+
+IncrementAnimationCounters:
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    inc l
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl], a
+    ld a, [wLevelParam20]
+    inc a
+    ld [wLevelParam20], a
+    cp $05
+    ret nz
+
+    ld hl, $dfe0
+    ld a, $02
+    ld [wLevelParam21], a
+    ret
+
+
+SpriteAnimationState_IncrementCounter:
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    xor a
+    ld b, a
+    ldh a, [hTimerAux]
+    cp $02
+    jr nz, WriteSpriteValuesLoop2
+
+    ld a, b
+    add $20
+    ld b, a
+
+WriteSpriteValuesLoop2:
+    ld a, b
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, b
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, b
+    add $10
+    ld b, a
+    ld [hl+], a
+    inc l
+    ld a, [hl]
+    inc a
+    ld [hl+], a
+    inc l
+    ld a, b
+    inc a
+    ld [hl], a
+    xor a
+    ld [wLevelParam20], a
+    ld [wLevelParam21], a
+    ld a, [wLevelBonus]
+    dec a
+    ld [wLevelBonus], a
+    ret
+
+
+    ld [hl], d
+    adc d
+    dec a
+    cp $09
+    jr nc, @-$6e
+
+    add d
+    add d
+    add d
+    sub e
+    ld l, a
+    adc e
+    dec a
+    cp $02
+    adc l
+    sub c
+    ld [hl], $50
+    ld h, b
+    ld [hl], b
+    add b
+    adc c
+    dec a
+    cp $02
+    adc [hl]
+    ld b, c
+    ld [hl], $51
+    ld h, c
+    ld [hl], c
+    add b
+    adc d
+    dec a
+    cp $02
+    adc a
+    ld b, c
+    ld [hl], $52
+    ld h, d
+    ld [hl], d
+    add b
+    adc e
+    dec a
+    pop hl
+    ld a, $fe
+    rlca
+    ld sp, $4333
+    ld d, e
+    ld h, e
+    ld [hl], e
+    add b
+    add d
+    dec a
+    dec e
+    pop hl
+    ld bc, $07fe
+    ld sp, $4434
+    ld d, h
+    ld h, h
+    ld [hl], h
+    add b
+    add d
+    dec a
+    jr @-$4d
+
+    inc e
+    pop hl
+    add hl, bc
+    cp $07
+    ld sp, $4535
+    ld d, l
+    ld h, l
+    ld [hl], l
+    add b
+    add d
+    dec a
+    add hl, de
+    or c
+    dec e
+    pop hl
+    ld [$0afe], sp
+    add h
+    ld [hl], $46
+    ld d, [hl]
+    ld h, [hl]
+    halt
+    adc b
+    add d
+    dec a
+    add hl, hl
+    or c
+    ld a, [bc]
+    pop hl
+    add hl, bc
+    cp $07
+    add l
+    scf
+    ld b, a
+    ld d, a
+    ld h, a
+    ld [hl], a
+    add b
+    add c
+    dec a
+    or c
+    dec de
+    cp $07
+    add l
+    jr c, DataZone_5fde
+
+    ld e, b
+    ld l, b
+    ld a, b
+    add b
+    add c
+    dec a
+    or c
+    dec e
+    pop hl
+    ld c, [hl]
+    cp $09
+    add [hl]
+    add hl, sp
+    ld c, c
+    ld e, c
+    ld l, c
+    ld a, c
+    add a
+    add e
+    dec a
+    pop hl
+    ld c, a
+    cp $07
+    ld sp, $4a3a
+    ld e, d
+    ld l, d
+    ld a, d
+    add b
+    add c
+    dec a
+    pop hl
+    ld e, h
+    cp $07
+    ld sp, $4b3b
+    ld e, e
+    ld l, e
+    ld a, e
+    add b
+    add c
+    dec a
+    pop hl
+    ld e, l
+    cp $02
+    ld sp, $4341
+    ld l, h
+    ld a, h
+    add b
+    add c
+    dec a
+    pop hl
+    ld e, [hl]
+    cp $02
+    ld sp, $4341
+    ld l, l
+    ld a, l
+    add b
+    add c
+    dec a
+    pop hl
+
+DataZone_5fde:
+    ld e, a
+    cp $02
+    ld sp, $4341
+    ld l, [hl]
+    ld a, [hl]
+    add b
+    add c
+    dec a
+    cp $02
+    ld sp, $5292
+    ld a, a
+    add b
+    add c
+    dec a
+    cp $09
+    ld [hl-], a
+    ld b, d
+    add e
+    add e
+    add e
+    add e
+    add c
+    adc c
+    dec a
+    cp $72
+    adc d
+    dec a
+    cp $0c
+    rrca
+    nop
+    rrca
+    rrca
+    add b
+    inc de
+    inc c
+    add h
+    ld hl, $000c
+    dec h
+    inc c
+    add h
+    jr z, UnreachableCodeData_002_03
+
+    nop
+    add hl, hl
+    inc b
+    nop
+
+UnreachableCodeData_002_03:
+    ld a, [hl+]
+    ld b, $84
+    dec l
+    adc e
+    adc [hl]
+    ld [hl-], a
+    rrca
+    add h
+    dec sp
+    rrca
+    inc b
+    inc a
+    rrca
+    add h
+    dec a
+    rrca
+    add h
+    ld b, b
+    inc bc
+    adc [hl]
+    ld b, d
+    rrca
+    adc [hl]
+    ld b, [hl]
+    adc l
+    add h
+    ld c, a
+    rrca
+    nop
+    ld d, d
+    inc b
+    adc [hl]
+    ld d, d
+    adc a
+    ld c, $53
+    adc l
+    add h
+    ld d, l
+    rrca
+    nop
+    ld d, a
+    inc c
+    add h
+    ld e, l
+    inc c
+    nop
+    ld e, [hl]
+    adc h
+    add b
+    ld h, b
+    inc c
+    add b
+    ld h, d
+    inc c
+    nop
+    ld h, h
+    rrca
+    nop
+    ld l, c
+    rrca
+    nop
+    ld l, l
+    rrca
+    add h
+    ld [hl], l
+    rrca
+    ld c, $78
+    rrca
+    add h
+    ld a, d
+    rrca
+    ld c, $80
+    inc c
+    add h
+    add c
+    ld [$89bf], sp
+    inc bc
+    adc [hl]
+    adc [hl]
+    add a
+    ld a, [bc]
+    sub d
+    add h
+    dec bc
+    rst $38
+    rst $38
+    ld c, $0c
+    add h
+    db $10
+    ld a, [bc]
+    add h
+    ld de, $c205
+    inc de
+    ld [$1500], sp
+    ld b, $c2
+    rla
+    ld [$1842], sp
+    ld [$1a84], sp
+    rlca
+    jp nz, InitAttractModeDisplay_CheckTimer
+
+    ld b, d
+    ld e, $08
+    jp nz, AnimTransitionTableData
+
+    inc b
+    inc h
+    ld a, [bc]
+    inc b
+    daa
+    ld [$2f84], sp
+    inc b
+    inc b
+    cpl
+    ld [$3084], sp
+    ld [$3400], sp
+    add l
+    ld a, [bc]
+    scf
+    adc d
+    ld a, [bc]
+    add hl, sp
+    inc b
+    jp nz, $083e
+
+    add h
+    ccf
+    ld [$42c2], sp
+    rlca
+    jp nz, $0644
+
+    ld b, d
+    ld b, a
+    ld b, $42
+    ld c, c
+    inc b
+    jp nz, $084b
+
+    add h
+    ld c, h
+    rlca
+    jp nz, $054e
+
+    ld b, d
+    ld d, b
+    ld [$5342], sp
+    rrca
+    add h
+    ld e, b
+    inc c
+    nop
+    ld e, c
+    adc c
+    nop
+    ld e, l
+    adc b
+    ld a, [bc]
+    ld h, b
+    inc b
+    ld a, [bc]
+    ld h, d
+    adc c
+    ld a, [bc]
+    ld h, a
+    inc b
+    jp nz, $8b68
+
+    inc b
+    ld l, e
+    inc b
+    ld b, d
+    ld l, h
+    ld [$7484], sp
+    ld a, [bc]
+    dec bc
+    ld a, [hl]
+    inc c
+    add h
+    ld a, a
+    ld a, [bc]
+    ld b, d
+    add c
+    ld b, $42
+    add h
+    rlca
+    ld a, [bc]
+    add a
+    add l
+    ld [hl], $88
+    dec b
+    ld [hl], $ff
+    dec c
+    ld c, l
+    ld [bc], a
+    rrca
+    ld a, [bc]
+    add h
+    inc de
+    rrca
+    add h
+    dec de
+    ld b, $0c
+    inc e
+    ld b, $0c
+    dec e
+    ld c, a
+    ld [bc], a
+    rra
+    dec c
+    add b
+    inc h
+    ld c, a
+    ld [bc], a
+    daa
+    ld c, a
+    add d
+    jr z, PaddingZone_002_6121
+
+    adc h
+    jr z, SpriteAnimationPhysicsHandler
+
+    ld [bc], a
+    ld a, [hl+]
+    rrca
+
+PaddingZone_002_6121:
+    add h
+    cpl
+    ld [$308c], sp
+    ld [$310c], sp
+    ld [$328c], sp
+    adc $02
+    dec [hl]
+    dec bc
+    add h
+    scf
+    ld c, h
+    ld [bc], a
+    add hl, sp
+    call Routine_DataProcess_A
+    inc b
+    inc c
+    ld b, c
+    inc b
+    inc c
+    ld b, d
+    adc l
+    cp a
+    ld c, d
+    dec bc
+    cp a
+    ld c, h
+    adc l
+    ccf
+    ld d, c
+    inc b
+    adc h
+    ld d, d
+    inc b
+    adc h
+    ld d, h
+    ld b, h
+    add d
+    ld d, l
+    add l
+    adc h
+    ld e, [hl]
+    inc c
+    inc b
+    ld e, [hl]
+    ld c, $80
+    ld h, c
+    add h
+    adc h
+    ld h, d
+    add h
+    adc h
+    ld h, l
+    add h
+    inc c
+    ld h, [hl]
+    add h
+    inc c
+    ld h, a
+    add h
+    inc c
+    ld l, c
+    db $10
+    add h
+    ld l, a
+
+SpriteAnimationPhysicsHandler:
+    ld a, [bc]
+    cp a
+    ld [hl], l
+    adc l
+    ld [hl], $76
+    dec c
+    ld [hl], $76
+    adc l
+    ld [hl], $77
+    dec c
+    ld [hl], $77
+    adc l
+    ld [hl], $7d
+    adc [hl]
+    ccf
+    add b
+    dec c
+    cp a
+    add a
+    adc [hl]
+    cp a
+    adc d
+    dec c
+    ccf
+    adc l
+    dec b
+    adc h
+    sub d
+    dec c
+    ld [$ffff], sp
+    dec d
+    ld e, a
+    cp [hl]
+    ld h, d
+    rla
+    ld l, b
+    rst $00
+    ld l, b
+    cp [hl]
+    ld h, d
+    nop
+    ld h, d
+    cp [hl]
+    ld h, d
+    add c
+    ld h, e
+    ld e, a
+    ld h, h
+    cp [hl]
+    ld h, d
+    dec c
+    ld h, l
+    cp [hl]
+    ld h, d
+    nop
+    ld h, d
+    add c
+    ld h, e
+    nop
+    ld h, d
+    cp [hl]
+    ld h, d
+    sbc $65
+    or l
+    ld h, [hl]
+    cp e
+    ld h, a
+    rst $38
+    cp [hl]
+    ld h, d
+    rla
+    ld l, b
+    rst $00
+    ld l, b
+    and [hl]
+    ld l, c
+    ld h, c
+    ld l, d
+    inc hl
+    ld l, e
+    ld h, c
+    ld l, d
+    push af
+    ld l, e
+    xor e
+    ld l, h
+    inc hl
+    ld l, e
+    inc hl
+    ld l, e
+    add hl, hl
+    ld l, l
+    xor l
+    ld l, l
+    push af
+    ld l, e
+    xor e
+    ld l, h
+    and [hl]
+    ld l, c
+    cp e
+    ld h, a
+    rst $38
+    cp [hl]
+    ld h, d
+    jp z, $9f76
+
+    ld [hl], a
+    cpl
+    ld l, [hl]
+    ld hl, $f26f
+    ld l, a
+    ldh a, [c]
+    ld l, a
+    db $fd
+    ld [hl], b
+    ld hl, $2f6f
+    ld l, [hl]
+    cpl
+    ld l, [hl]
+    ld d, e
+    ld [hl], d
+    ldh a, [c]
+    ld [hl], d
+    ldh [$ff73], a
+    ret z
+
+    ld [hl], h
+    add a
+    ld [hl], c
+    add a
+    ld [hl], c
+    add $75
+    rst $38
+    nop
+    ld [bc], a
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    add c
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    call nz, ProcessInputState_Bank2_Part1
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    call nz, ProcessInputState_Bank2_Part2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    pop bc
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub a
+    ld [hl-], a
+    ld d, d
+    inc [hl]
+    ld d, d
+    ld d, d
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub d
+    inc sp
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    add c
+    add c
+    ld e, [hl]
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld e, [hl]
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, h
+    and c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, c
+    ld b, l
+    or c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, d
+    ld b, [hl]
+    pop bc
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, e
+    ld b, a
+    db $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    db $d3
+    ld [hl], $60
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    call nz, ProcessInputState_Bank2_Part1
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld [hl], $71
+    ld [hl], e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or d
+    ld [hl], $5e
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub d
+    add c
+    ld [hl], $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld [hl], $c4
+    ld [hl-], a
+    ld sp, $6160
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld [hl], $c1
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld e, [hl]
+    or l
+    ld [hl-], a
+    ld sp, $6031
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld e, [hl]
+    or c
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $9144
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    and c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    or c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    pop bc
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    db $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld d, d
+    ld d, d
+    ld d, d
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld [hl], $60
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld e, [hl]
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld [hl], $60
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld e, [hl]
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add c
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add d
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add c
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add d
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+
+Routine_DataProcess_H:
+    ld b, b
+    ld [hl], c
+    add c
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld a, c
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld a, c
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld h, b
+    add sp, -$18
+    add sp, $61
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add d
+    ldh [c], a
+    ld h, b
+    ld h, c
+
+Routine_DataProcess_C:
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add d
+    call nz, AnimFrameDataLookup
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add d
+    and c
+    add c
+    pop bc
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add b
+    or l
+    ld [hl-], a
+    ld sp, $6031
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add d
+    or c
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add d
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    scf
+    db $fd
+    db $f4
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    db $fd
+    ld d, b
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    db $fd
+    ld d, d
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    add d
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    add c
+    and c
+    add d
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    add d
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+
+Routine_DataProcess_I:
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    db $d3
+    ld [hl], $60
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    pop bc
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub d
+    ld [hl], $7f
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld [hl], $a1
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, d
+    add c
+    ld [hl], $a1
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    add c
+    and c
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $03
+    ld d, e
+    ld b, b
+    add c
+    ld d, d
+    ld [hl], $81
+    and c
+    ld a, a
+
+Routine_DataProcess_D:
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $03
+    ld d, e
+    ld b, b
+    add c
+    ld d, d
+    ld e, [hl]
+    add c
+    and c
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    add c
+    and c
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, d
+    add c
+    ld e, [hl]
+    and c
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld e, [hl]
+    and c
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub d
+    ld e, [hl]
+    ld a, a
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    ld e, [hl]
+    call nz, AnimFrameDataLookup
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or d
+    ld e, [hl]
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $b544
+    ld [hl-], a
+    inc a
+    ld sp, $6160
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    or c
+    inc sp
+    db $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    ldh [c], a
+    db $fd
+    ld d, b
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld [hl-], a
+    ld sp, $6031
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    inc sp
+    db $d3
+    ld [hl], $60
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld [hl-], a
+    ld sp, $3134
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and d
+    inc sp
+    ld [hl], $e2
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld e, [hl]
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    or d
+    ld [hl], $5e
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    ld [hl], $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld [hl], $e2
+    db $fd
+    ld d, b
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld [hl], $e2
+    db $fd
+    ld d, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    ld [hl], $a6
+    ld c, b
+    ld c, d
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    ld [hl], $a6
+    ld c, c
+    ld c, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+
+DataZone_665a:
+    ld e, [hl]
+    or l
+    ld c, h
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+
+Routine_DataProcess_E:
+    ld e, [hl]
+    call nz, $6363
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld e, [hl]
+    call nz, $6363
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld e, [hl]
+    or l
+
+DataZone_667e:
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld e, [hl]
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add d
+    and [hl]
+    ld e, [hl]
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add d
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    add b
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $b544
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    or c
+    ld [hl], $e2
+    db $fd
+    ld d, b
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    and c
+    ld [hl], $e2
+    db $fd
+    ld d, d
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    sub c
+    ld [hl], $d3
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld [hl], $c4
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld [hl], $c4
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, c
+    ld [hl], $a6
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    ld [hl], $92
+    db $fd
+    ld h, e
+    call nz, $6363
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    ld e, [hl]
+    sub a
+    ld h, e
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld h, d
+    ld e, [hl]
+    ld h, e
+    sub d
+    db $fd
+    ld h, e
+    call nz, $6363
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld l, d
+    ld h, e
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld e, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld e, [hl]
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld c, h
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    dec [hl]
+    db $fd
+    ld h, e
+    sub a
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $00
+    ld d, e
+    ld b, b
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    db $f4
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $08
+    ld d, e
+    ld b, b
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    sub a
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    db $d3
+    ld e, [hl]
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or c
+    db $f4
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    adc [hl]
+    pop af
+    adc a
+    cp $00
+    inc de
+    inc h
+    adc a
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    inc de
+    inc h
+    adc [hl]
+    cp $00
+    ld hl, $8e39
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    ld hl, $8f39
+    cp $00
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    call nz, Bank2EndPadding
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    or l
+    db $f4
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    call nz, Bank2EndPadding
+    cp $01
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $c4
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    ld a, a
+    cp $c4
+    ld [hl], l
+    ld a, b
+    ld a, a
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld a, a
+    cp $00
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld a, a
+    ld a, a
+    cp $00
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $c1
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $08
+    db $fd
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $74f4
+    db $fd
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld d, c
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld d, c
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld d, c
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld d, c
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    inc sp
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    add c
+    db $f4
+    and c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    inc sp
+    ld [hl], l
+    ld a, b
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $06
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    pop bc
+    db $f4
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $00
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    db $fd
+    ld d, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, h
+    or l
+    ld [hl-], a
+    ld sp, $6031
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, c
+    ld b, l
+    or c
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, d
+    ld b, [hl]
+    adc b
+    ld [hl-], a
+    ld sp, $3131
+    ld sp, $6031
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, e
+    ld b, a
+    adc b
+    inc sp
+    ld [hl-], a
+    ld sp, $3131
+    ld sp, $6160
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    inc sp
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld h, b
+    ld h, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    db $fd
+    ld d, b
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $b544
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    or l
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    or c
+    ld l, c
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    ld [hl], c
+    ld l, b
+    or c
+    ld l, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    db $f4
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    db $f4
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $71f4
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7981
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $71f4
+    ld l, d
+    pop af
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    or c
+    ld l, b
+    pop hl
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    or c
+    ld l, c
+    pop hl
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    ld l, c
+    ldh [c], a
+    ld [hl], $5e
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    or d
+    ld l, c
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    or d
+    ld l, c
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, h
+    or c
+    ld l, d
+    pop de
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, c
+    ld b, l
+    sub c
+    ld l, b
+    pop hl
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, d
+    ld b, [hl]
+    sub c
+    ld l, c
+    pop af
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl-], a
+    ld b, e
+    ld b, a
+    sub c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    db $f4
+    sub a
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    sub c
+    ld l, c
+    pop af
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    sub c
+    ld l, c
+    pop hl
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    sub c
+    ld l, d
+    pop de
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, b
+    pop de
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $79f4
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, d
+    pop af
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    ldh [c], a
+    ld [hl-], a
+    ld sp, $02fe
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    pop hl
+    inc sp
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+
+DataZone_6b63:
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7944
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    ld a, c
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    ld [hl], c
+    ld l, c
+    pop hl
+    ld [hl], $fe
+    inc b
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    ld [hl], c
+    ld l, c
+    pop hl
+    ld e, [hl]
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    ld [hl], c
+    ld l, c
+    ldh [c], a
+    ld [hl], $5e
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    pop de
+    ld [hl], $f1
+    ld [hl-], a
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    pop de
+    ld e, [hl]
+    pop af
+    inc sp
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    or l
+    ld [hl-], a
+    ld sp, $3c31
+    ld sp, $02fe
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, d
+    or c
+    inc sp
+    pop af
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    db $f4
+    ld [hl], c
+    db $f4
+    sub c
+    db $f4
+    pop hl
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld l, c
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    ld l, b
+    pop hl
+    ld l, d
+    cp $02
+    ld d, e
+    ld b, b
+    and c
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, b
+    and c
+    ld l, c
+    pop af
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    and c
+    ld l, d
+    pop hl
+    ld [hl], $fe
+    ld [bc], a
+    ld d, e
+    ld b, b
+    ld sp, $7181
+    ld l, c
+    pop hl
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7182
+    ld l, c
+    ldh [c], a
+    ld [hl], $5e
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7981
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7182
+    ld l, c
+    or d
+    ld e, a
+    ld [hl], $e1
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7181
+    ld l, c
+    and [hl]
+    ld [hl-], a
+    ld d, d
+    inc a
+    ld d, d
+    ld l, c
+    ld d, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, c
+    and c
+    inc sp
+    db $d3
+    ld e, [hl]
+    ld l, c
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, d
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    or c
+    add c
+    ldh [c], a
+    ld l, d
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    ld [hl], c
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $7944
+    ld l, c
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    scf
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    ld [hl], c
+    ld l, d
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    cp $02
+    ld d, e
+    ld b, b
+    call nz, AnimFrameDataLookup
+    ld sp, $fe31
+    ld [bc], a
+    ld d, e
+    ld b, b
+    pop bc
+    inc sp
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld [hl-], a
+    ld sp, $02fe
+    ld d, e
+    ld b, b
+    pop hl
+    inc sp
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    db $f4
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    db $f4
+    cp $02
+    ld d, e
+    ld b, b
+    ld b, c
+    db $f4
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld a, a
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld a, a
+    cp $02
+    ld d, e
+    ld b, b
+    add c
+    ld a, a
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $fef4
+    ld [bc], a
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $e1f4
+    ld l, b
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld l, c
+    scf
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, c
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld l, d
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $fe44
+    inc b
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    pop af
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    db $d3
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    call nz, Routine_DataProcess_H
+    cp $02
+    ld d, e
+    ld b, b
+    or l
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    and [hl]
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    sub a
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    ld d, c
+    add c
+    sub a
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    sub a
+    db $fd
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    ld sp, $a644
+    db $fd
+    ld h, e
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    or l
+    db $fd
+    ld h, e
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    pop af
+    ld [hl], $fe
+    inc b
+    ld d, e
+    ld b, b
+    ld b, c
+    ld b, l
+    db $d3
+    db $fd
+    ld h, e
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, d
+    ld b, [hl]
+    db $d3
+    ld [hl], $63
+    ld h, e
+    cp $04
+    ld d, e
+    ld b, b
+    ld b, e
+    ld b, a
+    pop bc
+    ld [hl], $f1
+    ld h, e
+    cp $02
+    ld d, e
+    ld b, b
+    pop bc
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    pop de
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    pop hl
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    pop af
+    ld e, [hl]
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    ldh [c], a
+    ld [hl-], a
+    ld sp, $02fe
+    ld d, e
+    ld b, b
+    ldh [c], a
+    inc sp
+    ld [hl-], a
+    cp $02
+    ld d, e
+    ld b, b
+    pop af
+    inc sp
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $02
+    ld d, e
+    ld b, b
+    cp $0b
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $0b
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $06
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld e, c
+    ld e, e
+    sub c
+    ld e, a
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $06
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld e, d
+    ld e, h
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+
+Routine_DataProcess_J:
+    cp $05
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld h, [hl]
+    ld d, l
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld b, c
+    ld d, [hl]
+    ld h, d
+    ld e, l
+    dec [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld b, c
+    ld d, a
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld h, [hl]
+    ld b, d
+    ld e, b
+    dec hl
+    and c
+    add c
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld b, d
+    ld e, c
+    ld e, e
+    and c
+    add d
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld b, d
+    ld e, d
+    ld e, h
+    and c
+    add c
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld b, d
+    ld d, a
+    ld d, l
+    sub d
+    ld e, a
+    add d
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $02
+    ld h, [hl]
+    ld l, l
+    and c
+    add c
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld b, d
+    ld d, [hl]
+    ld d, a
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $02
+    ld l, [hl]
+    ld l, l
+    ld b, c
+    dec hl
+    call nz, Routine_DataProcess_D
+    ld l, [hl]
+    ld l, l
+    cp $02
+    ld l, l
+    ld l, [hl]
+    ld b, c
+    ld d, l
+    ld h, d
+    ld e, l
+    dec [hl]
+    call nz, Routine_DataProcess_E
+    ld l, l
+    ld l, [hl]
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld b, c
+    ld d, a
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld h, l
+    ld b, d
+    jr c, @+$2d
+
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $06
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld h, l
+    jr c, SkipLoadPathway
+
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $09
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld h, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ld h, l
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $09
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $04
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld h, [hl]
+    ld d, c
+    ld d, a
+    ldh [c], a
+    ld h, l
+    ld c, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, c
+    ld d, l
+    or l
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld l, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, c
+    ld d, l
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, c
+    ld e, b
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld b, e
+    dec hl
+
+SkipLoadPathway:
+    dec hl
+    ld d, [hl]
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, c
+    dec h
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, c
+    ld d, a
+    and [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    and [hl]
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    sub a
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    sub a
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, c
+    ld d, a
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, c
+    ld e, b
+    pop hl
+    ld h, l
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    and [hl]
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld l, [hl]
+    ld h, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, c
+    ld d, l
+    and [hl]
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, c
+    ld d, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, c
+    ld d, a
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $04
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld h, l
+    ld d, c
+    ld e, b
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $06
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, [hl]
+    call nz, Routine_DataProcess_D
+    ld l, l
+    ld l, [hl]
+    cp $06
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld e, b
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $05
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld h, d
+    ld e, l
+    dec [hl]
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $06
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, [hl]
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $16
+    ld l, [hl]
+
+UnreachableCodeData_002_04:
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld e, c
+    ld e, e
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $07
+    db $f4
+    ld l, l
+
+UnreachableCodeData_002_05:
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld e, d
+    ld e, h
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $06
+    db $f4
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    dec hl
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $06
+    db $f4
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    add hl, hl
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $07
+    db $f4
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, l
+    jr c, UnreachableCodeData_002_04
+
+    ld h, l
+    ld l, l
+    ld l, l
+    ld l, [hl]
+    cp $07
+    db $f4
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, a
+    jr c, UnreachableCodeData_002_05
+
+    ld h, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, l
+    cp $07
+    db $f4
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $06
+    db $f4
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, l
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $06
+    db $f4
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, a
+    call nz, ProcessInputState_Bank2_Part1
+    ld l, l
+    ld l, [hl]
+    cp $06
+    db $f4
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    dec hl
+    call nz, ProcessInputState_Bank2_Part2
+    ld l, [hl]
+    ld l, l
+    cp $05
+    db $f4
+
+UnreachableCodeData_002_06:
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $05
+    db $f4
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld h, d
+    ld e, l
+    dec [hl]
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $06
+    db $f4
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, l
+    call nz, $6d65
+    ld l, l
+    ld l, [hl]
+    cp $06
+    db $f4
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld e, b
+    call nz, Routine_DataProcess_J
+    ld l, [hl]
+    ld l, l
+    cp $07
+    db $f4
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld d, [hl]
+    jr c, UnreachableCodeData_002_06
+
+    ld [hl], b
+    ld [hl], d
+    ld l, l
+    ld l, [hl]
+    cp $15
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, l
+    call nz, ProcessInputState_Bank2_Part2
+    ld l, [hl]
+    ld l, l
+    cp $11
+    ld h, [hl]
+    ld sp, $a666
+    ld [hl], b
+    ld [hl], d
+
+SpriteAnimationDispatch_FlagCheck:
+    ld [hl], d
+    ld [hl], d
+    ld l, l
+    ld l, [hl]
+    cp $22
+    ld e, c
+    ld e, e
+    and [hl]
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld l, [hl]
+    ld l, l
+    cp $22
+    ld e, d
+    ld e, h
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $e2
+    ld h, [hl]
+    ld l, l
+    cp $31
+    jr c, SpriteAnimationDispatch_FlagCheck
+
+    ld h, l
+    ld l, [hl]
+    cp $31
+    ld d, l
+    ld d, d
+    ld e, l
+    dec [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $32
+    ld d, [hl]
+    ld d, l
+    ldh [c], a
+    ld h, l
+    ld h, [hl]
+    cp $32
+    ld d, a
+    dec hl
+    pop hl
+    ld h, [hl]
+    cp $32
+    ld e, b
+    dec hl
+    cp $32
+    ld d, a
+
+ErrorLoop_002_7141:
+    jr c, ErrorLoop_002_7141
+
+    ld [hl-], a
+    ld d, [hl]
+
+JoypadInputEntry_7145:
+    jr c, JoypadInputEntry_7145
+
+    cp $31
+
+JoypadInputEntry_7149:
+    ld d, [hl]
+    ld d, d
+    ld e, l
+    dec [hl]
+    pop hl
+    ld h, l
+    cp $31
+    ld d, l
+    ldh [c], a
+    ld h, [hl]
+    ld h, l
+    cp $31
+    ld d, [hl]
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $31
+    ld d, a
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $23
+    ld e, c
+    ld e, e
+    jr c, JoypadInputEntry_7149
+
+    ld h, l
+    ld l, [hl]
+    cp $14
+    ld h, l
+    ld e, d
+    ld e, h
+    ld d, l
+    ldh [c], a
+    ld h, [hl]
+    ld c, l
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld b, d
+    db $fd
+    jr c, @-$1c
+
+    ld h, l
+    ld c, [hl]
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld [hl-], a
+    ld h, l
+    ld d, [hl]
+    ldh [c], a
+    ld h, [hl]
+    ld c, l
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    or l
+    db $fd
+    ld h, h
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, [hl]
+    or l
+    db $fd
+    ld h, h
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    ld e, l
+    dec [hl]
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    ldh [c], a
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, c
+    ld e, e
+    ldh [c], a
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, d
+    ld e, h
+    ldh [c], a
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    db $fd
+    ld h, h
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    dec hl
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    db $d3
+    ld a, a
+    dec sp
+    ld d, e
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    ld d, [hl]
+    db $d3
+    ld a, a
+    dec sp
+    ld d, e
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, c
+    ld e, e
+    db $d3
+    ld a, a
+    dec sp
+    ld d, e
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, d
+    ld e, h
+    db $d3
+    ld a, a
+    dec sp
+    ld d, e
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    db $d3
+    ld a, a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    dec a
+    ld d, d
+    ld e, l
+    dec [hl]
+    call nz, PaddingData_7f3a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, [hl]
+    call nz, Routine_DataProcess_I
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    dec hl
+    call nz, Routine_DataProcess_I
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    call nz, Routine_DataProcess_I
+    cp $04
+    ld h, h
+    ld h, h
+    ld c, a
+    ld d, b
+    ld d, c
+    ld d, l
+    call nz, Routine_DataProcess_I
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, c
+    ld e, b
+    call nz, Routine_DataProcess_I
+    cp $13
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    pop af
+    ld h, [hl]
+    cp $22
+    ld h, [hl]
+    ld l, l
+    cp $22
+    ld h, l
+    ld l, [hl]
+    cp $22
+    ld h, [hl]
+    ld l, l
+    cp $22
+    ld h, l
+    ld l, [hl]
+    ld d, d
+    ld e, l
+    dec [hl]
+    pop hl
+    ld h, l
+    cp $22
+
+ProcessInputState_Bank2_Part1:
+    ld h, [hl]
+    ld l, l
+    ldh [c], a
+    ld h, [hl]
+    ld h, l
+    cp $22
+    ld h, l
+    ld l, [hl]
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $22
+    ld h, [hl]
+    ld l, l
+    ldh [c], a
+    ld h, [hl]
+    ld l, l
+    cp $13
+    ld [hl], b
+    ld [hl], d
+    ld l, [hl]
+    ldh [c], a
+    ld h, l
+    ld l, [hl]
+    cp $13
+    ld [hl], c
+    ld [hl], e
+    ld l, l
+    db $d3
+    ld h, e
+    ld l, [hl]
+    ld l, l
+    cp $31
+    ld h, [hl]
+    call nz, $6363
+    ld l, l
+    ld l, [hl]
+    cp $b5
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, [hl]
+    ld l, l
+    cp $a6
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, l
+    ld l, [hl]
+    cp $13
+    ld e, c
+    ld e, e
+    ld d, l
+    sub a
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, [hl]
+    ld l, l
+    cp $13
+    ld e, d
+    ld e, h
+    ld d, [hl]
+    and [hl]
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, l
+    ld l, [hl]
+    cp $31
+    ld d, a
+    or l
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, [hl]
+    ld l, l
+    cp $11
+    dec hl
+    ld sp, $c458
+    ld h, e
+    ld h, e
+    ld l, l
+    ld l, [hl]
+    cp $11
+    ld d, [hl]
+    ld d, d
+    ld e, l
+    dec [hl]
+    db $d3
+    ld h, e
+    ld l, [hl]
+    ld l, l
+    cp $11
+    ld d, l
+    ld sp, $e256
+    ld h, l
+    ld l, [hl]
+    cp $11
+    ld d, a
+    ld sp, $e255
+    ld h, [hl]
+    ld h, h
+    cp $f1
+    ld h, h
+    cp $f1
+    ld h, h
+    cp $d1
+    ld a, a
+    pop af
+    ld h, h
+    cp $01
+    ld h, l
+    ld hl, $4165
+    ld h, l
+    ld h, l
+    ld h, l
+    add c
+    add d
+    add d
+    add d
+    pop de
+    ld a, a
+    pop af
+    ld h, h
+    cp $0b
+    ld h, [hl]
+    ld h, l
+    ld l, [hl]
+    ld h, l
+    ld h, [hl]
+    ld h, l
+    ld h, [hl]
+    add c
+    add d
+    add d
+    add d
+    pop de
+    ld a, a
+    pop af
+    ld h, h
+    cp $04
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld h, [hl]
+    ld d, c
+    ld h, [hl]
+    or c
+    ld l, e
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $04
+    ld h, [hl]
+    ld l, l
+    ld h, [hl]
+    ld d, l
+    and d
+    db $f4
+    ld l, e
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld b, d
+    ld e, l
+    dec [hl]
+    or e
+    ld l, e
+    db $f4
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld [hl-], a
+    ld e, c
+    ld e, e
+    and d
+    db $f4
+    ld l, e
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld [hl-], a
+    ld e, d
+    ld e, h
+    or e
+    ld l, e
+    db $f4
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $a258
+    db $f4
+    ld l, e
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+
+ProcessInputState_Bank2_Part2:
+    ld l, [hl]
+    ld sp, $7756
+    ld d, d
+    ld d, d
+    ld d, d
+    ld d, d
+    ld l, e
+    db $f4
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $7557
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld l, e
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld sp, $7258
+    ld h, h
+    ld e, a
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld [hl], c
+    ld h, h
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld sp, $7155
+    ld h, h
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $7157
+    ld h, h
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld sp, $7156
+    ld d, b
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, wStackInit
+    ld l, e
+    pop af
+    ld h, h
+    cp $03
+    ld h, l
+    ld l, [hl]
+    ld h, l
+    ld b, d
+    ld e, l
+    dec [hl]
+    pop de
+    ld l, e
+    pop af
+    ld h, h
+    cp $04
+    ld h, [hl]
+    ld l, l
+    ld l, [hl]
+    ld d, a
+    jp nz, DataZone_6b63
+
+    pop af
+    ld h, h
+    cp $04
+    ld h, l
+    ld l, [hl]
+    ld l, l
+    ld d, l
+    or e
+    ld h, e
+    db $f4
+    db $f4
+    pop af
+    ld h, h
+    cp $03
+    ld h, [hl]
+    ld l, l
+    ld h, [hl]
+    and [hl]
+    ld h, e
+    db $f4
+    db $f4
+    db $f4
+    ld d, d
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    sub a
+    ld h, e
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld h, h
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    add c
+    ld h, e
+    and [hl]
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    ld d, b
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld [hl], c
+    ld h, e
+    and h
+    db $fd
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $6156
+    ld h, e
+    and h
+    db $f4
+    add c
+    db $f4
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld sp, $7155
+    ld h, e
+    and h
+    db $fd
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    add c
+    ld h, e
+    and h
+    db $fd
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld sp, $9556
+    ld h, e
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld [hl-], a
+    ld d, a
+    dec hl
+    and h
+    add d
+    db $f4
+    db $f4
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld [hl-], a
+    ld d, l
+    dec hl
+    or e
+    add d
+    db $f4
+    db $f4
+    pop af
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld [hl-], a
+    ld e, c
+    ld e, e
+    jp nz, $f463
+
+    pop af
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    ld [hl-], a
+    ld e, d
+    ld e, h
+    pop de
+    ld h, e
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $d356
+    db $fd
+    ld h, h
+    cp $02
+    ld h, l
+    ld l, [hl]
+    inc sp
+    ld d, a
+    ld e, l
+    dec [hl]
+    db $d3
+    db $fd
+    ld h, h
+    cp $02
+    ld h, [hl]
+    ld l, l
+    ld sp, $a655
+    ld d, d
+    ld d, d
+    ld d, d
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $02
+    ld h, h
+    ld l, [hl]
+    and [hl]
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, c
+    ld e, e
+    and [hl]
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, d
+    ld e, h
+    and [hl]
+    db $fd
+    ld h, h
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    dec hl
+    and [hl]
+    db $fd
+    ld d, b
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    sub a
+    db $fd
+    ld d, d
+    cp $04
+    ld h, h
+    ld h, h
+    ld d, c
+    dec h
+    sub a
+    db $fd
+    ld h, h
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    ld b, d
+    ld e, l
+    dec [hl]
+    sub a
+    db $fd
+    ld h, h
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    sub a
+    ld d, b
+    ld d, b
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    dec a
+    ld d, d
+    ld d, d
+    or l
+    db $fd
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld [hl], d
+    db $fd
+    add d
+    or l
+    db $fd
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld a, c
+    add d
+    add d
+    ld c, b
+    ld c, d
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld a, c
+    add d
+    add d
+    ld c, c
+    ld c, e
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld [hl], d
+    db $fd
+    add d
+    and [hl]
+    ld c, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld [hl], d
+    db $fd
+    add d
+    or l
+    db $fd
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld a, c
+    add b
+    add d
+    ld c, b
+    ld c, d
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld a, c
+    add d
+    add d
+    ld c, c
+    ld c, e
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld [hl], d
+    db $fd
+    add d
+    and [hl]
+    ld c, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld c, a
+    ld d, b
+    ld d, b
+    or l
+    db $fd
+    ld h, h
+    cp $06
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, b
+    ld e, l
+    dec [hl]
+    or l
+    db $fd
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, c
+    ld e, e
+    or l
+    db $fd
+    ld d, b
+    cp $05
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, d
+    ld e, h
+    cp $09
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    ld d, [hl]
+    ld d, a
+    ld d, l
+    ld d, [hl]
+    ld d, l
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    or l
+    db $fd
+    ld d, d
+    cp $03
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, c
+    ld d, l
+    call nz, Routine_DataProcess_I
+    cp $04
+    ld h, h
+    ld h, h
+    dec a
+    ld d, d
+    ld d, c
+    ld d, [hl]
+    call nz, Routine_DataProcess_I
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, b
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    dec hl
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, [hl]
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, a
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    dec h
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, [hl]
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, l
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld d, [hl]
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $05
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $07
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, l
+    dec [hl]
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $05
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    or d
+    ld a, [hl-]
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $07
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld d, c
+    ld e, l
+    dec [hl]
+    and c
+    ld a, [hl-]
+    pop bc
+    ld a, a
+    ldh [c], a
+    dec sp
+    ld d, e
+    cp $06
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    dec a
+    ld d, d
+    sub a
+    pop hl
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $00
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    db $ec
+    db $ec
+    db $ec
+    db $ec
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    cp $06
+    db $fd
+    ld h, h
+    and [hl]
+    db $fd
+    ld h, h
+    cp $00
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+
+UnreachableCodeData_002_07:
+    cp $e2
+    db $fd
+    ld a, a
+    cp $01
+
+ErrorLoop_002_76df:
+    ld a, a
+    jr c, ErrorLoop_002_76df
+
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    add d
+    db $d3
+    db $f4
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    db $d3
+    db $f4
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    db $d3
+    db $f4
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $51f4
+    db $f4
+    ld [hl], c
+    db $f4
+    sub d
+    db $f4
+    add d
+    db $d3
+    db $f4
+    ld a, a
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    jr c, UnreachableCodeData_002_07
+
+    add d
+    add d
+    add d
+    add d
+    add d
+    add d
+    add d
+    db $d3
+    db $f4
+    ld a, a
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $72
+    db $fd
+    db $f4
+    call nz, Routine_DataProcess_F
+    ld a, a
+    ld a, a
+    cp $72
+    db $fd
+
+Routine_DataProcess_F:
+    db $f4
+    call nz, Routine_DataProcess_G
+    ld a, a
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld a, a
+    cp $00
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld a, a
+    ld a, a
+    cp $00
+    db $fd
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $f1
+    ld a, a
+    cp $0c
+    db $fd
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $a27f
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $7180
+    add d
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $7182
+    add b
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $7182
+    ld a, a
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl+], a
+    db $f4
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    ld a, a
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld h, d
+    db $f4
+    add d
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $717f
+    ld a, a
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $01
+    ld a, a
+    ld sp, $627f
+    db $f4
+    ld a, a
+    or c
+    add b
+    pop af
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    ld [hl], c
+    ld a, a
+    and d
+    db $f4
+    ld a, a
+    pop af
+    ld a, a
+    cp $04
+    ld a, a
+    ld [hl], l
+    ld a, b
+    ld a, a
+    ld h, d
+    db $f4
+    ld a, a
+    or c
+    add d
+    pop af
+    ld a, a
+    cp $04
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld [hl], c
+    ld a, a
+    pop af
+    ld a, a
+    cp $00
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $ff
+    rst $38
+
+Routine_DataProcess_G:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rra
+    rra
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld hl, sp-$08
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0101
+    ld bc, $0303
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    ld a, a
+    ld a, a
+    ret nz
+
+    ret nz
+
+    ccf
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    db $10
+    db $10
+    rst $30
+    rla
+    db $f4
+    inc d
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $18
+    rst $18
+    ld d, b
+    ld d, b
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    cp a
+    cp a
+    and b
+    and b
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    pop af
+    pop af
+    add hl, de
+    add hl, de
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    cp a
+    cp a
+    and b
+    and b
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    jr PaddingZone_002_79f2
+
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld d, l
+    ld d, l
+    xor d
+    xor d
+
+PaddingZone_002_79f2:
+    ld d, l
+    ld d, l
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc e
+    inc e
+    ld [hl+], a
+    ld [hl+], a
+    ld e, l
+    ld e, l
+    ld d, c
+    ld d, c
+    ld e, l
+    ld e, l
+    ld [hl+], a
+    ld [hl+], a
+    inc e
+    inc e
+    nop
+    nop
+    nop
+    ld d, $00
+    add hl, hl
+    nop
+    ld b, b
+    inc b
+    add b
+    ld e, l
+    add b
+    ld a, $41
+    inc c
+    ld [hl-], a
+    nop
+    inc c
+    ccf
+    jr nz, UnreachableCodeData_002_08
+
+    ld d, b
+    ld l, a
+    ld c, a
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    db $fc
+    inc e
+    ld l, $3e
+    xor $de
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+    inc bc
+    inc bc
+    ld bc, $0101
+    ld bc, $0000
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    rlca
+    db $fc
+    inc c
+    rst $30
+    rlca
+
+SpriteAnimationTerminal:
+    ld sp, hl
+    ld bc, wGameVarFE
+    ld a, a
+    ld [hl], b
+    dec de
+    jr SpriteAnimationTerminal
+
+    inc d
+    rst $30
+    db $f4
+    rlca
+    inc b
+    rlca
+
+AudioDispatchTable_7a71:
+    inc b
+    rst $00
+    call nz, Routine_DataProcess_C
+    or a
+    inc [hl]
+    rst $10
+    inc d
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $18
+    ld d, b
+    rst $38
+    ld [hl], b
+    cp a
+    and b
+    cp a
+
+UnreachableCodeData_002_08:
+    and e
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp a
+    and e
+    db $ed
+    dec c
+    push af
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    rst $38
+    nop
+    rst $38
+    rra
+    ldh a, [rNR10]
+    rst $38
+    rra
+    ldh a, [rP1]
+    rst $38
+    nop
+    rst $38
+
+UnreachableCodeData_002_09:
+    rra
+    ldh a, [rNR10]
+    cp a
+    and b
+    cp a
+    and e
+    ld a, $22
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp a
+    and e
+    inc a
+    jr nz, UnreachableCodeData_002_09
+
+    inc c
+    db $f4
+    add h
+    db $fc
+    add h
+    db $fc
+    add h
+    db $fc
+    add h
+    db $fc
+    add h
+    db $fc
+    adc h
+    ld a, b
+    jr AudioDispatchEntry_7adb
+
+AudioDispatchEntry_7adb:
+    ld l, b
+    nop
+    sub [hl]
+    nop
+    ld bc, $0084
+    push de
+    nop
+    rst $38
+    nop
+    inc [hl]
+    rlc b
+    inc [hl]
+    nop
+    nop
+    nop
+    ret nz
+
+    nop
+    jr nz, AudioDispatchTable_7a71
+
+    db $10
+    add b
+    ld h, b
+    nop
+    add b
+    nop
+    nop
+    nop
+    nop
+    add $c6
+    and $e6
+    and $e6
+    sub $d6
+    sub $d6
+    adc $ce
+    adc $ce
+    add $c6
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    ret nz
+
+    nop
+    nop
+    db $db
+    db $db
+    db $dd
+    db $dd
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0001
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    db $fd
+    db $fd
+    add a
+    add a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    db $fc
+    db $fc
+    ld b, $06
+    ld a, a
+    ld a, a
+    ld b, b
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld a, a
+    nop
+    nop
+    nop
+    nop
+    ei
+    ld hl, sp+$0f
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $30
+    inc d
+    rst $30
+    inc d
+    rst $30
+    inc d
+    rst $30
+    ld [hl], $e3
+    db $e3
+    add c
+    add c
+    nop
+    nop
+    nop
+    nop
+    adc a
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    ld bc, $03ff
+    cp $fe
+    nop
+    nop
+    nop
+    nop
+    cp h
+    and b
+    cp a
+    and b
+    cp a
+    and e
+    cp [hl]
+    and d
+    ld a, $22
+    ld a, $3e
+    nop
+    nop
+    nop
+    nop
+    ld a, l
+    dec c
+    ld sp, hl
+    add hl, de
+    pop af
+    pop af
+    ld bc, $0101
+    ld bc, $0101
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rra
+    ldh a, [rP1]
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    cp a
+    and b
+    cp a
+    and e
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    cp [hl]
+    nop
+    nop
+    nop
+    nop
+    ldh a, [$ff30]
+    ret c
+
+    sbc b
+    db $ec
+    adc h
+    or $86
+    ld a, [$fe82]
+    cp $00
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr nc, AudioDispatchEntry_7c0e
+
+    ld a, b
+    ld a, b
+    inc sp
+    inc sp
+    or [hl]
+    or [hl]
+    or a
+    or a
+    or [hl]
+    or [hl]
+    or e
+    or e
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    call $6ecd
+    ld l, [hl]
+    db $ec
+    db $ec
+    inc c
+    inc c
+    db $ec
+    db $ec
+    ld bc, $0101
+    ld bc, $0101
+    adc a
+    adc a
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    reti
+
+
+    rst $08
+    rst $08
+    add b
+    add b
+    add b
+    add b
+
+AudioDispatchEntry_7c0e:
+    add b
+    add b
+    sbc [hl]
+    sbc [hl]
+    or e
+    or e
+    or e
+    or e
+    or e
+    or e
+    sbc [hl]
+    sbc [hl]
+    inc bc
+    inc bc
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+    inc bc
+    ld [bc], a
+
+AudioDispatchEntry_7c22:
+    inc bc
+    ld [bc], a
+
+AudioDispatchEntry_7c24:
+    inc bc
+    ld [bc], a
+
+AudioDispatchEntry_7c26:
+    inc bc
+    ld [bc], a
+
+AudioDispatchEntry_7c28:
+    inc bc
+    ld [bc], a
+    ei
+    ld [bc], a
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    jr c, AudioDispatchEntry_7c22
+
+    jr z, AudioDispatchEntry_7c24
+
+    jr z, AudioDispatchEntry_7c26
+
+    jr z, AudioDispatchEntry_7c28
+
+    jr z, @-$03
+
+    inc bc
+    db $fd
+    ld bc, $01ff
+    rst $38
+    pop hl
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    rra
+    rra
+    jr nc, UnreachableCodeData_002_10
+
+    ld a, a
+    ld h, b
+    ld a, a
+    ld b, a
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    db $e3
+    db $e3
+    ld [hl-], a
+    ld [hl-], a
+    db $db
+    ld a, [de]
+    db $eb
+    ld a, [bc]
+
+AudioDispatchEntry_7c62:
+    ei
+    ld a, [bc]
+
+PaddingZone_002_7c64:
+    ei
+    ld a, [bc]
+
+AudioDispatchEntry_7c66:
+    ei
+    ld a, [bc]
+
+AudioDispatchEntry_7c68:
+    ei
+    ld a, [bc]
+    rst $38
+    rst $38
+    ld bc, $fe01
+    nop
+    rst $38
+    jr c, AudioDispatchEntry_7c62
+
+    jr z, PaddingZone_002_7c64
+
+    jr z, AudioDispatchEntry_7c66
+
+    jr z, AudioDispatchEntry_7c68
+
+    jr z, JumpTableDispatcher_7c9a
+
+    rra
+    sub c
+    sub c
+
+UnreachableCodeData_002_10:
+    rst $18
+    pop de
+    ld e, a
+    ld d, c
+    rst $18
+    ld d, c
+    rst $18
+    ld d, c
+    rst $18
+    ld d, c
+    rst $18
+    ld d, c
+    rra
+    rra
+    jr nc, AudioDataRaw_002_7cbe
+
+    ld a, a
+    ld h, b
+    ld a, a
+    ld b, a
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+
+JumpTableDispatcher_7c9a:
+    pop hl
+    pop hl
+    ld sp, $d931
+    add hl, de
+    jp hl
+
+
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ldh a, [hCurrentTile]
+    db $10
+    db $10
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    rrca
+    rrca
+    jr PaddingZone_002_7cd6
+
+AudioDataRaw_002_7cbe:
+    ccf
+    jr nc, UnreachableCodeData_002_11
+
+    inc hl
+    ld a, $22
+    ld a, $22
+    ld a, $22
+    ld a, $22
+    pop af
+    pop af
+    add hl, de
+    add hl, de
+    db $ed
+    dec c
+    push af
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+
+PaddingZone_002_7cd6:
+    db $fd
+    add l
+    db $fd
+    add l
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    rst $38
+    inc e
+
+AudioDispatchEntry_002_7ce2:
+    rst $30
+    inc d
+
+AudioDispatchEntry_002_7ce4:
+    rst $30
+    inc d
+
+AudioDispatchEntry_002_7ce6:
+    rst $30
+    inc d
+
+AudioDispatchEntry_002_7ce8:
+    rst $30
+    inc d
+    adc a
+    adc a
+    ret z
+
+    ret z
+
+    ld l, a
+    ld l, b
+    xor a
+    jr z, AudioDispatchEntry_002_7ce2
+
+    jr z, AudioDispatchEntry_002_7ce4
+
+    jr z, AudioDispatchEntry_002_7ce6
+
+AudioDataRaw_002_7cf7:
+    jr z, AudioDispatchEntry_002_7ce8
+
+    jr z, AudioDataRaw_002_7cf7
+
+    db $fc
+    ld b, $06
+    ei
+    inc bc
+
+UnreachableCodeData_002_11:
+    db $fd
+    pop hl
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    ld l, b
+    ld c, b
+    ld l, a
+    ld c, a
+    ld a, a
+    ld d, b
+    ld h, b
+    ld a, a
+    ld a, a
+    ld a, a
+    ccf
+    ccf
+    rra
+    rra
+    nop
+    nop
+    inc bc
+    ld [bc], a
+
+BitDispatch_Entry0:
+    inc bc
+    ld [bc], a
+
+BitDispatch_Entry1:
+    inc bc
+    ld [bc], a
+
+BitDispatch_Entry2:
+    inc bc
+    ld [bc], a
+
+BitDispatch_Entry3:
+    inc bc
+    ld [bc], a
+
+BitDispatch_Entry4:
+    add e
+    add d
+
+BitDispatch_Entry5:
+    add e
+    add d
+
+BitDispatch_Entry6:
+    add e
+    add e
+    rst $28
+    jr z, BitDispatch_Entry0
+
+    jr z, BitDispatch_Entry1
+
+    jr z, BitDispatch_Entry2
+
+    jr z, BitDispatch_Entry3
+
+    jr z, BitDispatch_Entry4
+
+    jr z, BitDispatch_Entry5
+
+    jr z, BitDispatch_Entry6
+
+    rst $28
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    and c
+    cp a
+    cp a
+    ld a, a
+    ld b, a
+    ld a, b
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld b, a
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, l
+    ld a, l
+    ei
+    ld a, [bc]
+    ei
+    ld a, [bc]
+    ei
+    ld a, [bc]
+    ei
+    ld a, [bc]
+    ei
+    ld a, [bc]
+
+AudioDispatchEntry_7d64:
+    ei
+    ld a, [bc]
+
+AudioDispatchEntry_7d66:
+    ei
+    ld a, [bc]
+
+AudioDispatchEntry_7d68:
+    ei
+    ei
+    rst $38
+    jr c, @-$37
+
+    nop
+    rst $38
+    ld bc, $38ff
+    rst $28
+    jr z, AudioDispatchEntry_7d64
+
+    jr z, AudioDispatchEntry_7d66
+
+    jr z, AudioDispatchEntry_7d68
+
+    rst $28
+    rst $18
+    ld d, c
+    rst $18
+    pop de
+
+AudioDispatchData_002_00:
+    sbc a
+    sub c
+    rst $18
+    pop de
+    rst $18
+    ld d, c
+    rst $18
+    ld d, c
+    rst $18
+    ld d, c
+    rst $18
+    rst $18
+    ld a, l
+    ld b, l
+    ld a, l
+    ld b, l
+    ld a, a
+    ld b, a
+    ld a, b
+    ld b, b
+    ld a, a
+    ld b, b
+    ld a, a
+    ld h, b
+    ccf
+    jr nc, AudioDispatchEntry_7db8
+
+    rra
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, bc
+    ld sp, hl
+    add hl, de
+    pop af
+    ld sp, $e1e1
+    ldh a, [rNR10]
+    ldh a, [rNR10]
+    rst $38
+    rra
+    ldh a, [rP1]
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+
+AudioDispatchEntry_7db8:
+    rst $38
+    rst $38
+    ccf
+    inc hl
+    inc a
+    jr nz, AudioDispatchData_002_00
+
+    and b
+    cp a
+    and e
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    and d
+    cp [hl]
+    cp [hl]
+    db $fd
+    add l
+    ld a, l
+    dec b
+    db $fd
+    dec b
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    add l
+    db $fd
+    db $fd
+    rst $30
+    inc d
+
+AudioDispatchData_002_01:
+    rst $30
+    inc d
+
+AudioDispatchData_002_02:
+    rst $30
+    inc d
+
+AudioDispatchData_002_03:
+    rst $30
+    inc d
+
+AudioDispatchData_002_04:
+    rst $30
+    inc d
+
+AudioDispatchData_002_05:
+    rst $30
+    inc d
+
+AudioDispatchData_002_06:
+    rst $30
+    inc d
+
+AudioDispatchData_002_07:
+    rst $30
+    rst $30
+    rst $28
+    jr z, AudioDispatchData_002_01
+
+    jr z, AudioDispatchData_002_02
+
+    jr z, AudioDispatchData_002_03
+
+    jr z, AudioDispatchData_002_04
+
+    jr z, AudioDispatchData_002_05
+
+    jr z, AudioDispatchData_002_06
+
+    jr z, AudioDispatchData_002_07
+
+    rst $28
+    cp a
+    and c
+    cp a
+    and c
+    rst $38
+    pop hl
+    rra
+    ld bc, $01ff
+    rst $38
+    inc bc
+    cp $06
+    db $fc
+    db $fc
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    ld bc, $0107
+    rlca
+    rlca
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    ld l, [hl]
+    ld e, [hl]
+    xor $de
+    xor $3e
+    ld e, $fe
+    cp $fe
+    db $fc
+    db $fc
+    ld hl, sp-$08
+    nop
+    nop
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    nop
+    nop
+    rra
+    rra
+    ccf
+    jr nz, @+$72
+
+    ld d, b
+    ld l, a
+    ld c, a
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    ld hl, sp-$08
+    db $fc
+    inc e
+    ld l, $3e
+    xor $de
+    ld l, [hl]
+    ld e, [hl]
+    ld l, [hl]
+    ld e, [hl]
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld l, [hl]
+    ld e, [hl]
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld l, b
+    ld c, b
+    nop
+    nop
+    ld bc, $0601
+    ld b, $08
+    ld [$1010], sp
+    jr nz, UnreachableCodeData_002_12
+
+    ld b, l
+    ld b, b
+    add b
+    add b
+    nop
+    nop
+    ret nz
+
+    ret nz
+
+    jr nc, UnreachableCodeData_002_14
+
+    ld [$5508], sp
+    dec b
+    ld [bc], a
+    ld [bc], a
+    ld bc, $0001
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh [hVramPtrLow], a
+    jr UnreachableCodeData_002_13
+
+    inc b
+    inc b
+
+UnreachableCodeData_002_12:
+    ld [bc], a
+    ld [bc], a
+    add c
+    add c
+    and d
+    and d
+    xor c
+    xor c
+    pop de
+    pop de
+    call $fdcd
+    db $fd
+    pop hl
+    ld h, c
+    or $76
+    call c, CheckCoinCollision
+    ld [de], a
+
+UnreachableCodeData_002_13:
+    rra
+    db $10
+    rrca
+    ld a, [bc]
+
+UnreachableCodeData_002_14:
+    rrca
+    rrca
+    db $10
+    db $10
+    ld [hl+], a
+    ld [hl+], a
+    dec hl
+    dec hl
+    jp hl
+
+
+    jp hl
+
+
+    rst $38
+    add h
+    rst $38
+    rst $38
+    rst $38
+    ld l, [hl]
+    db $e3
+    ld bc, $d3f3
+    ld a, a
+    ld a, [hl]
+    ld sp, hl
+    rst $08
+    rst $38
+    rst $38
+    ret z
+
+    ld hl, sp-$78
+    ld hl, sp-$70
+    ldh a, [rNR10]
+    ldh a, [hVramPtrLow]
+    ldh [hSoundId], a
+    ld b, b
+    ldh [rNR41], a
+    rst $38
+    rst $38
+    ccf
+    jr nz, PaddingZone_002_7f8d
+
+    ld d, b
+    ld l, a
+    ld c, a
+    ld l, b
+    ld c, b
+    ld l, e
+    ld c, b
+    ld l, e
+    ld c, b
+    ld l, e
+    ld c, e
+    ld l, b
+    ld c, b
+    rst $20
+    ld h, $18
+    jr @+$01
+
+    rst $38
+    nop
+    nop
+    add b
+    add b
+    add b
+    add b
+    add b
+    add b
+    nop
+    nop
+
+PaddingData_7f3a:
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    rlca
+    ld bc, $0107
+    rlca
+    rlca
+    nop
+    nop
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, b
+    ld c, b
+    ld l, e
+    ld c, b
+    ld l, e
+    ld c, b
+    ld l, e
+    ld c, e
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    cp e
+    jr c, PaddingZone_002_7fad
+
+    ld b, h
+    rlca
+    rlca
+    inc b
+    rlca
+    ld [$080f], sp
+    rrca
+    add hl, bc
+    rrca
+    dec de
+    rra
+    inc hl
+    ld a, $2f
+    ccf
+    sbc [hl]
+    sbc [hl]
+    ld [hl], c
+    ld a, a
+    ld b, c
+    ld a, a
+    cp $e6
+    ld sp, hl
+    pop af
+    rst $08
+    ld c, h
+    rst $18
+    ld e, b
+    rst $08
+    ld b, b
+    rst $38
+    rst $38
+    rst $38
+
+PaddingZone_002_7f8d:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+PaddingZone_002_7fad:
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+
+Bank2EndPadding:
+    rst $38
+    rst $38
+    rst $38
diff --git a/tmp/bank_003.asm.txt b/tmp/bank_003.asm.txt
new file mode 100644
index 0000000..1ec6a49
--- /dev/null
+++ b/tmp/bank_003.asm.txt
@@ -0,0 +1,14282 @@
+SECTION "ROM Bank $003", ROMX[$4000], BANK[$3]
+
+; Constante pointant vers data table (offset du jr à $4E73)
+DEF LevelGraphicsData_4E74 EQU $4E74
+
+; LevelConfigTable_Bank3
+; ----------------------
+; Description: Table de configuration pour chaque niveau (8 niveaux)
+; Format:
+;   - Niveaux 0-3: 3 words de paramètres ($503F, $5074, $509B) - valeurs fixes
+;     Ces valeurs ne sont PAS des pointeurs de code exécutable
+;     Probablement des paramètres de configuration niveau (scroll, limites, etc.)
+;   - Niveaux 4-7: 3-4 words avec pointeurs réels vers handlers Bank 3
+; In:  Index niveau (0-7)
+; Out: 3 ou 4 words de données selon le niveau
+; Modifie: Données lues par le level loader
+LevelConfigTable_Bank3:
+    ; Niveau 0 - Configuration fixe
+    dw $503F, $5074, $509B
+    ; Niveau 1 - Configuration fixe identique
+    dw $503F, $5074, $509B
+    ; Niveau 2 - Configuration fixe identique
+    dw $503F, $5074, $509B
+    ; Niveau 3 - Configuration fixe identique
+    dw $503F, $5074, $509B
+    ; Niveau 4 - Avec handlers custom Bank 3
+    dw $50C0, LevelGraphicsData_4E74, LevelHandler_4_7_Part2, $4FD8
+    ; Niveau 5
+    dw LevelGraphicsData_4E74, LevelHandler_4_7_Part2, $4FD8
+    ; Niveau 6
+    dw LevelGraphicsData_4E74, LevelHandler_4_7_Part2, $4FD8
+    ; Niveau 7
+    dw LevelGraphicsData_4E74, LevelHandler_4_7_Part2, $4FD8
+    ; Fin de table / Padding
+    dw $0000, $0000, $0000, $0000
+    inc e
+    inc e
+    ld a, $22
+    ccf
+    dec sp
+    ld a, a
+    ld b, a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr c, @+$3a
+
+    ld a, h
+    ld b, h
+    db $fc
+    call c, $e2fe
+    nop
+    nop
+    nop
+    nop
+    jr PaddingZone_003_4070
+
+    inc a
+    inc h
+    ld a, [hl]
+    ld d, d
+    ld a, a
+    ld e, e
+    ccf
+    cpl
+    ld a, l
+    ld b, l
+    nop
+    nop
+    nop
+    nop
+    jr @+$1a
+
+    inc a
+    inc h
+    ld a, [hl]
+    ld c, d
+    cp $da
+    db $fc
+    db $f4
+
+PaddingZone_003_4070:
+    cp [hl]
+
+PaddingZone_003_4071:
+    and d
+    nop
+    nop
+    ld bc, $1b01
+    dec de
+    daa
+    daa
+    cpl
+    jr z, PaddingZone_003_40bc
+
+    jr nc, PaddingZone_003_40be
+
+PaddingTrap_407f:
+    jr nz, PaddingZone_003_40c0
+
+    ld a, $f8
+    ld hl, sp-$14
+    inc e
+    db $e4
+    call c, $1ce4
+    db $e4
+    inc e
+    call nz, $843c
+    ld a, h
+    add h
+    ld a, h
+    nop
+    nop
+    ld bc, $0301
+    ld [bc], a
+    rlca
+    rlca
+    rrca
+    ld c, $1f
+    db $10
+    ld a, a
+    ld a, b
+    adc a
+    adc b
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    ret c
+
+    jr c, PaddingZone_003_4071
+
+    cp b
+    ret z
+
+    jr c, @-$36
+
+    jr c, @-$70
+
+    ld a, [hl]
+    dec bc
+    ei
+    nop
+    nop
+    inc bc
+    inc bc
+    rrca
+    rrca
+    ld a, c
+    ld a, c
+    rst $38
+    sbc a
+
+PaddingZone_003_40bc:
+    rst $38
+    and l
+
+PaddingZone_003_40be:
+    rst $38
+    xor c
+
+PaddingZone_003_40c0:
+    ld d, [hl]
+    ld d, [hl]
+    nop
+    nop
+    ret nz
+
+    ret nz
+
+    ldh a, [hCurrentTile]
+    sbc [hl]
+    sbc [hl]
+    rst $38
+    ld sp, hl
+    rst $38
+    and l
+    rst $38
+    sub l
+    ld l, d
+    ld l, d
+    jr c, PaddingZone_003_410c
+
+    ld b, h
+    ld b, h
+    add d
+
+PaddingZone_003_40d7:
+    add d
+    xor c
+
+PaddingZone_003_40d9:
+    xor c
+    xor d
+    xor d
+    xor l
+    xor l
+    or b
+    or b
+    ld b, b
+    ld b, b
+    nop
+    ld a, [hl]
+    nop
+    push hl
+    nop
+    rst $38
+    ld a, [hl]
+    add c
+    ld a, [hl]
+    rst $20
+    ld a, [hl]
+    rst $20
+    jr PaddingZone_003_40d7
+
+    jr PaddingZone_003_40d9
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc c
+    inc c
+    ld [hl], c
+    ld [hl], c
+    add d
+    add d
+    ld a, h
+    ld a, h
+    nop
+    ld a, [hl]
+    ld h, h
+    add c
+    ld a, [hl]
+    rst $20
+    jr @-$17
+
+    jr @+$01
+
+PaddingZone_003_410c:
+    ld a, [hl]
+    add c
+    ld a, [hl]
+    rst $38
+    jr SpriteGraphicsData_Enemy_Set2
+
+    nop
+    nop
+    ld a, b
+    ld a, b
+    call nz, $82c4
+    add d
+    xor c
+    xor c
+    ld [hl], l
+    ld [hl], l
+    inc bc
+    inc bc
+    rlca
+    rlca
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld a, b
+    ld a, b
+    adc h
+    sbc h
+    ld h, h
+    inc e
+    db $e4
+    call c, $1ce4
+    ld a, a
+    ld [hl], a
+    ld a, a
+    ld c, a
+    rst $38
+    add a
+    rst $38
+    or l
+    rst $28
+    xor l
+    rst $20
+    and l
+    ld b, e
+    ld b, d
+    ld bc, $fe01
+    xor $fe
+    ldh a, [c]
+    rst $38
+    pop hl
+    rst $38
+    xor l
+    rst $30
+    or l
+    rst $20
+    and l
+    jp nz, $8042
+
+    add b
+    ld a, l
+    ld d, l
+    ld a, a
+    ld e, a
+    ccf
+    add hl, hl
+    ld a, a
+    ld c, e
+    ld a, [hl]
+    ld e, d
+    cp $9a
+    db $e4
+    and h
+    ld b, b
+    ld b, b
+    cp [hl]
+    xor d
+    cp $fa
+    db $fc
+    sub h
+    cp $d2
+    ld a, [hl]
+    ld e, d
+    ld a, a
+    ld e, c
+    daa
+    dec h
+    ld [bc], a
+    ld [bc], a
+    rrca
+    ld [$101f], sp
+    rra
+    jr SpriteGraphicsData_Enemy_Set1
+
+    inc b
+    ld e, $19
+    inc e
+    inc de
+    rrca
+    rrca
+
+SpriteGraphicsData_Enemy_Set1:
+    nop
+    nop
+    db $fc
+    ld a, h
+    cp $0e
+    jp nz, ErrorTrap_00
+
+    pop af
+    ld hl, $61e1
+    pop hl
+    xor e
+    xor e
+
+SpriteGraphicsData_Enemy_Set2:
+    ld a, $3e
+    rst $08
+    call z, $8c8f
+    ld b, a
+    ld b, a
+    ld h, b
+    ld h, b
+    ccf
+    ccf
+    inc a
+    inc sp
+    jr c, @+$29
+
+    rra
+    rra
+    add hl, bc
+    ld sp, hl
+    sbc c
+    ld sp, hl
+    cp $9e
+    db $10
+    db $10
+    ldh a, [hCurrentTile]
+    ld h, b
+    ldh [hSoundId], a
+    ret nz
+
+    add b
+    add b
+    ld bc, $0701
+    rlca
+    rra
+    rra
+    ld a, a
+    ld h, b
+    rst $38
+    add b
+    rst $38
+    db $fc
+    rra
+    db $10
+    rra
+    rra
+    db $fc
+    db $fc
+    cp $06
+    ld a, [$f2c6]
+    ld c, $f2
+    ld c, $f3
+    rrca
+    pop hl
+    rra
+    rst $38
+    rst $38
+    nop
+    nop
+    jr c, UnreachableCodeData_003_00
+
+    ld b, [hl]
+    ld b, [hl]
+    add c
+    add c
+    sub h
+    sub h
+    xor e
+    xor e
+    ld b, b
+    ld b, b
+    nop
+    nop
+    jr @+$01
+
+    jr @+$01
+
+    ld a, [hl]
+    add c
+    ld a, [hl]
+    rst $38
+    jr @+$01
+
+    add c
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0101
+    ld bc, $0303
+    rlca
+    rlca
+    rrca
+    ld [$0000], sp
+    ld e, $1e
+    ld a, c
+    ld a, c
+    adc l
+    sbc l
+    ld h, l
+    dec e
+    and $de
+
+UnreachableCodeData_003_00:
+    db $e4
+    inc e
+    db $e4
+    inc e
+    rrca
+    ld [$101f], sp
+    ccf
+    ld hl, $3e3f
+    rra
+    db $10
+    ccf
+    jr nz, DataZone_425e
+
+    inc a
+    rlca
+    inc b
+    db $e4
+    inc e
+    call nz, $c43c
+    inc a
+    add h
+    ld a, h
+    db $fc
+    ld a, h
+    cp $0e
+    jp nz, $b142
+
+    ld [hl], c
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rlca
+    rlca
+    rra
+    inc e
+    rra
+    db $10
+    ld a, $31
+    ld a, b
+    ld h, a
+
+DataZone_425e:
+    ld sp, hl
+    add $f3
+    adc h
+    nop
+    nop
+    ldh a, [hCurrentTile]
+    db $fc
+    inc e
+    or $0e
+    ld a, [hl-]
+    add $3a
+    add $7b
+    add a
+    ld a, e
+    add a
+    ld b, c
+    ld b, c
+    ld hl, $1222
+    inc d
+    dec c
+    ld c, $96
+    sbc b
+    ld e, l
+    ld e, [hl]
+    ld h, $38
+    dec e
+    ld e, $04
+    inc b
+    ld [$9088], sp
+    ld d, b
+    ld h, b
+    ldh [hAudioCh1Param], a
+    ld [hl-], a
+    ld [hl], h
+    db $f4
+    ret z
+
+    jr c, UnreachableCodeData_003_01
+
+    ldh a, [rNR42]
+    ld [hl+], a
+    ld [hl+], a
+    inc h
+    dec l
+    ld l, $96
+    sbc b
+    sbc l
+    sbc [hl]
+    ld h, [hl]
+    ld a, b
+    dec e
+    ld e, $62
+    ld l, h
+    ld [$8888], sp
+    ld c, b
+    ld l, b
+    add sp, -$2e
+    ld [hl-], a
+    ld [hl], d
+    ldh a, [c]
+    call z, HandleAudioConditionalLogic
+    ldh a, [$ff8c]
+    ld l, h
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    add e
+    add e
+    add [hl]
+    add [hl]
+    ld c, d
+    ld c, d
+    ld [hl], c
+    ld [hl], c
+    ld [bc], a
+    ld [bc], a
+    ld [bc], a
+    ld [bc], a
+    inc bc
+    inc bc
+    ld [hl], b
+    ld [hl], b
+    ret nc
+
+    ret nc
+
+    db $10
+    db $10
+    ld [$8808], sp
+    adc b
+    ld [$0808], sp
+    ld [$f0f0], sp
+    rra
+    db $10
+    ccf
+    ld hl, $3e3f
+    rrca
+    dec bc
+    inc e
+    inc d
+    inc e
+    inc d
+    ld a, [hl]
+    ld a, [hl]
+    sub c
+
+UnreachableCodeData_003_01:
+    sub c
+    db $e4
+    inc e
+    call nz, $8c3c
+    ld a, h
+    xor b
+    ld l, b
+    ret z
+
+    ret z
+
+    jr @+$1a
+
+    ld [hl], b
+    ld [hl], b
+    and b
+    ldh [$ff3e], a
+    ld a, [hl-]
+    inc a
+    inc [hl]
+    jr PaddingZone_003_4330
+
+    ld [$0c08], sp
+    inc c
+    db $10
+    db $10
+    db $10
+    db $10
+    rra
+    rra
+    ld hl, $2161
+    ld hl, $6b6b
+    rst $38
+    rst $38
+    pop hl
+    pop hl
+    ld e, c
+    ld e, c
+    ld b, a
+
+PaddingZone_003_432f:
+    ld b, a
+
+PaddingZone_003_4330:
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ldh a, [c]
+    adc l
+    di
+    adc h
+    db $fd
+    jp nz, PaddingTrap_407f
+
+    ld a, a
+    ld b, b
+    dec a
+    ld [hl+], a
+    ld sp, $1f3f
+    rra
+    di
+    rrca
+    ldh [c], a
+    ld e, $f2
+    ld e, $f6
+    ld e, $c6
+    ld a, $8e
+    cp $3c
+    db $fc
+    ldh a, [hCurrentTile]
+    ld [hl+], a
+    inc l
+    ld c, a
+    ld c, a
+    sub a
+    sub a
+    add hl, hl
+    add hl, hl
+    ld c, d
+    ld c, d
+    add a
+    add a
+    adc h
+    adc h
+    ld b, h
+    ld b, h
+    adc b
+    ld l, b
+    db $e4
+    db $e4
+    jp nc, $28d2
+
+    jr z, PaddingZone_003_432f
+
+    and h
+    jp nz, DataPadding_62c2
+
+    ld h, d
+    ld b, h
+    ld b, h
+    adc a
+    adc a
+    scf
+    scf
+    ld c, c
+    ld c, c
+    ld c, d
+    ld c, d
+    ld b, a
+    ld b, a
+    ld b, [hl]
+    ld b, [hl]
+    ld [hl+], a
+    ld [hl+], a
+    nop
+    nop
+    ldh [c], a
+    ldh [c], a
+    ret c
+
+Return_IfCarry_003_43a5:
+    ret c
+
+    inc h
+    inc h
+    and h
+    and h
+    call nz, $c4c4
+    call nz, $8888
+    nop
+    nop
+    ld b, c
+    ld b, d
+    ld [hl], $36
+    rlca
+    ld [$7e76], sp
+    sbc c
+    sbc c
+    cpl
+    cpl
+    ld b, h
+    ld b, h
+    ld [hl+], a
+    ld [hl+], a
+    inc b
+    add h
+    ret c
+
+    ret c
+
+    ret nz
+
+    jr nz, Return_IfCarry_003_43a5
+
+    db $fc
+    ld [hl-], a
+    ld [hl-], a
+    add sp, -$18
+    ld b, h
+    ld b, h
+    adc b
+    adc b
+    nop
+    nop
+    nop
+    nop
+    ld a, b
+    ld a, b
+    db $fc
+    call nz, $83e3
+    db $fc
+    call nz, AudioDataProcessor
+    nop
+    nop
+    jp $3dc3
+
+
+    dec a
+    jp hSoundParam2
+
+
+    rst $38
+    rst $38
+    rst $38
+    rst $28
+    rst $20
+    rst $38
+    rst $38
+    db $db
+    db $db
+    inc a
+    inc a
+    jr nz, AudioDispatch_Envelope
+
+    rst $38
+    rst $38
+    rst $38
+    cp l
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    cp l
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    inc bc
+    inc bc
+    inc c
+    inc c
+    db $10
+    db $10
+    jr nz, AudioData_003_442e
+
+    jr nz, AudioDispatch_Volume
+
+    ld b, b
+    ld b, b
+    nop
+    nop
+    nop
+    nop
+    add b
+    add b
+    ld b, b
+    ld b, b
+    inc h
+    inc h
+    ld a, [de]
+    ld a, [de]
+    ld bc, $0601
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+AudioDispatch_Channels:
+    nop
+    nop
+    nop
+    nop
+    nop
+
+AudioData_003_442e:
+    add b
+    add b
+
+AudioDispatch_Volume:
+    ld b, b
+    ld b, b
+    ld bc, $0201
+    ld [bc], a
+    inc b
+    inc b
+    rrca
+    ld [$0407], sp
+    inc bc
+    ld [bc], a
+    ld bc, $0001
+    nop
+    add b
+    add b
+
+AudioDispatch_Envelope:
+    nop
+    nop
+    pop bc
+
+AudioDispatch_Frequency:
+    nop
+    rst $30
+    nop
+    rst $38
+    nop
+    rst $38
+    ld b, b
+    rst $38
+    db $e3
+    ld a, $3e
+    inc de
+    nop
+    sbc c
+    nop
+    pop bc
+    nop
+    db $e3
+    nop
+    rst $38
+    nop
+    rst $38
+    add b
+    ld a, a
+    ld b, c
+    ld a, $3e
+    ld b, b
+    ld b, b
+    and b
+    jr nz, AudioDispatch_Frequency
+
+    jr nz, AudioDispatch_Channels
+
+    ld b, b
+    ret nz
+
+    ld b, b
+    add b
+    add b
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0200
+    nop
+    inc bc
+    nop
+    rlca
+    nop
+    rrca
+    nop
+    ld [hl-], a
+    nop
+    ld a, b
+    nop
+    add h
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    add d
+    nop
+    jp nz, $0400
+
+    nop
+    inc b
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0200
+    nop
+    inc b
+    nop
+    ld [$1000], sp
+    nop
+    jr nz, PaddingZone_003_44a3
+
+PaddingZone_003_44a3:
+    ld b, b
+    nop
+    add b
+    nop
+    ld [bc], a
+    nop
+    inc b
+    nop
+    ld [$0800], sp
+    nop
+    nop
+    nop
+    stop
+    inc b
+    nop
+    inc b
+    nop
+    inc b
+    nop
+    ld [$0800], sp
+    nop
+    ld [$0800], sp
+    nop
+    ld [$2000], sp
+    nop
+    jr c, JoypadInputData_44c7
+
+; ZONE MAL DESASSEMBLEE: Table de données joypad (88 bytes, $44C7-$451E)
+; Note: $44FF pointe vers byte de donnée, pas du code
+JoypadInputData_44c7:
+    ld e, $00
+    rrca
+    nop
+    ld b, $00
+    inc b
+    nop
+    ld b, $00
+    rlca
+    nop
+    stop
+    stop
+    nop
+    nop
+    add b
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld [$1000], sp
+    nop
+    sub b
+    nop
+    sub b
+    nop
+    and b
+    nop
+    and b
+    nop
+    ldh [rP1], a
+    ld b, b
+    nop
+    ld b, $00
+    ld [$0800], sp
+    nop
+    stop
+    nop
+    nop
+    ld hl, $2700
+    nop
+    rra
+    nop
+    add b
+    nop
+    nop
+    nop
+    nop
+    nop
+    stop
+    ld h, b
+    nop
+    ret nz
+
+    nop
+    add d
+    nop
+    inc b
+    nop
+    ld b, b
+    nop
+    ld b, b
+    nop
+    ld h, b
+    nop
+    jr nz, PaddingZone_003_451b
+
+PaddingZone_003_451b:
+    jr nz, PaddingZone_003_451d
+
+PaddingZone_003_451d:
+    ldh [rP1], a
+    stop
+    ld [$0100], sp
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld bc, $0200
+    nop
+    ld [bc], a
+    nop
+    inc b
+    nop
+    ld [$8000], sp
+    nop
+    sub b
+    nop
+    ret nc
+
+    nop
+    stop
+    jr nz, PaddingZone_003_453f
+
+PaddingZone_003_453f:
+    jr nz, SoundEngine_Target_1
+
+SoundEngine_Target_1:
+    jr nz, SoundEngine_Target_2
+
+SoundEngine_Target_2:
+    inc b
+    nop
+    inc b
+    nop
+    inc b
+    nop
+    inc b
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    jr c, SoundEngine_Target_3
+
+SoundEngine_Target_3:
+    call nz, Boot
+    nop
+    ld [bc], a
+    nop
+    add e
+    nop
+    rlca
+    nop
+    rrca
+    nop
+    ld [hl-], a
+    nop
+    ld b, b
+    nop
+    add b
+    nop
+    ld bc, $0200
+    nop
+
+AudioData_003_456b:
+    inc b
+    nop
+    ld [$1000], sp
+
+SoundEngine_Target_4:
+    nop
+    jr nz, SoundEngine_Target_4
+
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+
+SoundEngine_Target_5:
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    ei
+    db $fd
+    inc bc
+    nop
+    sbc c
+    nop
+    sbc c
+    nop
+    add c
+    nop
+    rst $38
+    nop
+    sbc c
+    nop
+    pop bc
+    nop
+    ld b, d
+    nop
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld [$1c00], sp
+    nop
+    ld [hl], $00
+    ld l, e
+    nop
+    db $dd
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    cp $00
+    ld a, l
+    nop
+    cp e
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    inc b
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    rla
+    nop
+    sub a
+    ld [bc], a
+    ld l, l
+    ld [bc], a
+    dec a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    jr nz, AudioData_003_45cd
+
+AudioData_003_45cd:
+    ld b, b
+    nop
+    ret nz
+
+    nop
+    and b
+    rlca
+    ld a, b
+    dec c
+    ld [hl], b
+    jr SoundEngine_Target_5
+
+    jr PaddingZone_003_463a
+
+    jr PaddingZone_003_463c
+
+    add hl, bc
+    jr nc, @+$07
+
+    jr PaddingZone_003_45e1
+
+PaddingZone_003_45e1:
+    rrca
+    nop
+    add sp, -$80
+    ld [hl], b
+    add b
+    ld [hl], b
+    ret nz
+
+    jr nc, AudioData_003_456b
+
+    ld h, b
+    add b
+    ld h, b
+    nop
+    ret nz
+
+    nop
+    nop
+    nop
+    rrca
+    nop
+    ld [$0800], sp
+    nop
+    rlca
+    nop
+    ld [bc], a
+    nop
+    ld bc, $0000
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    nop
+    nop
+    or a
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    jr nz, AudioHandler_Entry_1
+
+AudioHandler_Entry_1:
+    ld sp, $fe00
+    nop
+    ld [bc], a
+    nop
+    ld [bc], a
+    nop
+    db $fc
+    nop
+    ld [$f000], sp
+    nop
+    add b
+    nop
+    add b
+    nop
+    rra
+    nop
+    jr nz, AudioHandler_Entry_2
+
+AudioHandler_Entry_2:
+    jr nz, AudioHandler_Entry_3
+
+AudioHandler_Entry_3:
+    jr nz, PaddingZone_003_462b
+
+PaddingZone_003_462b:
+    jr nz, PaddingZone_003_462d
+
+PaddingZone_003_462d:
+    ld a, a
+    nop
+    add b
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    add b
+    nop
+    add b
+    nop
+    add b
+
+PaddingZone_003_463a:
+    nop
+    add b
+
+PaddingZone_003_463c:
+    nop
+    ret nz
+
+    nop
+    jr nz, AudioHandler_Entry_4
+
+AudioHandler_Entry_4:
+    ldh [rIE], a
+    rst $38
+    rst $38
+    rst $38
+    nop
+    rst $38
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    nop
+    rst $38
+    nop
+    nop
+    add c
+    nop
+    ld b, d
+    nop
+    inc h
+    nop
+    jr PaddingZone_003_465b
+
+PaddingZone_003_465b:
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    ld b, d
+    nop
+    ld e, d
+    nop
+    ld h, [hl]
+    nop
+    jp $8100
+
+
+    nop
+    rst $20
+    nop
+    rst $20
+    nop
+    sbc c
+    nop
+    sbc c
+    nop
+    sbc c
+    nop
+    cp l
+    nop
+    and l
+    nop
+    sbc c
+    nop
+    ld b, d
+    nop
+    ld h, [hl]
+    nop
+    ld e, d
+    nop
+    inc de
+    nop
+    dec d
+    nop
+    add hl, de
+    nop
+    ld de, $1100
+    nop
+    inc de
+    nop
+    dec d
+    nop
+    add hl, de
+    nop
+    jr c, JoypadInputEntry_4695
+
+JoypadInputEntry_4695:
+    ld b, h
+    nop
+    add d
+    nop
+    xor c
+    nop
+    xor d
+    nop
+    xor l
+    nop
+    or b
+    nop
+    ld b, b
+    nop
+    ld a, [hl]
+    nop
+    pop bc
+    nop
+    add c
+    nop
+    add c
+    nop
+    rst $20
+    nop
+    rst $20
+    nop
+    sbc c
+    nop
+    sbc c
+    nop
+    inc e
+    nop
+    ld [hl+], a
+    nop
+    ld b, c
+    nop
+    sub l
+    nop
+    ld d, l
+    nop
+    or l
+    nop
+    dec c
+    nop
+    ld [bc], a
+    nop
+    nop
+    nop
+    add c
+    nop
+    ld b, d
+    nop
+    and l
+    nop
+    ld a, [hl]
+    nop
+    inc a
+    nop
+    jr PaddingZone_003_46d1
+
+PaddingZone_003_46d1:
+    nop
+    nop
+    ld b, d
+    nop
+    ld b, [hl]
+    nop
+    ld b, d
+    nop
+    ld b, [hl]
+    nop
+    ld b, d
+    nop
+    ld b, [hl]
+    nop
+    ld b, d
+    nop
+    inc a
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    ccf
+    rst $38
+    ld e, $ff
+    db $fc
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $08
+    rst $38
+    add a
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    ld a, [hl]
+    rst $38
+    ccf
+    rst $38
+    rst $38
+    rst $38
+    di
+    rst $38
+    pop hl
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    rst $38
+    add e
+    rst $38
+    cp e
+    rst $38
+    and e
+    rst $38
+    and e
+    rst $38
+    add a
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    ld a, [hl]
+    db $fd
+    jp $83fd
+
+
+    ei
+    add a
+    rst $38
+    adc [hl]
+    xor b
+    rst $18
+    rst $18
+    rst $38
+    ld a, l
+    ld a, l
+    halt
+    halt
+    rst $38
+    set 7, l
+    ld h, e
+    db $fd
+    inc sp
+    db $db
+    scf
+    sub e
+    ld a, a
+    ld a, a
+    rst $38
+    and $e6
+    ld a, a
+    ld a, a
+    ret nz
+
+    ret nz
+
+    sbc a
+    sbc a
+    cp e
+    cp e
+    cp a
+    cp a
+    cp a
+    cp a
+    or a
+    or a
+    cp a
+    cp a
+    cp $fe
+    inc bc
+    inc bc
+    db $fd
+    db $fd
+    rst $28
+    rst $28
+    db $fd
+    db $fd
+    ld a, a
+    ld a, a
+    rst $38
+    rst $38
+    ei
+    ei
+    cp a
+    cp a
+    cp l
+    cp l
+    cp a
+    cp a
+    xor a
+    xor a
+    cp a
+    cp a
+    cp [hl]
+    cp [hl]
+    rst $18
+    rst $18
+    ld a, a
+    ld a, a
+    rst $38
+    rst $38
+    rst $18
+    rst $18
+    db $fd
+    db $fd
+    rst $38
+    rst $38
+    rst $30
+    rst $30
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    cp $fe
+    rst $38
+    db $db
+    rst $38
+    adc c
+    rst $38
+    adc l
+    rst $38
+    rst $18
+    ld a, d
+    ld e, d
+    ld [hl], d
+    ld [hl], d
+    jr nc, AudioData_003_47c0
+
+    jr nz, UnreachableCodeData_003_02
+
+    ld a, [hl]
+    ld a, [hl]
+    ei
+    rst $00
+    db $fd
+    add e
+    db $fd
+    jp $f3fd
+
+
+    db $fd
+    bit 7, c
+    ld c, a
+    cp $ce
+    ldh a, [c]
+    adc [hl]
+    rst $20
+    rst $18
+    call AudioStateUpdate
+    ld [hl], e
+    ld a, [hl]
+    ld h, d
+    ld sp, hl
+    rst $00
+    di
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+
+UnreachableCodeData_003_02:
+    ld a, a
+    ld a, a
+    rst $30
+    rst $00
+    xor $8e
+    db $dd
+    sbc h
+    cp e
+    cp b
+    or $f0
+    rst $38
+    rst $38
+
+AudioData_003_47c0:
+    ld a, a
+    ld a, a
+    cp $fe
+    ld l, a
+    rrca
+    rst $18
+    rra
+    cp e
+    dec sp
+    ld [hl], a
+    ld [hl], e
+    rst $28
+    rst $20
+    rst $38
+    rst $38
+    cp $fe
+    ld a, [hl]
+    ld a, [hl]
+    rst $28
+    rst $08
+    rst $18
+    sbc a
+    cp e
+    cp e
+    rst $30
+    di
+    rst $28
+    rst $20
+    rst $38
+    rst $38
+    ld a, [hl]
+    ld a, [hl]
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+
+; JoypadReadHandler
+; ------------------
+; Description: Lit l'état du joypad et détecte les touches nouvellement pressées
+; In:  (rien)
+; Out: hJoypadState = état actuel des touches, hJoypadDelta = touches nouvellement pressées
+; Modifie: a, b, c
+JoypadReadHandler:
+    ; Lecture des boutons directionnels (D-pad)
+    ld a, $20                   ; Sélectionner D-pad
+    ldh [rP1], a
+    ldh a, [rP1]                ; Lecture stabilisation
+    ldh a, [rP1]
+    cpl                         ; Inverser (bouton pressé = 1)
+    and $0f                     ; Garder seulement les 4 bits bas
+    swap a                      ; Déplacer vers bits hauts
+    ld b, a                     ; Sauvegarder D-pad dans b
+
+    ; Lecture des boutons action (A, B, Select, Start)
+    ld a, $10                   ; Sélectionner boutons action
+    ldh [rP1], a
+    ldh a, [rP1]                ; Lectures multiples pour stabilisation
+    ldh a, [rP1]
+    ldh a, [rP1]
+    ldh a, [rP1]
+    ldh a, [rP1]
+    ldh a, [rP1]
+    cpl                         ; Inverser
+    and $0f                     ; Garder les 4 bits bas
+    or b                        ; Combiner avec D-pad
+    ld c, a                     ; c = nouvel état complet
+
+    ; Calculer les touches nouvellement pressées (delta)
+    ldh a, [hJoypadState]       ; Ancien état
+    xor c                       ; XOR pour trouver changements
+    and c                       ; AND avec nouvel état = nouvelles pressions
+    ldh [hJoypadDelta], a
+
+    ; Sauvegarder le nouvel état
+    ld a, c
+    ldh [hJoypadState], a
+
+    ; Réinitialiser le joypad
+    ld a, $30                   ; Désélectionner tout
+    ldh [rP1], a
+    ret
+
+
+; AnimationHandler
+; ----------------
+; Description: Traite les frames d'animation pour les sprites
+; In:  hl = pointeur vers structure animation
+;      hParam3 = nombre de structures à traiter
+;      hParam1:hParam2 = pointeur buffer OAM destination
+; Out: Sprites rendus dans buffer OAM
+; Modifie: af, bc, de, hl
+AnimationHandler:
+    ld a, h
+    ldh [hAnimStructHigh], a
+    ld a, l
+    ldh [hAnimStructLow], a
+    ld a, [hl]
+    and a
+    jr z, AnimFrameEnd
+
+    cp ANIM_FLAG_HIDDEN
+    jr z, AnimHiddenSet
+
+AnimAdvanceFrame:
+    ldh a, [hAnimStructHigh]
+    ld h, a
+    ldh a, [hAnimStructLow]
+    ld l, a
+    ld de, ANIM_STRUCT_STRIDE
+    add hl, de
+    ldh a, [hParam3]
+    dec a
+    ldh [hParam3], a
+    ret z
+
+    jr AnimationHandler
+
+AnimClearHidden:
+    xor a
+    ldh [hAnimHiddenFlag], a
+    jr AnimAdvanceFrame
+
+AnimHiddenSet:
+    ldh [hAnimHiddenFlag], a
+
+AnimFrameEnd:
+    ld b, ANIM_BUFFER_SIZE
+    ld de, hAnimBuffer
+
+AnimCopyLoop:
+    ld a, [hl+]
+    ld [de], a
+    inc de
+    dec b
+    jr nz, AnimCopyLoop
+
+    ldh a, [hAnimFrameIndex]
+    ld hl, AnimFramePointerTable
+    rlca
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    ld a, [de]
+    ld l, a
+    inc de
+    ld a, [de]
+    ld h, a
+    inc de
+    ld a, [de]
+    ldh [hAnimObjX], a
+    inc de
+    ld a, [de]
+    ldh [hAnimObjY], a
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+
+AnimProcessFrame:
+    inc hl
+    ldh a, [hAnimBaseAttr]
+    ldh [hAnimAttr], a
+    ld a, [hl]
+    cp ANIM_CMD_END
+    jr z, AnimClearHidden
+
+    cp ANIM_CMD_FLIP_ATTR
+    jr nz, AnimCheckFlip
+
+    ldh a, [hAnimBaseAttr]
+    xor ANIM_ATTR_FLIP_BIT
+    ldh [hAnimAttr], a
+    jr AnimProcessFrame
+
+AnimSkipXY:
+    inc de
+    inc de
+    jr AnimProcessFrame
+
+AnimCheckFlip:
+    cp ANIM_CMD_SKIP_XY
+    jr z, AnimSkipXY
+
+    ldh [hAnimFrameIndex], a
+    ldh a, [hAnimOffsetX]
+    ld b, a
+    ld a, [de]
+    ld c, a
+    ldh a, [hAnimFlipFlags]
+    bit 6, a
+    jr nz, AnimFlipX
+
+    ldh a, [hAnimObjX]
+    add b
+    adc c
+    jr AnimXDone
+
+AnimFlipX:
+    ld a, b
+    push af
+    ldh a, [hAnimObjX]
+    ld b, a
+    pop af
+    sub b
+    sbc c
+    sbc SPRITE_SIZE_8X8
+
+AnimXDone:
+    ldh [hAnimCalcY], a
+    ldh a, [hAnimOffsetY]
+    ld b, a
+    inc de
+    ld a, [de]
+    inc de
+    ld c, a
+    ldh a, [hAnimFlipFlags]
+    bit 5, a
+    jr nz, AnimFlipY
+
+    ldh a, [hAnimObjY]
+    add b
+    adc c
+    jr AnimYDone
+
+AnimFlipY:
+    ld a, b
+    push af
+    ldh a, [hAnimObjY]
+    ld b, a
+    pop af
+    sub b
+    sbc c
+    sbc SPRITE_SIZE_8X8
+
+AnimYDone:
+    ldh [hAnimCalcX], a
+    push hl
+    ldh a, [hParam1]
+    ld h, a
+    ldh a, [hParam2]
+    ld l, a
+    ldh a, [hAnimHiddenFlag]
+    and a
+    jr z, AnimHiddenY
+
+    ld a, ANIM_CMD_END
+    jr AnimRender
+
+AnimHiddenY:
+    ldh a, [hAnimCalcY]
+
+AnimRender:
+    ld [hl+], a
+    ldh a, [hAnimCalcX]
+    ld [hl+], a
+    ldh a, [hAnimFrameIndex]
+    ld [hl+], a
+    ldh a, [hAnimAttr]
+    ld b, a
+    ldh a, [hAnimFlipFlags]
+    or b
+    ld b, a
+    ldh a, [hAnimFlags2]
+    or b
+    ld [hl+], a
+    ld a, h
+    ldh [hParam1], a
+    ld a, l
+    ldh [hParam2], a
+    pop hl
+    jp AnimProcessFrame
+
+
+; CheckObjectState
+; ----------------
+; Description: Vérifie et met à jour l'état du premier objet (wObject1)
+;              Si l'état suivant est valide (< $0F), il est copié depuis wObject1+1
+;              vers wObject1 et wObject1+1 est réinitialisé à 0.
+; In:  Aucun paramètre direct
+; Out: Aucun
+; Modifie: a, b, hl
+; Notes: wObject1+0 = wPlayerUnk08 (état actuel objet 1)
+;        wObject1+1 = wPlayerUnk09 (état suivant objet 1)
+;        Si état suivant = 0, rien n'est fait
+;        Si état actuel >= $0F, rien n'est fait (état invalide)
+CheckObjectState::
+    ld hl, wPlayerUnk09         ; hl = adresse état suivant (wObject1+1)
+    ld a, [hl]                  ; a = état suivant
+    ld b, a                     ; b = sauvegarde état suivant
+    and a                       ; Vérifier si état suivant = 0
+    ret z                       ; Si 0, rien à faire
+
+    dec l                       ; hl = wPlayerUnk08 (état actuel = wObject1+0)
+    ld a, [hl]                  ; a = état actuel
+    cp $0f                      ; Comparer avec état max
+    ret nc                      ; Si >= $0F, état invalide, retour
+
+    ld [hl], b                  ; État actuel = état suivant
+    inc l                       ; hl = wPlayerUnk09 (état suivant)
+    ld [hl], $00                ; Réinitialiser état suivant à 0
+    ret
+
+
+; ProcessObjectData
+; ------------------
+; Description: Traite et met à jour les données d'un objet en fonction de son état
+;              et de la table ROM_OBJECT_INIT_DATA. Gère deux modes (type 1 et 2):
+;              - Type 1: décrémente la valeur objet de la valeur table
+;              - Type 2: incrémente la valeur objet de la valeur table (marche arrière)
+; In:  bc = pointeur structure objet (wObject1-5) + offset $07 (champ index)
+;      hl = pointeur table ROM_OBJECT_INIT_DATA
+; Out: Objet mis à jour avec nouvel index et état si boundary atteinte
+; Modifie: a, bc, de, hl
+ProcessObjectData::
+    ; Charger index courant dans DE
+    ld a, [bc]              ; a = objet.index (+$07)
+    ld e, a
+    ld d, $00               ; de = index
+
+    ; Pointer vers objet.state (bc - 7 = offset $00)
+    dec c
+    ld a, [bc]              ; a = objet.state (+$06)
+    dec c
+    dec c
+    dec c
+    dec c
+    dec c
+    dec c                   ; bc pointe maintenant sur objet.value (+$00)
+
+    ; Si state = 0, rien à faire
+    and a
+    ret z
+
+    ; Dispatch selon type de state
+    cp ANIM_TRANSITION_DEFAULT  ; $02
+    jr z, StateType2Branch
+
+    ; --- TYPE 1: Décrémentation (marche avant) ---
+    add hl, de              ; hl = &ROM_OBJECT_INIT_DATA[index]
+    ld a, [hl]
+    cp ANIM_TRANSITION_END_MARKER  ; $7f = boundary marker
+    jr z, StateBoundaryMax
+
+    ; Décrémenter valeur objet
+    ld a, [bc]
+    sub [hl]                ; value -= table[index]
+    ld [bc], a
+    inc e                   ; index++
+
+StateStoreValue:
+    ; Sauvegarder nouvel index à objet+$07
+    ld a, e
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c                   ; bc = objet + $07
+    ld [bc], a
+    ret
+
+
+StateType2Branch:
+    ; --- TYPE 2: Incrémentation (marche arrière) ---
+    ld a, e
+    cp SLOT_EMPTY           ; $ff = index invalide
+    jr z, StateType2End
+
+    add hl, de              ; hl = &ROM_OBJECT_INIT_DATA[index]
+    ld a, [hl]
+    cp ANIM_TRANSITION_END_MARKER  ; $7f = boundary marker
+    jr z, StateBoundaryCheck
+
+StateProcessValue:
+    ; Incrémenter valeur objet
+    ld a, [bc]
+    add [hl]                ; value += table[index]
+    ld [bc], a
+    dec e                   ; index-- (marche arrière)
+    jr StateStoreValue
+
+StateBoundaryCheck:
+    ; Boundary rencontrée en type 2, reculer index
+    dec hl
+    dec e
+    jr StateProcessValue
+
+StateBoundaryMax:
+    ; Boundary rencontrée en type 1, basculer vers type 2
+    dec de                  ; index--
+    dec hl
+
+    ; Changer state vers type 2
+    ld a, ANIM_TRANSITION_DEFAULT  ; $02
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c                   ; bc = objet + $06 (state)
+    ld [bc], a
+    dec c
+    dec c
+    dec c
+    dec c
+    dec c
+    dec c                   ; bc = objet + $00 (value)
+    jr StateProcessValue
+
+StateType2End:
+    ; Index invalide en type 2, réinitialiser
+    xor a
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c
+    inc c                   ; bc = objet + $06 (state)
+    ld [bc], a              ; state = 0
+    inc c                   ; bc = objet + $07 (index)
+    ld [bc], a              ; index = 0
+    ret
+
+
+FXDispatch_1:
+    inc e
+    ld a, [de]
+    cp $0f
+    jr nc, StateValidExit
+
+    inc e
+    dec a
+    ld [de], a
+    dec e
+    ld a, $0f
+    ld [de], a
+    jr StateValidExit
+
+FXDispatch_2:
+    push af
+    ld a, [de]
+    and a
+    jr nz, FXDispatch_4
+
+    ld a, [wPlayerUnk0C]
+    cp $03
+    ld a, $02
+    jr c, FXDispatch_3
+
+    ld a, $04
+
+FXDispatch_3:
+    ld [wPlayerUnk0E], a
+
+FXDispatch_4:
+    pop af
+    jr JoypadInputBit0Check
+
+; ProcessGameStateInput
+; ---------------------
+; Description: Traite les entrées joypad selon l'état du jeu (menu vs gameplay)
+;              Gère les actions du bouton A, les transitions d'état et
+;              la préparation du buffer sprites
+; In:  hGameState = état actuel du jeu
+;      hJoypadState = état des boutons
+;      hJoypadDelta = boutons nouvellement pressés
+; Out: Peut modifier wPlayerUnk0E, wStateBuffer, wPlayerUnk07
+; Modifie: a, bc, de, hl
+ProcessGameStateInput::
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY  ; État $0D (gameplay actif) ?
+    jp z, HandleJoypadInputDelay
+
+    ld de, wPlayerUnk07
+    ldh a, [hJoypadDelta]
+    ld b, a
+    ldh a, [hJoypadState]
+    bit 1, a
+    jr nz, FXDispatch_2
+
+    push af
+    ld a, [wPlayerUnk0E]
+    cp $04
+    jr nz, JoypadInputCheckFX04
+
+    ld a, $02
+    ld [wPlayerUnk0E], a
+
+JoypadInputCheckFX04:
+    pop af
+
+JoypadInputBit0Check:
+    bit 0, a
+    jr nz, JoypadInputProcessAPress
+
+    ld a, [de]
+    cp $01
+    jr z, FXDispatch_1
+
+StateValidExit:
+    bit 7, b
+    jp nz, ResetMenuStateToIdle
+
+; ValidateAndProcessGameState
+; ----------------------------
+; Description: Valide l'état du jeu en fonction du bit 1 de b.
+;              Si bit 1 de b est activé, passe au contrôle de verrouillage.
+;              Sinon, retourne immédiatement.
+; In:  b = flags d'état (bit 1 = contrôle requis)
+; Out: Aucun (peut transférer à ValidateAndProcessGameState_CheckLock)
+; Modifie: Aucun (sauf si continue vers CheckLock)
+ValidateAndProcessGameState:
+    bit 1, b
+    jr nz, ValidateAndProcessGameState_CheckLock
+
+    ret
+
+
+JoypadInputProcessAPress:
+    ld a, [de]
+    and a
+    jr nz, StateValidExit
+
+    ld hl, wPlayerUnk0A
+    ld a, [hl]
+    and a
+    jr z, StateValidExit
+
+    bit 0, b
+    jr z, StateValidExit
+
+    ld [hl], $00
+    ld hl, wPlayerDir
+    push hl
+    ld a, [hl]
+    cp $18
+    jr z, JoypadInputProcessAPress_TransitionToGame
+
+    and $f0
+    or $04
+    ld [hl], a
+    ld a, [wPlayerUnk0E]
+    cp $04
+    jr z, JoypadInputProcessAPress_SetInitialState
+
+    ld a, $02
+    ld [wPlayerUnk0E], a
+    ld [wPlayerUnk08], a
+
+JoypadInputProcessAPress_SetInitialState:
+    ld hl, wPlayerUnk0C
+    ld [hl], MENU_STATE_ACTIVE      ; État menu = actif (48 frames)
+
+JoypadInputProcessAPress_TransitionToGame:
+    ld hl, wStateBuffer
+    ld [hl], $01
+    ld a, $01
+    ld [de], a
+    pop hl
+    jr StateValidExit
+
+; ValidateAndProcessGameState_CheckLock
+; --------------------------------------
+; Description: Vérifie le compteur d'accélération du joueur et le flag de verrouillage.
+;              Si le compteur atteint la valeur max (6) ET que les updates ne sont pas
+;              verrouillées, réinitialise le compteur. Sinon, passe directement au buffer OAM.
+; In:  Aucun (lit wPlayerUnk0C et hUpdateLockFlag)
+; Out: Aucun (peut réinitialiser wPlayerUnk0C à 0)
+; Modifie: a, hl
+ValidateAndProcessGameState_CheckLock:
+    ld hl, wPlayerUnk0C
+    ld a, [hl]
+    cp PLAYER_ACCEL_COUNTER_MAX     ; Vérifie si compteur accélération = 6
+    jr nz, InitializeSpriteTransferBuffer
+
+    JumpIfLocked InitializeSpriteTransferBuffer
+
+    ld [hl], $00
+
+; InitializeSpriteTransferBuffer
+; ------------------------------
+; Description: Prépare le buffer de transfert OAM pour les sprites actifs.
+;              Initialise les coordonnées Y/X, tile et attributs des sprites
+;              selon l'état du jeu (gameplay ou autre).
+; In:  Aucun (utilise états globaux hGameState, hSubState)
+; Out: Aucun
+; Modifie: a, bc, de, hl, buffer wOamBuffer
+InitializeSpriteTransferBuffer:
+InitializeSpriteTransferBuffer_CheckGameState:
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY  ; État $0D (gameplay actif) ?
+    ld b, $03               ; En gameplay: traiter 3 objets max
+    jr z, InitializeSpriteTransferBuffer_SelectBValue
+
+    ldh a, [hSubState]
+    and a
+    ret z                   ; Si subState = 0, rien à faire
+
+    ld b, $01               ; Sinon: traiter 1 objet
+
+InitializeSpriteTransferBuffer_SelectBValue:
+    ld hl, hObjParamBuf1    ; Pointeur vers buffer paramètres objets
+    ld de, wOamBuffer       ; Pointeur vers buffer OAM
+
+InitializeSpriteTransferBuffer_CountObjects:
+    ld a, [hl+]
+    and a                   ; Objet actif ?
+    jr z, InitializeSpriteTransferBuffer_LoadObject
+
+    inc e                   ; Skip 4 octets OAM par sprite
+    inc e                   ; (Y, X, Tile, Attributs)
+    inc e
+    inc e
+    dec b
+    jr nz, InitializeSpriteTransferBuffer_CountObjects
+
+    ret                     ; Tous les slots traités
+
+
+InitializeSpriteTransferBuffer_LoadObject:
+    push hl
+    ld hl, wPlayerUnk05     ; Flags/attributs du joueur
+    ld b, [hl]
+    ld hl, wPlayerX
+    ld a, [hl+]             ; Charge X
+    add $fe                 ; Ajuste X (-2)
+    ld [de], a              ; OAM Y position
+    inc e
+    ld c, $02               ; Offset X par défaut = +2
+    bit 5, b                ; Test flip horizontal
+    jr z, SetSpriteXPosition
+
+    ld c, $f8               ; Si flip: offset = -8
+
+SetSpriteXPosition:
+    ld a, [hl+]             ; Charge Y
+    add c                   ; Applique offset
+    ld [de], a              ; OAM X position
+    ld c, $60               ; Tile par défaut = $60
+    inc e
+    ldh a, [hGameState]
+    cp GAME_STATE_GAMEPLAY  ; État $0D (gameplay actif) ?
+    jr nz, SelectSpriteTile
+
+    ld c, $7a               ; Tile gameplay = $7A
+    ldh a, [hRenderContext]
+    cp RENDER_CONTEXT_SPECIAL       ; $0B contexte spécial
+    jr nz, SelectSpriteTile
+
+    ld c, $6e               ; Tile spécial = $6E
+
+SelectSpriteTile:
+    ld a, c
+    ld [de], a              ; OAM Tile number
+    inc e
+    xor a
+    ld [de], a              ; OAM Attributs = 0
+    pop hl
+    dec l                   ; Revenir au buffer de paramètres
+    ld c, $0a               ; Animation frame = $0A
+    bit 5, b
+    jr nz, SetAnimationFrame
+
+    ld c, $09               ; Si pas flip: frame = $09
+
+SetAnimationFrame:
+    ld [hl], c              ; Écrit animation frame
+    ld hl, wStateBuffer
+    ld [hl], $02            ; État buffer = 2
+    ld a, $0c
+    ld [wGameVarAE], a      ; Timer/délai = 12 frames
+    ld a, $ff
+    ld [wGameVarA9], a      ; Flag = $FF
+    ret
+
+
+; ResetMenuStateToIdle
+; --------------------
+; Description: Réinitialise l'état du menu en mode idle et valide l'état du jeu.
+;              Appelé quand le bit 7 du registre b est activé (typiquement après
+;              une action menu ou un timeout).
+; In:  b = flags d'état joypad (bit 7 = reset demandé)
+; Out: Aucun
+; Modifie: hl, a (via ValidateAndProcessGameState)
+ResetMenuStateToIdle:
+    ld hl, wPlayerUnk0C
+    ld [hl], MENU_STATE_IDLE        ; État menu = idle (32 frames)
+    jp ValidateAndProcessGameState
+
+
+; HandleJoypadInputDelay
+; ----------------------
+; Description: Gère le délai d'input joypad en mode gameplay.
+;              Si un bouton pressé (hJoypadDelta & FRAME_MASK_4), passe au buffer OAM.
+;              Sinon, si bouton A appuyé et compteur wGameVarAE actif, décrémente le compteur.
+;              Si compteur atteint 0, passe au buffer OAM.
+; In:  hJoypadDelta = boutons nouvellement pressés (frame counter & 3)
+;      hJoypadState = état actuel des boutons
+;      wGameVarAE = compteur de délai (12 frames typiquement)
+; Out: Aucun (peut sauter vers InitializeSpriteTransferBuffer)
+; Modifie: a, hl
+HandleJoypadInputDelay:
+    ldh a, [hJoypadDelta]
+    and FRAME_MASK_4
+    jr nz, InitializeSpriteTransferBuffer
+
+    ldh a, [hJoypadState]
+    bit 0, a                            ; Bouton A pressé ?
+    ret z
+
+    ld hl, wGameVarAE
+    ld a, [hl]
+    and a                               ; Compteur délai actif ?
+    jp z, InitializeSpriteTransferBuffer
+
+    dec [hl]                            ; Décrémenter compteur délai
+    ret
+
+
+; CheckUnlockState
+; ----------------
+; Description: Gère la lecture d'inputs démo pré-enregistrés pendant le verrouillage.
+;              Utilisé pour les séquences attract mode (démonstrations automatiques).
+; In:  hUpdateLockFlag = flag de verrouillage (0 = déverrouillé)
+; Out: hJoypadState et hJoypadDelta = inputs simulés depuis séquence démo
+; Modifie: a, de, hl
+CheckUnlockState::
+    ; Early return si système déverrouillé (mode gameplay normal)
+    ReturnIfUnlocked
+
+    ; Si a == $ff, ne rien faire (état spécial)
+    cp $ff
+    ret z
+
+    ; Vérifier si délai actif (wLevelVarD8 = compteur frames entre inputs)
+    ld a, [wLevelVarD8]
+    and a
+    jr z, .loadNextDemoInput
+
+    ; Décrémenter délai et sortir
+    dec a
+    ld [wLevelVarD8], a
+    jr .applyDemoInput
+
+.loadNextDemoInput:
+    ; Charger table de pointeurs vers séquences démo par bank
+    ld a, [wCurrentROMBank]
+    sla a                               ; × 2 (pointeurs 16-bit)
+    ld e, a
+    ld d, $00
+    ld hl, DemoSequencePointersTable
+    add hl, de
+
+    ; Charger pointeur vers séquence démo de cette bank
+    ld e, [hl]
+    inc hl
+    ld d, [hl]
+    push de
+    pop hl
+
+    ; Indexer dans la séquence selon wLevelVarD9 (offset courant)
+    ld a, [wLevelVarD9]
+    ld d, $00
+    ld e, a
+    add hl, de
+
+    ; Lire paire [input, délai]
+    ld a, [hl+]
+    cp $ff                              ; Marqueur fin de séquence ?
+    jr z, .clearDemoInput
+
+    ; Stocker input et délai
+    ld [wLevelVarDA], a                 ; Input joypad simulé
+    ld a, [hl]
+    ld [wLevelVarD8], a                 ; Délai avant prochain input
+
+    ; Avancer offset de 2 octets (input + délai)
+    inc e
+    inc e
+    ld a, e
+    ld [wLevelVarD9], a
+
+.applyDemoInput:
+    ; Sauvegarder ancien état joypad et appliquer input démo
+    ldh a, [hJoypadState]
+    ld [wLevelVarDB], a                 ; Backup
+    ld a, [wLevelVarDA]                 ; Input simulé
+    ldh [hJoypadState], a
+    ldh [hJoypadDelta], a
+    ret
+
+.clearDemoInput:
+    ; Fin de séquence : réinitialiser input à 0
+    xor a
+    ld [wLevelVarDA], a
+    jr .applyDemoInput
+
+; DemoSequencePointersTable
+; -------------------------
+; Description: Table de pointeurs 16-bit vers les séquences d'inputs démo par bank ROM
+; Format: 3 pointeurs little-endian (bank 0, 1, 2)
+; Référencé par: Routine .loadNextDemoInput à $4AA7
+DemoSequencePointersTable:
+    dw $6550    ; Bank 0 - Pointeur vers séquence démo
+    dw $65E0    ; Bank 1 - Pointeur vers séquence démo
+    dw $6670    ; Bank 2 - Pointeur vers séquence démo
+
+; InitRenderLoop
+; ----------------
+; Description: Initialise et traite la boucle de rendu pour 4 objets.
+;              Parcourt les slots d'objets (wPlayerUnk10 + n*16) et ajuste
+;              leurs positions X en fonction du scroll (hShadowSCX).
+;              - Si objet = $80: marque comme désactivé ($ff)
+;              - Si objet = $00 et offset+7 != 0: ajuste position X
+; In:  wPlayerUnk10 = premier slot objet (structure 16 bytes)
+;      hShadowSCX = position scroll actuelle
+;      hRenderAttr = ancienne position scroll
+; Out: hRenderAttr = mis à jour avec hShadowSCX
+; Modifie: a, b, c, de, hl
+InitRenderLoop::
+    ld b, INIT_OBJECTS_LOOP_COUNT
+    ld de, OBJECT_SLOT_SIZE
+    ld hl, wPlayerUnk10
+
+ProcessRenderObjectLoop:
+    push hl
+    ld a, [hl]
+    cp $80
+    jr nz, RenderLoopContinue
+
+    ld [hl], $ff
+
+RenderLoopContinue:
+    and a
+    jr nz, RenderLoopProcessActive
+
+    push de
+    ld de, $0007
+    add hl, de
+    pop de
+    ld a, [hl]
+    and a
+    jr z, RenderLoopSetFlag
+
+    dec l
+    dec l
+    ld a, [hl]
+    dec l
+    dec l
+    dec l
+    and a
+    jr nz, RenderLoopDecrement
+
+    inc [hl]
+    ldh a, [hRenderAttr]
+    ld c, a
+    ldh a, [hShadowSCX]
+    sub c
+    ld c, a
+    ld a, [hl]
+    sub c
+    ld [hl], a
+
+RenderLoopProcessActive:
+    pop hl
+    add hl, de
+    dec b
+    jr nz, ProcessRenderObjectLoop
+
+    ldh a, [hShadowSCX]
+    ldh [hRenderAttr], a
+    ret
+
+
+RenderLoopDecrement:
+    dec [hl]
+    ldh a, [hRenderAttr]
+    ld c, a
+    ldh a, [hShadowSCX]
+    sub c
+    ld c, a
+    ld a, [hl]
+    sub c
+    ld [hl], a
+    jr RenderLoopProcessActive
+
+RenderLoopSetFlag:
+    pop hl
+    push hl
+    ld [hl], $80
+    inc l
+    inc l
+    ld [hl], $ff
+    jr RenderLoopProcessActive
+
+; CheckBlockCollision
+; -------------------
+; Description: Vérifie la collision entre le joueur et les blocs frappés (type $03)
+;              et ajuste la position/état selon la distance entre bloc et joueur
+; In:  hBlockHitType = type de bloc frappé
+;      hRenderX/Y = position du bloc rendu
+;      wPlayerX = position X du joueur
+;      wPlayerUnk0A = état spécial joueur (si !=0, efface collision)
+; Out: carry = non utilisé (ret simple)
+; Modifie: a, bc, hl
+CheckBlockCollision::
+    ldh a, [hBlockHitType]
+    cp $03                  ; Type $03 = bloc frappé (à documenter dans constants.inc)
+    ret nz
+
+    ld hl, wOamVar2D
+    ldh a, [hShadowSCX]
+    ld b, a
+    ldh a, [hRenderY]
+    sub b
+    ld [hl-], a
+    ld a, [wPlayerX]
+    sub PLAYER_X_SUB_OFFSET ; Offset X bloc frappé (11 pixels)
+    ld [hl], a
+    ld a, [wPlayerUnk0A]
+    and a
+    jr nz, HandleBlockCollisionClear
+
+    ldh a, [hRenderX]
+    ld b, a
+    sub COLLISION_OFFSET_4  ; Distance minimale collision (4 pixels)
+    cp [hl]
+    jr nc, HandleBlockCollisionResolve
+
+    ld a, b
+    cp [hl]
+    ret nc
+
+HandleBlockCollisionClear:
+    ld [hl], $00
+    ld a, BLOCK_HIT_ITEM    ; Passer en type "bloc item"
+    ldh [hBlockHitType], a
+    ret
+
+
+HandleBlockCollisionResolve:
+    ld a, PLAYER_UNK07_FALLING  ; Marquer joueur en chute
+    ld [wPlayerUnk07], a
+    ret
+
+
+; CheckPlayerBounds
+; -----------------
+; Description: Vérifie si le joueur est dans la zone critique de scroll et déclenche une transition d'état
+;              Si le joueur est entre PLAYER_X_SCROLL_MIN et PLAYER_X_SCROLL_MAX, réinitialise les états
+;              et timers pour déclencher une transition (probablement scrolling ou changement de zone)
+; In:  wPlayerX = position X du joueur
+; Out: hGameState = 1, wStateRender = 2, hTimer1 = TIMER_CHECKPOINT_LONG si dans zone critique
+;      hTimerAux et hSubState = 0
+; Modifie: a, hl
+CheckPlayerBounds::
+    ld hl, wPlayerX
+    ld a, [hl]
+    cp PLAYER_X_SCROLL_MIN      ; Seuil gauche zone scroll (180 pixels)
+    ret c                       ; Si X < 180, retour sans action
+
+    cp PLAYER_X_SCROLL_MAX      ; Seuil droit zone scroll (192 pixels)
+    ret nc                      ; Si X >= 192, retour sans action
+
+    ; Joueur dans zone critique [180-191] → déclencher transition
+    xor a
+    ldh [hTimerAux], a          ; Réinitialiser timer auxiliaire
+    ldh [hSubState], a          ; Réinitialiser sous-état
+    inc a
+    ldh [hGameState], a         ; hGameState = 1
+    inc a
+    ld [wStateRender], a        ; wStateRender = 2
+    ld a, TIMER_CHECKPOINT_LONG ; Timer checkpoint (144 frames)
+    ldh [hTimer1], a
+    ret
+
+
+; CheckTimerAux1
+; ----------------
+; Description: Vérifie l'état du timer auxiliaire (cas 1). Gère l'animation
+;              du joueur en mode pipe toutes les 4 frames quand timer actif.
+; In:  hTimerAux = état timer, hTimer1 = compteur frames
+; Out: wPlayerY mis à 0, wPlayerDir bit animation modifié
+; Modifie: a
+CheckTimerAux1::
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_ACTIVE         ; État timer actif?
+    ret nz
+
+    ldh a, [hTimer1]
+    and a
+    jr z, TimerInitializeAux
+
+    and FRAME_MASK_4
+    ret nz
+
+    xor a
+    ld [wPlayerY], a
+    ld a, [wPlayerDir]
+    xor PLAYER_DIR_ANIM_BIT     ; Alterner bit animation
+    ld [wPlayerDir], a
+    ret
+
+; TimerInitializeAux
+; -------------------
+; Description: Initialise le mode pipe quand timer1 est à 0
+; In:  -
+; Out: hTimerAux = TIMER_AUX_PIPE_MODE, wPlayerY = 0,
+;      wPlayerDir bit animation activé
+; Modifie: a
+TimerInitializeAux:
+    ld a, TIMER_AUX_PIPE_MODE   ; Passer en mode pipe
+    ldh [hTimerAux], a
+    xor a
+    ld [wPlayerY], a
+    ld a, [wPlayerDir]
+    or PLAYER_DIR_ANIM_BIT      ; Activer bit animation
+    ld [wPlayerDir], a
+    ret
+
+
+; CheckTimerAux2
+; ----------------
+; Description: Gère le timer auxiliaire en état 2 (phase de dégâts/récupération)
+;              Alterne l'animation joueur pendant dégâts, puis passe en mode terminé
+; In:  hTimerAux = état timer aux ($03=dégâts max, $04=terminé)
+;      hTimer1 = timer principal pour timing animations
+; Out: hTimerAux, hTimer1, wPlayerDir, wPlayerY modifiés selon état
+; Modifie: a
+CheckTimerAux2::
+    ldh a, [hTimerAux]
+    cp TIMER_AUX_COMPLETE       ; Timer terminé?
+    jr z, .HandleCompleteState
+
+    cp TIMER_AUX_DAMAGE_MAX     ; Seuil dégâts atteint?
+    ret nz
+
+    ldh a, [hTimer1]
+    and a
+    jr z, .TransitionToComplete
+
+    and FRAME_MASK_4
+    ret nz
+
+    ld a, [wPlayerDir]
+    xor PLAYER_DIR_ANIM_BIT     ; Alterner bit animation
+    ld [wPlayerDir], a
+    ret
+
+
+.TransitionToComplete:
+    ld a, TIMER_AUX_COMPLETE    ; Marquer timer comme terminé
+    ldh [hTimerAux], a
+    ld a, TIMER_CHECKPOINT_SHORT ; Timer checkpoint court (64 frames)
+    ldh [hTimer1], a
+    ld a, [wPlayerDir]
+    and NIBBLE_LOW_MASK         ; Garder seulement nibble bas direction
+    ld [wPlayerDir], a
+    ret
+
+
+.HandleCompleteState:
+    ldh a, [hTimer1]
+    and a
+    jr z, .FullReset
+
+    and FRAME_MASK_4
+    ret nz
+
+    ld a, [wPlayerY]
+    xor $80                     ; Toggle bit 7 de Y (effet visuel fin damage)
+    ld [wPlayerY], a
+    ret
+
+
+.FullReset:
+    xor a                       ; a = 0
+    ldh [hTimerAux], a          ; Reset timer aux
+    ld [wPlayerY], a            ; Reset position Y
+    ld a, [wPlayerDir]
+    and NIBBLE_LOW_MASK         ; Garder seulement nibble bas direction
+    ld [wPlayerDir], a
+    ret
+
+
+    ldh a, [hUpdateLockFlag]
+    cp $ff
+    ret nz
+
+    ldh a, [hJoypadState]
+    ld b, a
+    ld a, [wLevelVarDA]
+    cp b
+    jr z, IncrementInputCounter
+
+    ld hl, wDemoRecordBuffer
+    ld a, [wLevelVarD9]
+    ld e, a
+    ld d, $00
+    add hl, de
+    ld a, [wLevelVarDA]
+    ld [hl+], a
+    ld a, [wLevelVarD8]
+    ld [hl], a
+    inc e
+    inc e
+    ld a, e
+    ld [wLevelVarD9], a
+    ld a, b
+    ld [wLevelVarDA], a
+    xor a
+    ld [wLevelVarD8], a
+    ret
+
+
+IncrementInputCounter:
+    ld a, [wLevelVarD8]
+    inc a
+    ld [wLevelVarD8], a
+    ret
+
+
+; AnimFramePointerTable
+; ----------------------
+; Description: Table de pointeurs vers structures d'animation de sprites
+; In:  hAnimFrameIndex = index de frame (multiplié par 2 dans le code)
+; Format: Chaque entrée est un word (dw) - soit un pointeur vers structure,
+;         soit des données embedded (coordonnées, etc.)
+;         Dernière entrée: byte orphelin (db)
+AnimFramePointerTable:
+    dw $4C8D
+    dw $4C91
+    dw $4C95
+    dw $4C99
+    dw $4C9D
+    dw $4CA1
+    dw $4CA5
+    dw $4CA9
+    dw $4C8D
+    dw $4C91
+    dw $4CB1
+    dw $4CB5
+    dw $4CB9
+    dw $4CBD
+    dw $4CA5
+    dw $4CAD
+    dw $4CC1
+    dw $4CC5
+    dw $4CC9
+    dw $4CCD
+    dw $4CD1
+    dw $4CD5
+    dw $4CD9
+    dw AnimFrame_4CDD_Overlap
+    dw $4CE1
+    dw $4CE5
+    dw $4CE9
+    dw $4CED
+    dw $4CF1
+    dw $4CF5
+    dw $4CF5
+    dw $4CF5
+    dw $4CF9
+    dw $4CFD
+    dw $4D01
+    dw $4D05
+    dw $4D09
+    dw $4D0D
+    dw $4D19
+    dw $4D15
+    dw $4D11
+    dw $4D1D
+    dw $4D21
+    dw $4D25
+
+; AnimFrame Structures
+; --------------------
+; Description: Structures de frames d'animation (format: 2 words par structure)
+
+AnimFrame_4C8D:
+    dw $F8F9
+    dw $4D2C
+AnimFrame_4C91:
+    dw $F8F9
+    dw $4D33
+; AnimFrame_Walk3 - Frame d'animation de marche (frame 3)
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4C95:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes)
+    dw $4D3A           ; → SpriteData_Walk3 (séquence de commandes sprite)
+; AnimFrame_Walk4 - Frame d'animation de marche (frame 4)
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_Walk4:
+AnimFrame_4C99:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes)
+    dw $4D41           ; → SpriteData_Walk4 (séquence de commandes sprite)
+; AnimFrame_Walk5 - Frame d'animation de marche (frame 5)
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_Walk5:
+AnimFrame_4C9D:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes)
+    dw $4D48           ; → SpriteData_Walk5 (séquence de commandes sprite)
+; AnimFrame_Walk6 - Frame d'animation de marche (frame 6)
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_Walk6:
+AnimFrame_4CA1:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes)
+    dw $4D4F           ; → SpriteData_Walk6 (séquence de commandes sprite)
+; WARNING: Zone mal désassemblée! Données réelles @ $4CA7: 02 00 04 00 04 00...
+; Cette zone entière ($4BF1-$4CFF) nécessite reconstruction complète
+; Adresse ROM réelle de ce label: $4CA7 (pas $4CA5)
+AnimFrame_4CA5:
+    dw $FBF9
+    dw $4D56           ; → SpriteData séquence de commandes sprite
+; NOTE: L'adresse $4CA9 (référencée dans AnimFramePointerTable) pointe ici,
+;       au milieu de la structure précédente ($4CA7-$4CAA).
+;       Lecture depuis $4CA9: dw $4D56, $FBF9 (optimisation d'espace mémoire)
+AnimFrame_4CA9:
+    dw $FBF9           ; Offset Y/X relatifs (signed bytes: -5, -7)
+    dw $4D5D           ; → SpriteData (séquence de commandes sprite)
+; AnimFrame_4CAD - Structure d'animation
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CAD:
+    dw $FCFC           ; Offset Y/X relatifs (signed bytes: -4, -4)
+    dw $4D61           ; → SpriteData (séquence de commandes sprite - MAL DÉSASSEMBLÉ)
+AnimFrame_4CB1:
+    dw $F8F9
+    dw $4D68
+AnimFrame_4CB5:
+    dw $F8F9
+    dw $4D6F
+AnimFrame_4CB9:
+    dw $F8F9
+    dw $4D76
+; AnimFrame_4CBD - Structure d'animation #13
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CBD:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4D7D           ; → SpriteData_4D7D (tiles $20,$21,$30,$31)
+; AnimFrame_4CC1 - Structure d'animation #14
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CC1:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4D84           ; → SpriteData_4D84 (tiles $22,$23,$32,$33)
+; AnimFrame_4CC5 - Structure d'animation #16
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CC5:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4D8B           ; → SpriteData_4D8B (tiles $24,$25,$34,$35)
+; AnimFrame_4CC9 - Structure d'animation #17
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CC9:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4D92           ; → SpriteData_4D92 (tiles $22,$23,$36,$37)
+
+; AnimFrame_4CCD - Structure d'animation #18
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CCD:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4D99           ; → SpriteData_4D99 (tiles $28,$29,$38,$39)
+
+; AnimFrame_4CD1 - Structure d'animation #19
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CD1:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DA0           ; → SpriteData (mal désassemblé à reconstruire)
+
+; AnimFrame_4CD5 - Structure d'animation #20
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CD5:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DA7           ; [$4CD9] → SpriteData_4DA7 (données sprite OAM)
+AnimFrame_4CD9:
+    dw $FBF9
+; AnimFrame_4CDD - Overlap intentionnel
+; Référencé par AnimFramePointerTable[22] - pointe vers le 2e word de AnimFrame_4CD9
+; Contenu à $4CDD: dw $4DAE, dw $FBF9 (ce word + 1er word de AnimFrame_4CDF)
+AnimFrame_4CDD_Overlap:
+    dw $4DAE
+AnimFrame_4CDD:
+    dw $FBF9
+; AnimFrame_4CE1 - Overlap intentionnel (table pointe vers $4CE1)
+; Référencé par AnimFramePointerTable[24] - pointe vers le 2e word de AnimFrame_4CDD
+; Contenu à $4CE1: dw $4DB5, dw $F8F9 (ce word + 1er word de AnimFrame_4CE3)
+AnimFrame_4CE1_Overlap:
+    dw $4DB5
+; AnimFrame_4CE1 - Structure d'animation #24 (label historique, adresse réelle $4CE3)
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CE1:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DBC           ; → SpriteData_4DBC (données sprite OAM)
+; AnimFrame_4CE5 - Structure d'animation #25
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CE5:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DC3           ; → SpriteData_4DC3 (données sprite OAM)
+; AnimFrame_4CE9 - Structure d'animation #26
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CE9:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DCA           ; → SpriteData_4DCA (données sprite OAM)
+; AnimFrame_4CED - Structure d'animation #27
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CED:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DD1           ; → SpriteData_4DD1 (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4CF1 - Structure d'animation #28
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CF1:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DD8           ; → SpriteData_4DD8 (données sprite OAM)
+; AnimFrame_4CF5 - Structure d'animation #29
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CF5:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DDF           ; → SpriteData_4DDF (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4CF9 - Structure d'animation #30
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CF9:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DE6           ; → SpriteData_4DE6 (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4CFD - Structure d'animation #31
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4CFD:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DED           ; → SpriteData_4DED (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4D01 - Structure d'animation #32
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D01:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DF4           ; → SpriteData_4DF4 (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4D05 - Structure d'animation #33
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D05:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4DFB           ; → SpriteData_4DFB (données sprite OAM - zone mal désassemblée, sera reconstruite)
+; AnimFrame_4D09 - Structure d'animation #36
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D09:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4E02           ; → SpriteData_4E02 (données sprite OAM dans GfxData_SpriteFrames - zone mal désassemblée)
+; AnimFrame_4D0D - Structure d'animation #37
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D0D:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4E09           ; → SpriteData_4E09 (données sprite OAM)
+; AnimFrame_4D11 - Structure d'animation #38
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D11:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4E14           ; → SpriteData_4E14 (données sprite OAM)
+; AnimFrame_4D15 - Structure d'animation #39
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D15:
+    dw $F7F9           ; Offset Y/X relatifs (signed bytes: -9, -7)
+    dw $4E1F           ; → SpriteData_4E1F (données sprite OAM)
+; AnimFrame_4D19 - Structure d'animation #40
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D19:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4E2A           ; → SpriteData_4E2A (données sprite OAM)
+; AnimFrame_4D1D - Structure d'animation #41
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D1D:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw $4E35           ; → SpriteData_4E35 (données sprite OAM)
+; AnimFrame_4D21 - Structure d'animation #42
+; Format: word offset_yx, word pointeur_vers_sprites
+AnimFrame_4D21:
+    dw $F8F9           ; Offset Y/X relatifs (signed bytes: -8, -7)
+    dw SpriteCoordTable_20Sprites  ; → $4E44 (table de coordonnées 20 sprites)
+; AnimFrame_4D25 - Structure d'animation #43
+; Format différent des précédentes (pas d'offset Y/X standard)
+AnimFrame_4D25:
+    dw $0100           ; Valeur de contrôle ou index
+    dw $1110           ; Valeur de contrôle ou index
+AnimFrame_4D29:
+    dw $44FF
+    dw $024E
+AnimFrame_4D2D:
+    dw $1203
+    dw $FF13
+AnimFrame_4D31:
+    dw $4E44
+; SpriteData_4D33 - Données sprite (commence au second word de AnimFrame_4D31)
+; Référencé par: AnimFrame_4C91
+; Format: Séquence de words (commandes sprite OAM)
+; Note: Optimisation de partage - $4D33 pointe au milieu de la structure AnimFrame_4D31
+SpriteData_4D33:
+    dw $0504
+AnimFrame_4D35:
+    dw $1514
+    db $FF             ; Terminateur de SpriteData_4D33 ($4D37)
+; SpriteData_Walk3
+; ----------------
+; Description: Séquence de commandes sprite pour l'animation de marche (frame 3)
+; In:  Pointeur référencé par AnimFrame_4C95 ($4C95)
+; Out: Aucun (données pures)
+; Format: Séquence de words [sprite_data]*, terminée par $FF
+;         Chaque sprite est défini par des words (tile_id, attrs, ou Y/X selon contexte)
+; Note: Optimisation mémoire - débute au milieu de la structure précédente
+;       Le label pointe à $4D3A, partageant des bytes avec les données adjacentes
+SpriteData_Walk3:      ; @ $4D3A
+    dw $4E44           ; Sprite 1: tile=$44, attrs=$4E
+    dw $0100           ; Sprite 2: Y_offset=$00, X_offset=$01
+    dw $1716           ; Sprite 3: Y_offset=$16, X_offset=$17
+    db $FF             ; Terminateur de séquence
+; SpriteData_Walk4
+; ----------------
+; Description: Séquence de sprites pour animation marche frame 4
+; In:  Pointeur référencé par AnimFrame_Walk4 ($4C99 → adresse $4D41)
+; Out: Aucun (données pures)
+; Format: word pairs encodant tiles/positions sprite
+; Note: Structure mal désassemblée - vrai format: $44 $4E [tiles] [coords] $FF
+;       Le label généré AnimFrame_4D41 pointe en fait à $4D43 (décalage de 2)
+SpriteData_Walk4:           ; @ $4D41 (commence par dw $4E44 = bytes 44 4e)
+    dw $4E44                ; Prefix standard sprite: bytes $44 $4E
+SpriteData_Walk4_TileData:  ; @ $4D43 (ancien AnimFrame_4D41)
+    dw $0908                ; Tiles: bytes $08 $09
+    dw $1918                ; Coords: bytes $18 $19
+AnimFrame_4D45:
+    dw $44FF
+    dw $0A4E
+; SpriteData_Walk5
+; ----------------
+; Description: Données sprite mal désassemblées pour animation marche frame 5
+;              Zone de données binaires avec points d'entrée multiples (optimisation mémoire)
+; In:  Référencé par AnimFrame_Walk5 ($4C9D)
+; Out: Aucun (données pures)
+; Format: Séquence de bytes encodant des commandes sprite OAM
+;         Les labels AnimFrame_4D** sont des points d'entrée alternatifs dans les données
+; Note: Zone mal désassemblée - les dw ne correspondent pas au format réel
+;       Nécessite reconstruction complète basée sur xxd pour comprendre le vrai format
+SpriteData_Walk5:
+AnimFrame_4D48:
+AnimFrame_4D49:
+    dw $1A0B
+    dw $FF1B              ; AnimFrame_4D4D overlap @ $4D4D (fin de cette séquence)
+; Zone $4D4F-$4D60 mal désassemblée - RECONSTRUITE avec overlaps
+; Cette zone contient des séquences sprite OAM avec points d'entrée multiples (optimisation mémoire)
+; Les labels suivants pointent à différents offsets dans la même séquence de bytes
+; SpriteData_Walk6 @ $4D4F (alias)
+AnimFrame_4D4F:          ; @ $4D4F
+    db $44, $4E          ; @ $4D4F-$4D50
+AnimFrame_4D51:
+    db $00, $01          ; @ $4D51-$4D52 (overlap: 3e-4e byte de la séquence globale)
+    db $0C, $0D, $FF     ; @ $4D53-$4D55
+AnimSpeedTable_4D56:
+    db $44, $4E, $00     ; @ $4D56-$4D58 (overlap: 8e-10e byte)
+AnimFrame_4D59:
+    db $01, $1C, $1D, $FF ; @ $4D59-$4D5C (overlap: 11e-14e byte)
+SpriteData_4D5D:
+    db $44, $4E, $62, $FF ; @ $4D5D-$4D60 (overlap: 15e-18e byte)
+; SpriteData_4D61 - Séquence sprite (référencé par AnimFrame_4CAD)
+SpriteData_4D61:
+    db $44, $4E, $70, $71, $72, $73, $FF ; @ $4D61: Séquence sprite complète
+; SpriteData_4D68 - Séquence sprite (référencé par AnimFrame_4CB1)
+SpriteData_4D68:
+    db $44, $4E, $70, $71, $74, $73, $FF ; @ $4D68: Séquence sprite
+; SpriteData_4D6F - Séquence sprite (référencé par AnimFrame_4CB5)
+; ----------------
+; Description: Données de sprites pour animation walk frame #12
+; In:  Référencé par AnimFrame_4CB5 @ $4CB5 (ligne 3091) via pointeur dw $4D6F
+; Out: Aucun (données pures)
+; Format: Séquence de bytes: $44 $4E (commande sprite), tiles, $FF (terminateur)
+SpriteData_4D6F:
+    db $44, $4E ; @ $4D6F-$4D70: Commande sprite (type $44, param $4E)
+; SpriteData_4D71 - Point d'entrée alternatif (overlapping) dans séquence sprite
+; ----------------
+; Description: Point d'entrée milieu de séquence - partage données avec SpriteData_4D6F
+; Format: Suite de tile indices suivie de terminateur $FF
+SpriteData_4D71:
+    db $63, $64, $65, $66, $FF ; @ $4D71: Tiles seulement (sans header $44 $4E)
+; SpriteData_4D76
+; ----------------
+; Description: Séquence de tiles sprite avec header $44 $4E
+; Format: $44 $4E suivi de tile indices ($63-$67), terminé par $FF
+; Référencé par: AnimFrame_4CB9
+SpriteData_4D76:
+    db $44, $4E             ; Header sprite
+    db $63, $64, $65, $67   ; Tiles indices
+    db $FF                  ; Terminateur
+; SpriteData_4D7D - Séquence sprite (référencée par AnimFrame_4CBD)
+; ----------------
+; Description: Données de sprites pour animation frame
+; Format: $44 $4E (header) + tile indices + $FF (terminateur)
+; Référencé par: AnimFrame_4CBD @ $4CBD (ligne 3099) via dw $4D7D
+SpriteData_4D7D:
+    db $44, $4E             ; Header sprite
+    db $20, $21, $30, $31   ; Tiles indices
+    db $FF                  ; Terminateur
+; SpriteData_4D84
+; ----------------
+; Description: Données de sprites pour animation frame #14
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CC1 @ $4CC1 (ligne 3104) via dw $4D84
+; Tiles: $22,$23,$32,$33 (frame d'animation 2×2)
+SpriteData_4D84:
+    db $44, $4E             ; Header sprite (config position/attributs)
+    db $22, $23, $32, $33   ; Tiles indices (grille 2×2)
+    db $FF                  ; Terminateur
+; SpriteData_4D8B - Séquence sprite
+; Référencé par: AnimFrame_4CC5 @ $4CC5 via dw $4D8B
+SpriteData_4D8B:
+    db $44, $4E             ; Header sprite
+    db $24, $25, $34, $35   ; Tiles indices
+    db $FF                  ; Terminateur
+; SpriteData_4D92
+; ----------------
+; Description: Données de sprites pour animation frame #17
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CC9 @ $4CC9 (ligne 3114) via dw $4D92
+; Tiles: $22,$23,$36,$37 (frame d'animation 2×2)
+SpriteData_4D92:
+    db $44, $4E             ; Header sprite (config position/attributs)
+    db $22, $23, $36, $37   ; Tiles indices (grille 2×2)
+    db $FF                  ; Terminateur
+; SpriteData_4D99
+; ----------------
+; Description: Données de sprites pour animation frame #18 (grille 2×2)
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CCD @ $4CCD (ligne 3120) via dw $4D99
+; Tiles: $28,$29,$38,$39 (configuration 2×2 tiles)
+SpriteData_4D99:
+    db $44, $4E             ; Header sprite (config position/attributs)
+    db $28, $29, $38, $39   ; Tiles indices (grille 2×2)
+    db $FF                  ; Terminateur
+; SpriteData_4DA0 - Données de sprites pour animation frame #19
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CD1 @ $4CD1 via dw $4DA0
+; Tiles: $2A,$2B,$3A,$3B (configuration 2×2 tiles)
+SpriteData_4DA0:
+    db $44, $4E, $2A, $2B, $3A, $3B, $FF
+
+; SpriteData_4DA7 - Données de sprites pour animation frame #20
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CD5 @ $4CD5 via dw $4DA7
+; Tiles: $2C,$2D,$3C,$3D (configuration 2×2 tiles)
+SpriteData_4DA7:
+    db $44, $4E, $2C, $2D, $3C, $3D, $FF
+; SpriteData_4DAE - Données de sprites pour animation frame #21
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CDD_Overlap @ $4CDD via dw $4DAE
+; Tiles: $2E,$2F,$3E,$3F (configuration 2×2 tiles)
+SpriteData_4DAE:
+    db $44, $4E, $2E, $2F, $3E, $3F, $FF
+; SpriteData_4DB5 - Données de sprites pour animation frame #24
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CE1_Overlap @ $4CE1 via dw $4DB5
+; Tiles: $40,$41,$42,$43 (configuration 2×2 tiles)
+SpriteData_4DB5:
+    db $44, $4E, $40, $41, $42, $43, $FF
+; SpriteData_4DBC - Données de sprites pour animation frame #24
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CE1 @ $4CE1 via dw $4DBC
+; Tiles: $44,$45,$46,$47 (configuration 2×2 tiles)
+SpriteData_4DBC:
+    db $44, $4E, $44, $45, $46, $47, $FF
+; SpriteData_4DC3 - Données de sprites pour animation frame #25
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CE5 @ $4CE5 via dw $4DC3
+; Tiles: $75,$76,$77,$78 (configuration 2×2 tiles)
+SpriteData_4DC3:
+    db $44, $4E, $75, $76, $77, $78, $FF
+; SpriteData_4DCA - Données de sprites pour animation frame #26
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CE9 @ $4CE9 via dw $4DCA
+; Tiles: $75,$76,$79,$78 (configuration 2×2 tiles)
+SpriteData_4DCA:
+    db $44, $4E, $75, $76, $79, $78, $FF
+; SpriteData_4DD1 - Données de sprites pour animation frame #27
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CED @ $4CED via dw $4DD1
+; Tiles: $68,$69,$6A,$6B (configuration 2×2 tiles)
+SpriteData_4DD1:
+    db $44, $4E, $68, $69, $6A, $6B, $FF
+; SpriteData_4DD8 - Données de sprites pour animation frame #28
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4CF1 @ $4CF1 via dw $4DD8
+; Tiles: $68,$6C,$6A,$6D (configuration 2×2 tiles)
+SpriteData_4DD8:
+    db $44, $4E, $68, $6C, $6A, $6D, $FF
+; SpriteData_4DDF - Données de sprites pour animation frame #29
+; ----------------
+; Description: Séquence sprite OAM avec header standard $44 $4E + 4 tiles
+; In:  Référencé par AnimFrame_4CF5 @ $4CF5 via dw $4DDF
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Tiles: $A0,$A1,$B0,$B1 (configuration 2×2 tiles)
+SpriteData_4DDF:
+    db $44, $4E, $A0, $A1, $B0, $B1, $FF
+; SpriteData_4DE6 - Données de sprites pour animation frame #30
+; ----------------
+; Description: Séquence sprite OAM avec header standard $44 $4E + 4 tiles
+; In:  Référencé par AnimFrame_4CF9 @ $4CF9 via dw $4DE6
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Tiles: $A2,$A3,$B2,$B3 (configuration 2×2 tiles)
+SpriteData_4DE6:
+    db $44, $4E, $A2, $A3, $B2, $B3, $FF
+; SpriteData_4DED - Données de sprites pour animation frame #31
+; ----------------
+; Description: Séquence sprite OAM avec header standard $44 $4E + 4 tiles
+; In:  Référencé par AnimFrame_4CFD @ $4CFD via dw $4DED
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Tiles: $4E,$49,$50,$51 (configuration 2×2 tiles - note: premier tile $4E différent du header)
+SpriteData_4DED:
+    db $44, $4E, $4E, $49, $50, $51, $FF
+; SpriteData_4DF4 - Données de sprites pour animation frame #32
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4D01 @ $4D01 via dw $4DF4
+; Tiles: $48,$49,$4A,$4B (configuration 2×2 tiles)
+SpriteData_4DF4:
+    db $44, $4E, $48, $49, $4A, $4B, $FF
+; SpriteData_4DFB - Données de sprites pour animation frame #33
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4D05 @ $4D05 via dw $4DFB
+; Tiles: $0C,$0D,$1C,$1D (configuration 2×2 tiles)
+SpriteData_4DFB:
+    db $44, $4E, $0C, $0D, $1C, $1D, $FF
+; SpriteData_4E02 - Données de sprites pour animation frame #36
+; Format: 2 bytes header ($44 $4E) + 4 tile indices + $FF terminateur
+; Référencé par: AnimFrame_4D09 @ $4D09 via dw $4E02
+; Tiles: $2E,$2F,$3E,$3F (configuration 2×2 tiles)
+SpriteData_4E02:
+    db $44, $4E, $2E, $2F, $3E, $3F, $FF
+; SpriteData_4E09 - Données de sprites pour animation frame #37
+; ----------------
+; Description: Séquence sprite OAM avec header différent ($5C $4E) + 8 tiles
+; In:  Référencé par AnimFrame_4D0D @ $4D0D via dw $4E09
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($5C $4E) + 8 tile indices + $FF terminateur
+; Tiles: $2C,$2C,$4F,$3C,$2D,$3D,$4C,$4D (configuration probablement 4×2 ou 2×4 tiles)
+; Note: Header $5C au lieu de $44 indique un format ou attribut différent
+SpriteData_4E09:
+    db $5C, $4E, $2C, $2C, $4F, $3C, $2D, $3D, $4C, $4D, $FF
+; SpriteData_4E14 - Données de sprites pour animation frame #38
+; ----------------
+; Description: Séquence sprite OAM avec header $4C $4E + 8 tiles
+; In:  Référencé par AnimFrame_4D11 @ $4D11 via dw $4E14
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($4C $4E) + 8 tile indices + $FF terminateur
+; Tiles: $0E,$4F,$2D,$4C,$1E,$3C,$3D,$4D (configuration 4×2 ou 2×4 tiles)
+; Note: Header $4C au lieu de $44 indique un format ou attribut différent
+SpriteData_4E14:
+    db $4C, $4E, $0E, $4F, $2D, $4C, $1E, $3C, $3D, $4D, $FF
+; SpriteData_4E1F - Données de sprites pour animation frame #39
+; ----------------
+; Description: Séquence sprite OAM avec header $5C $4E + 8 tiles
+; In:  Référencé par AnimFrame_4D15 @ $4D15 via dw $4E1F
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($5C $4E) + 8 tile indices + $FF terminateur
+; Tiles: $26,$27,$4F,$3C,$2D,$3D,$4C,$4D (configuration 4×2 ou 2×4 tiles)
+SpriteData_4E1F:
+    db $5C, $4E, $26, $27, $4F, $3C, $2D, $3D, $4C, $4D, $FF
+; SpriteData_4E2A - Données de sprites pour animation frame #40
+; ----------------
+; Description: Séquence sprite OAM avec header $5C $4E + 8 tiles
+; In:  Référencé par AnimFrame_4D19 @ $4D19 via dw $4E2A
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($5C $4E) + 8 tile indices + $FF terminateur
+; Tiles: $FE,$7C,$61,$7D,$6F,$7E,$7B,$7F (configuration 4×2 ou 2×4 tiles)
+SpriteData_4E2A:
+    db $5C, $4E, $FE, $7C, $61, $7D, $6F, $7E, $7B, $7F, $FF
+; SpriteData_4E35 - Données de sprites pour animation frame #41
+; ----------------
+; Description: Séquence sprite OAM avec header $5C $4E + 12 tiles
+; In:  Référencé par AnimFrame_4D1D @ $4D1D via dw $4E35
+; Out: Aucun (données pures)
+; Format: 2 bytes header ($5C $4E) + 12 tile indices + $FF terminateur
+; Tiles: $FE,$7C,$61,$7D,$6F,$7E,$61,$7D,$6F,$7E,$7B,$7F (configuration complexe 6×2 ou 3×4 tiles)
+SpriteData_4E35:
+    db $5C, $4E, $FE, $7C, $61, $7D, $6F, $7E, $61, $7D, $6F, $7E, $7B, $7F, $FF
+; SpriteCoordTable_20Sprites - Table de coordonnées Y/X pour 20 sprites
+; ----------------
+; Description: Table de positionnement absolu de sprites à l'écran,
+;              utilisée pour définir des layouts de sprites multi-tiles
+; In:  Référencé par AnimFrame_4D21 @ $4D21 et autres structures d'animation
+; Out: Aucun (données pures)
+; Format: 20 × (byte Y, byte X) + byte terminateur $00 = 41 bytes
+; Note: Contrairement aux SpriteData_*, c'est uniquement des coordonnées (pas de tiles)
+SpriteCoordTable_20Sprites:
+    db $00, $00, $00, $08, $08, $00, $08, $08
+    db $00, $00, $00, $09, $00, $11, $00, $19
+    db $08, $00, $08, $09, $08, $11, $08, $19
+    db $00, $00, $08, $00, $00, $08, $08, $08
+    db $00, $10, $08, $10, $00, $18, $08, $18
+    db $00                                     ; Dernier byte @ $4E6C (41 bytes total)
+
+PaddingZone_003_4e6d:
+    jr nz, UnreachableCodeData_003_03
+
+    jr nz, PaddingZone_003_4e71
+
+PaddingZone_003_4e71:
+    jr z, PaddingZone_003_4e7b
+
+PaddingZone_003_4e73:
+    jr z, DispatchDataTable_4e84
+    rrca
+    inc a
+
+UnreachableCodeData_003_03:
+    db $10
+    ld c, a
+    ret
+
+
+    inc d
+
+PaddingZone_003_4e7b:
+    rrca
+    inc b
+    jr DispatchDataTable_4e8e
+
+    ld [hl], $18
+    adc a
+    ld [hl], $19
+
+DispatchDataTable_4e84:
+    rrca
+    ld [hl], $19
+    adc a
+    ld [hl], $1a
+    rrca
+    ld [hl], $1a
+    adc a
+
+DispatchDataTable_4e8e:
+    ld [hl], $1d
+    rrca
+    inc b
+    rra
+    rlca
+    cp h
+    rra
+    ld c, [hl]
+    ret
+
+
+    inc hl
+    rrca
+    add h
+    inc h
+    ld c, a
+    ld c, c
+    ld sp, $0404
+    ld sp, $3c04
+    inc [hl]
+    add a
+    ld a, [bc]
+    scf
+    adc d
+    ld a, [hl-]
+    ld a, [hl-]
+    adc c
+    ld a, [bc]
+    inc a
+    ld c, a
+    ld [bc], a
+    ld a, $8b
+    inc b
+    ld b, c
+    add hl, bc
+    add h
+    ld b, a
+    ld c, [hl]
+    ld [bc], a
+    ld c, h
+    ld c, a
+    ld c, c
+    ld d, c
+    rrca
+    or c
+    ld d, e
+    rrca
+    inc b
+    ld d, a
+    ld c, $31
+    ld e, b
+    rrca
+    inc b
+    ld e, [hl]
+    adc d
+    add h
+    ld h, b
+    ld [$6331], sp
+    inc b
+    inc a
+    ld l, d
+    ld [$6d04], sp
+    inc b
+    inc a
+    ld [hl], c
+    db $10
+    dec bc
+    ld [hl], d
+    ld b, $3a
+    ld [hl], a
+    ld b, $0b
+    ld a, c
+    ld c, [hl]
+    ld c, c
+    ld a, [hl]
+    ld c, a
+    ld c, c
+    add [hl]
+    ld c, d
+    ld [bc], a
+    adc b
+    rrca
+    ld sp, $0f89
+    ld sp, $8789
+    inc a
+    adc d
+    rrca
+    ld sp, $878d
+    add h
+    adc [hl]
+    rrca
+    inc a
+    sub b
+    ld c, d
+    ld c, c
+    sub l
+    dec bc
+    ld sp, $059b
+    inc bc
+    and l
+    dec b
+    inc bc
+    xor a
+    dec b
+    inc bc
+    cp c
+    dec b
+    inc bc
+    jp $0345
+
+
+    rst $10
+    dec b
+    inc bc
+    pop hl
+    adc d
+    dec sp
+    db $e3
+    rlca
+    ld [hl], $e4
+    dec b
+    ld [hl], $ff
+
+; LevelHandler_4_7_Part2 - Handler niveaux 4-7 (partie 2)
+LevelHandler_4_7_Part2:
+    inc c
+    add l
+    dec h
+    rrca
+    db $10
+    inc b
+    db $10
+    adc h
+    add h
+    inc de
+    dec b
+    dec h
+    inc de
+    rrca
+    adc [hl]
+    ld d, $0f
+    inc b
+    add hl, de
+    adc b
+    dec h
+    ld a, [de]
+    adc b
+    dec h
+    dec e
+    ld c, [hl]
+    ld [bc], a
+    ld e, $05
+    dec h
+    jr nz, PaddingZone_003_4f41
+
+    or l
+    ld hl, $02c4
+
+PaddingZone_003_4f41:
+    jr z, DispatchDataZone_4f4a
+
+    dec h
+    ld a, [hl+]
+    inc c
+    ld c, $2c
+    rrca
+    inc b
+
+DispatchDataZone_4f4a:
+    dec l
+    add e
+    or l
+    ld l, $06
+    dec h
+    ld sp, $840c
+    ld [hl-], a
+    inc b
+    or l
+    inc sp
+    ld [bc], a
+    inc b
+    inc [hl]
+    inc c
+    add h
+    scf
+    adc a
+    inc b
+    dec sp
+    add [hl]
+    dec [hl]
+    ld a, $0c
+    add h
+    ld b, b
+    inc c
+    inc b
+    ld b, h
+    ld b, $25
+    ld b, l
+    dec bc
+    ld c, $46
+    ld [$4925], sp
+    rrca
+    inc b
+    ld c, e
+    add h
+    or l
+    ld c, [hl]
+    ld [$4f0e], sp
+    inc c
+    add h
+    ld d, c
+    adc $49
+    ld d, e
+    dec b
+    dec h
+    ld d, l
+    rrca
+    adc [hl]
+    ld d, [hl]
+    inc c
+    inc b
+    ld e, b
+    ld c, $8e
+    ld h, e
+    dec bc
+    ld c, $69
+    add e
+    inc bc
+    ld [hl], e
+    add e
+    inc bc
+    ld a, e
+    dec b
+    or l
+    ld a, e
+    rst $08
+    ld c, c
+    ld a, h
+    adc b
+    dec h
+    ld a, [hl]
+    rrca
+    ld c, $7f
+    rrca
+    add h
+    add c
+    ld c, [hl]
+    ld [bc], a
+    add h
+    ld [$880a], sp
+    dec c
+    inc b
+    adc c
+    ld b, a
+    ld a, [hl-]
+    adc h
+    adc d
+    ld [hl], $8d
+    ld a, [bc]
+    ld [hl], $8e
+    adc c
+    ld [hl], $8f
+    add hl, bc
+
+DispatchDataTable_4fbb:
+    ld [hl], $92
+    adc d
+    ld [hl], $94
+    dec bc
+    ld [hl], $94
+    adc e
+    ld [hl], $96
+    adc e
+    ld [hl], $98
+    ld a, [bc]
+    ld [hl], $99
+    adc c
+    ld [hl], $9b
+    ld [$9c36], sp
+    add a
+    ld [hl], $9e
+    dec b
+    ld [hl], $ff
+    ld c, $8c
+    dec bc
+    ld [de], a
+    add hl, bc
+    jr c, PaddingZone_003_4ff3
+
+    add hl, bc
+    add hl, sp
+    add hl, de
+    adc b
+    jr c, @+$1f
+
+    dec b
+    dec sp
+    ld h, $0a
+    ld a, [hl-]
+    daa
+    ld [$2736], sp
+    adc b
+    ld [hl], $27
+    dec c
+    ld b, a
+
+PaddingZone_003_4ff3:
+    jr z, DispatchDataTable_4fbb
+
+    ld [bc], a
+    add hl, hl
+    dec c
+    inc b
+    dec [hl]
+    db $10
+    ld c, $37
+    rlca
+    inc b
+    add hl, sp
+    db $10
+    ld c, $3f
+    ld c, $0b
+    ld b, c
+    adc h
+    jr c, PaddingZone_003_504d
+
+    adc h
+    add hl, sp
+    ld b, [hl]
+    add h
+    ld a, [hl-]
+    ld c, h
+    inc b
+    dec bc
+    ld c, [hl]
+    db $10
+    dec bc
+    ld d, l
+    add hl, bc
+    ld [hl], $55
+    adc c
+    ld [hl], $57
+    db $10
+    dec bc
+    ld e, l
+    db $10
+    dec sp
+    ld h, b
+    sub c
+    dec sp
+    ld l, a
+    rrca
+    inc a
+    ld [hl], c
+    rrca
+    or c
+    ld [hl], e
+    rrca
+    ld sp, $8f7a
+    cp h
+    ld a, e
+    ld a, [bc]
+    add h
+    ld a, h
+    adc a
+    ld b, a
+    adc b
+    inc c
+    cp h
+    adc c
+    adc d
+    inc a
+    sub d
+    ld c, $32
+    rst $38
+    and l
+    ld d, [hl]
+    and l
+    ld d, [hl]
+    jp nz, $cc5c
+
+    ld d, d
+    ld d, e
+    ld d, e
+    ret
+
+
+    ld d, e
+    ld d, e
+    ld d, e
+
+PaddingZone_003_504d:
+    jr nz, PaddingZone_003_50a3
+
+    xor d
+    ld d, h
+    ldh a, [rHDMA4]
+    ld d, e
+    ld d, e
+    call z, CheckAnimObjectState
+
+CheckAnimationState:
+    ld d, h
+    jr nz, PaddingZone_003_50af
+
+    xor d
+    ld d, h
+    ld d, e
+
+PaddingZone_003_505e:
+    ld d, e
+    ld c, [hl]
+    ld d, l
+    ld c, [hl]
+    ld d, l
+    cp c
+    ld h, d
+    dec sp
+    ld h, e
+    cp c
+    ld h, d
+    cp c
+    ld h, d
+    or d
+    ld h, e
+    db $dd
+    ld d, l
+    dec sp
+    ld h, e
+    ld c, c
+    ld d, [hl]
+    rst $38
+    jp nz, $a55c
+
+    ld d, [hl]
+    jp nz, $c95c
+
+    ld d, a
+    adc b
+    ld e, b
+    ret
+
+
+    ld d, a
+    inc h
+    ld e, c
+    rst $20
+    ld e, c
+    inc h
+    ld e, c
+    ld c, e
+    ld e, d
+    rst $20
+    ld e, c
+    adc b
+    ld e, b
+    ld c, e
+    ld e, d
+    cp h
+    ld e, d
+    cp h
+    ld e, d
+    ret
+
+
+    ld d, a
+    jp nz, $4b5b
+
+    ld e, h
+    ld c, c
+    ld d, [hl]
+    rst $38
+    and l
+    ld d, [hl]
+    and l
+    ld d, [hl]
+    jp nz, $815c
+
+    ld e, l
+
+PaddingZone_003_50a3:
+    rst $28
+    ld e, l
+    rst $28
+    ld e, l
+    add c
+    ld e, l
+    ld d, a
+    ld e, [hl]
+
+Return_IfNotZero_003_50ab:
+    ret nz
+
+PaddingZone_003_50ac:
+    ld e, [hl]
+    rst $28
+    ld e, l
+
+PaddingZone_003_50af:
+    rst $28
+    ld e, l
+    ld e, h
+    ld e, a
+    adc $5f
+    ld c, [hl]
+    ld h, b
+    ld c, [hl]
+    ld h, b
+    ld b, d
+    ld h, c
+    ld b, d
+    ld h, c
+    dec b
+    ld h, d
+    rst $38
+    inc l
+    ld d, d
+    inc l
+    ld d, d
+    inc l
+    ld d, d
+    inc l
+    ld d, d
+    rst $38
+    nop
+    dec b
+    ld bc, $0501
+    jr CheckAnimationState
+
+    ld a, [bc]
+    ld bc, $0a02
+    jr PaddingZone_003_505e
+
+    rst $38
+    rlca
+    nop
+    ld [bc], a
+    rlca
+    db $10
+    ld a, b
+    dec bc
+    ld [$0b01], sp
+    ld d, b
+    jr nc, @+$01
+
+    rlca
+    ld [bc], a
+    ld bc, $2007
+    add b
+    ld c, $02
+    ld [bc], a
+    ld c, $20
+    add b
+    rst $38
+    dec b
+    dec b
+    ld bc, $3805
+    ld e, b
+    rrca
+    dec b
+    ld [bc], a
+    rrca
+    jr c, AudioDataRaw_003_5155
+
+    rst $38
+    ld b, $02
+    ld [bc], a
+    ld b, $20
+    add b
+    ld de, $0108
+    ld de, $6050
+    rst $38
+    ld [$0107], sp
+    ld [$3048], sp
+    rrca
+    rlca
+    ld [bc], a
+    rrca
+    ld c, b
+    adc b
+    rst $38
+    rlca
+    ld bc, $0701
+    jr @+$42
+
+    dec bc
+    ld [bc], a
+    ld [bc], a
+    dec bc
+    jr nz, PaddingZone_003_50ac
+
+    rst $38
+    inc bc
+    ld [bc], a
+    ld [bc], a
+    inc bc
+    jr nz, Return_IfNotZero_003_50ab
+
+    ld d, $07
+    ld [bc], a
+    ld d, $48
+    sbc b
+    rst $38
+    ld b, $02
+    ld bc, $2006
+    sub b
+    ld [de], a
+    ld b, $01
+    ld [de], a
+    ld b, b
+    adc b
+    rst $38
+    inc b
+    ld [bc], a
+    jr z, @+$09
+
+    inc bc
+    ld a, [hl+]
+    rlca
+    rrca
+    jr z, LoadPointerFromMemory
+
+    ld c, $2c
+    rrca
+    inc de
+    ret nz
+
+    rst $38
+    inc b
+    ld bc, $0728
+    rrca
+
+LoadPointerFromMemory:
+    ld a, [hl+]
+
+AudioDataRaw_003_5155:
+    dec bc
+    inc de
+    jr z, DispatchDataZone_5166
+
+    ld c, $2a
+    rst $38
+    ld bc, $2a0e
+    ld [bc], a
+    ld [$0228], sp
+    rrca
+    ret nz
+
+    inc bc
+
+DispatchDataZone_5166:
+    ld [bc], a
+    rlca
+    ld a, [bc]
+    ld a, [bc]
+    rlca
+    inc c
+    dec c
+    ret nz
+
+    dec c
+    ld b, $28
+    ld c, $0b
+    jr z, @+$01
+
+    ld bc, $2801
+    ld bc, $2809
+    ld [bc], a
+    ld [de], a
+    ldh a, [rDIV]
+    ld c, $28
+    rlca
+    add hl, bc
+    jr z, @+$0d
+
+    inc b
+    inc l
+    ld c, $09
+    ret nz
+
+    rrca
+    inc b
+    jr z, PaddingZone_003_519f
+
+    ld [$ff2a], sp
+    ld bc, wOamVar09
+    ld [bc], a
+    inc b
+    ldh a, [rSC]
+    db $10
+    ret nz
+
+    inc b
+    db $10
+    jr z, @+$0a
+
+    rrca
+
+PaddingZone_003_519f:
+    inc l
+    add hl, bc
+    rrca
+    jr z, PaddingZone_003_51ae
+
+    dec bc
+    jr z, @+$01
+
+    inc b
+    rrca
+    jr z, PaddingZone_003_51b1
+
+    ld a, [bc]
+    inc l
+    inc c
+
+PaddingZone_003_51ae:
+    ld [bc], a
+    jr z, @+$14
+
+PaddingZone_003_51b1:
+    ld [bc], a
+    ld a, [hl+]
+    inc de
+    ld de, $ff28
+    dec b
+    inc bc
+    jr z, AudioTableRaw_003_51c2
+
+    nop
+    ret nz
+
+    dec c
+    inc b
+    ld a, [hl+]
+    rrca
+    inc bc
+
+AudioTableRaw_003_51c2:
+    jr z, @+$01
+
+    ld bc, $2812
+    ld [bc], a
+    ld a, [bc]
+    ret nz
+
+    inc b
+    rrca
+    ldh a, [rTMA]
+    dec c
+    jr z, @+$0a
+
+    inc c
+    rlca
+    ld a, [bc]
+    inc de
+    jr z, @+$01
+
+    ld bc, $2812
+    ld [bc], a
+    add hl, bc
+    ret nz
+
+    rlca
+    dec bc
+    jr z, @+$0a
+
+    add hl, bc
+    ld a, [hl+]
+    dec bc
+    inc b
+    ldh a, [rIF]
+    inc bc
+    jr z, @+$01
+
+    inc bc
+    db $10
+    jr z, PaddingZone_003_51f6
+
+    add hl, bc
+    ret nz
+
+    ld a, [bc]
+    rlca
+    jr z, AudioParam_Set_1
+
+    nop
+    inc l
+
+PaddingZone_003_51f6:
+    ld c, $11
+    ret nz
+
+    rrca
+    ld de, $1028
+    ld de, $14c0
+
+AudioParam_Set_1:
+    add hl, bc
+    jr z, AudioParam_Set_3
+
+    inc bc
+    ld a, [hl+]
+    rst $38
+    dec b
+    ld a, [bc]
+    jr z, AudioParam_Set_2
+
+    ld b, $28
+    ld a, [bc]
+    add hl, bc
+    jr z, AudioDataRaw_003_521d
+
+    dec b
+    inc l
+
+AudioParam_Set_2:
+    rrca
+    dec b
+    jr z, @+$13
+
+    nop
+    ret nz
+
+AudioParam_Set_3:
+    rst $38
+    inc bc
+    ld c, $28
+    add hl, bc
+
+AudioDataRaw_003_521d:
+    ld a, [bc]
+    jr z, AudioDataRaw_003_522a
+
+    ld c, $2a
+    inc c
+    ld c, $2c
+    rrca
+    ld c, $28
+    jr AudioParam_Set_4
+
+AudioDataRaw_003_522a:
+    jr z, @+$01
+
+    ld [bc], a
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+
+AudioParam_Set_4:
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $02
+    adc [hl]
+    adc a
+    db $d3
+    adc [hl]
+    adc a
+    adc [hl]
+    cp $02
+    adc a
+    adc [hl]
+    db $d3
+    adc a
+    adc [hl]
+    adc a
+    cp $e2
+    db $fd
+    ld h, b
+    cp $21
+    inc [hl]
+    call nz, $3d3a
+    ld h, c
+    ld h, c
+    cp $12
+    ld sp, $b535
+    jr c, AudioDataRaw_003_5319
+
+    ld a, $60
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $b5
+    add hl, sp
+    inc a
+    ccf
+    ld h, c
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $fd
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $e2
+    db $fd
+    ld h, c
+    cp $12
+    inc sp
+    scf
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $d3
+    ld a, [hl-]
+    ld h, b
+    ld h, b
+
+AudioDataRaw_003_5319:
+    cp $c4
+    jr c, GfxData_TileSheet
+
+    ld h, c
+    ld h, c
+    cp $c4
+    add hl, sp
+    inc a
+    ld h, b
+    ld h, b
+    cp $41
+    inc [hl]
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $32
+    ld sp, $a635
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    ld h, b
+    ld h, b
+    cp $32
+    ld [hl-], a
+    ld [hl], $97
+    jr c, UnreachableCodeData_003_04
+
+    ld a, $41
+    ld b, h
+    ld h, c
+    ld h, c
+    cp $32
+    inc sp
+    scf
+    sub a
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    ld h, b
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+
+GfxData_TileSheet:
+    db $fd
+    ld h, c
+    cp $b5
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, b
+    ld h, b
+    cp $61
+    add c
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, c
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $fe
+    ld hl, $fe34
+    ld [de], a
+
+UnreachableCodeData_003_04:
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $e2
+    db $fd
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $fd
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $e2
+    db $fd
+    ld h, c
+    cp $12
+    inc sp
+    scf
+    ld [hl], c
+    add c
+    call nz, ProcessInputState_Bank3_Part1
+    ld h, b
+    ld h, b
+    cp $71
+    add c
+    call nz, ProcessInputState_Bank3_Part2
+    ld h, c
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $a6
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    ld h, b
+    ld h, b
+    cp $97
+    jr c, @+$3d
+
+    ld a, $41
+    ld b, h
+    ld h, c
+    ld h, c
+    cp $97
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    ld h, b
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $51
+    add d
+    sub c
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $51
+    add d
+    sub c
+    ld h, h
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $51
+    add d
+    sub c
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $51
+    add b
+    sub c
+    ld h, h
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $d1
+    ld h, h
+    cp $d1
+    ld h, e
+    cp $d1
+    ld h, h
+    cp $fe
+    cp $fe
+    cp $fe
+    cp $11
+    inc [hl]
+    pop de
+    ld h, e
+    cp $02
+    ld sp, $d335
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $02
+    ld [hl-], a
+    ld [hl], $e2
+    db $fd
+    ld h, b
+    cp $02
+    inc sp
+    scf
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $11
+    add c
+    ld d, c
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $52
+    ld h, h
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $61
+    ld h, h
+    sub c
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $91
+    ld h, h
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $31
+    ld e, a
+    sub c
+    ld h, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $91
+    ld h, h
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $d3
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $91
+    ld h, e
+    cp $91
+    ld h, h
+    cp $91
+    ld h, e
+    cp $91
+    ld h, h
+    cp $73
+    db $fd
+    ld h, e
+    cp $11
+    db $f4
+    ld sp, $51f4
+    db $f4
+    ld [hl], e
+    db $fd
+    ld h, h
+    call nz, $3d3a
+    ld b, b
+    ld b, e
+    cp $b5
+    jr c, ByteValueDispatchCase_31
+
+    ld a, $41
+    ld b, h
+    cp $b5
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    cp $42
+    ld l, d
+    ld l, e
+    or l
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    inc a
+    cp $41
+    ld h, e
+    and [hl]
+    jr c, @+$49
+
+    dec a
+    ld b, b
+    ld b, e
+    inc a
+    cp $32
+    ld h, e
+    ld h, h
+    and l
+    ld b, [hl]
+    dec sp
+    ld a, $41
+    ld b, h
+    cp $31
+    ld h, h
+    and [hl]
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    inc a
+    cp $31
+    ld h, h
+    cp $fe
+    cp $d3
+    ld a, [hl-]
+    dec a
+
+ByteValueDispatchCase_31:
+    ld b, b
+    cp $c4
+    jr c, @+$3d
+
+    ld a, $41
+    cp $21
+    inc [hl]
+    call nz, $3c39
+    ccf
+    ld b, d
+    cp $12
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $fe
+    ld [de], a
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $fe
+    ld [de], a
+    inc sp
+    scf
+    cp $fe
+    cp $fe
+    cp $fe
+    call nz, $3d3a
+    ld b, b
+    ld b, e
+    cp $b5
+    jr c, UnreachableCodeData_003_05
+
+    ld a, $41
+    ld b, h
+    cp $b5
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    cp $fe
+    call nz, ProcessInputState_Bank3_Part1
+    ld h, e
+    ld h, e
+    cp $21
+    inc [hl]
+    call nz, ProcessInputState_Bank3_Part2
+    ld h, h
+    ld h, h
+    cp $12
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $fe
+    ld [de], a
+    inc sp
+    scf
+    and [hl]
+    db $fd
+    ld h, e
+    cp $a6
+    db $fd
+    ld h, h
+    cp $fe
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    pop hl
+    db $f4
+    cp $fe
+    adc b
+    db $fd
+    ld h, e
+
+UnreachableCodeData_003_05:
+    cp $88
+    db $fd
+    ld h, h
+    cp $fe
+    add c
+    db $f4
+    and c
+    db $f4
+    pop bc
+    db $f4
+    pop hl
+    db $f4
+    cp $fe
+    ld l, d
+    db $fd
+    ld h, e
+    cp $6a
+    db $fd
+    ld h, h
+    cp $78
+    db $fd
+    db $f4
+    cp $66
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, c
+    pop af
+    ld h, e
+    cp $f1
+    ld h, h
+    cp $c4
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $52
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $a1
+    add c
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $74
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    add c
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $11
+    inc [hl]
+    ld [hl], h
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    add c
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $02
+    ld sp, $e235
+    db $fd
+    ld h, b
+    cp $02
+    ld [hl-], a
+    ld [hl], $e2
+    db $fd
+    ld h, c
+    cp $02
+    inc sp
+    scf
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $a6
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    ld h, c
+    ld h, c
+    cp $97
+    jr c, GfxData_SpriteFrames
+
+    ld a, $41
+    ld b, h
+    ld h, b
+    ld h, b
+    cp $97
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    ld h, c
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $a6
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $a6
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $fe
+    cp $61
+    ld a, a
+    cp $21
+    add c
+    ld d, d
+    db $f4
+    ld a, a
+    cp $21
+    add c
+    ld d, d
+    db $f4
+    ld a, a
+    cp $21
+    add c
+    ld d, d
+
+GfxData_SpriteFrames:
+    db $f4
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $e2
+    db $fd
+    ld h, b
+    cp $fe
+    or l
+    db $fd
+    ld h, e
+    cp $21
+    inc [hl]
+    or l
+    db $fd
+    ld h, h
+    cp $12
+    ld sp, $8835
+    ld h, e
+    ld h, e
+    ld l, d
+    ld l, e
+    ld h, e
+    ld h, e
+    ld l, d
+    ld l, e
+    cp $12
+    ld [hl-], a
+    ld [hl], $88
+    ld h, h
+    ld h, h
+    ld h, e
+    ld h, e
+    ld h, h
+    ld h, h
+    ld h, e
+    ld h, e
+    cp $12
+    inc sp
+    scf
+    adc b
+    ld l, d
+    ld l, e
+    ld h, h
+    ld h, h
+    ld l, d
+    ld l, e
+    ld h, h
+    ld h, h
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $f1
+    adc a
+    cp $f1
+    adc [hl]
+    cp $21
+    adc [hl]
+    pop af
+    adc a
+    cp $00
+    inc de
+    inc h
+    adc a
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    adc [hl]
+    inc de
+    inc h
+    adc [hl]
+    cp $00
+    ld hl, $8e48
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    adc a
+    ld hl, $8f48
+    cp $00
+    db $fd
+    ld a, a
+    cp $29
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add b
+    pop af
+    ld a, a
+    cp $29
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    pop af
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $d3
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    cp $0b
+    ld a, a
+    ld a, a
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    db $f4
+    db $f4
+    db $f4
+    add c
+    db $d3
+    ld [hl], l
+    ld a, b
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    cp $05
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $06
+    ld h, e
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $06
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $03
+    ld h, h
+    ld l, d
+    ld l, e
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $02
+    ld h, e
+    ld l, c
+    call nz, ProcessInputState_Bank3_Part1
+    ld h, [hl]
+    ld l, b
+    cp $02
+    ld h, h
+    ld l, c
+    call nz, ProcessInputState_Bank3_Part2
+    ld h, l
+    ld h, a
+    cp $05
+    ld h, e
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, e
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $06
+    ld h, h
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $05
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $05
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $05
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $05
+    ld h, h
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $07
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $05
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $05
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $04
+    db $fd
+    ld h, h
+    or l
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, l
+    ld h, a
+    cp $06
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, c
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, [hl]
+    ld l, b
+    cp $04
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $03
+    ld h, h
+    ld l, d
+    ld l, e
+    or l
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld h, [hl]
+    ld l, b
+    cp $04
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    or l
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld h, l
+    ld h, a
+    cp $02
+    ld h, h
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $02
+    ld l, d
+    ld l, e
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $05
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    pop af
+    ld h, l
+    cp $02
+    ld h, h
+    ld h, e
+    pop af
+    ld h, [hl]
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    pop af
+    ld h, l
+    cp $02
+    ld h, h
+    ld l, c
+    pop af
+    ld h, [hl]
+    cp $71
+    add c
+    or c
+    add c
+    pop af
+    ld h, l
+    cp $71
+    add d
+    or c
+    add d
+    pop af
+    ld h, [hl]
+    cp $71
+    add c
+    or c
+    add c
+    pop af
+    ld h, l
+    cp $31
+    ld e, a
+    pop af
+    ld h, [hl]
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    db $d3
+    ld h, l
+    ld h, a
+    ld h, l
+    cp $02
+    ld h, h
+    ld l, c
+    db $d3
+    ld h, [hl]
+    ld l, b
+    ld h, [hl]
+    cp $03
+    ld h, e
+    ld l, d
+    ld l, e
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $02
+    ld h, h
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $02
+    db $f4
+    ld h, e
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $12
+    ld h, h
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $00
+    db $f4
+    ld h, e
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld h, h
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $00
+    db $f4
+    ld h, e
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld h, l
+    ld h, a
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld h, h
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld h, [hl]
+    ld l, b
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $00
+    db $f4
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld [hl], b
+    ld [hl], d
+    ld h, e
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld [hl], c
+    ld [hl], e
+    ld h, h
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $e2
+    ld h, [hl]
+    ld l, b
+    cp $61
+    db $f4
+    and c
+    add d
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $a1
+    add c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $61
+    db $f4
+    sub d
+    ld e, a
+    add d
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $a1
+    add c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $61
+    db $f4
+    and c
+    add d
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $e2
+    ld h, [hl]
+    ld l, b
+    cp $fe
+    cp $fe
+    dec b
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, c
+    db $d3
+    ld l, d
+    ld l, e
+    ld l, d
+    cp $13
+    ld l, d
+    ld l, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $e2
+    ld h, [hl]
+    ld l, b
+    cp $fe
+    cp $e2
+    ld h, l
+    ld h, a
+    cp $e2
+    ld h, [hl]
+    ld l, b
+    cp $e2
+    ld h, l
+    ld h, a
+    cp $e2
+    ld h, [hl]
+    ld l, b
+    cp $fe
+    cp $12
+    ld h, e
+    ld l, c
+    sub c
+    db $f4
+    or c
+    ld h, e
+    cp $02
+    ld h, e
+    ld h, h
+    sub c
+    db $f4
+    or c
+    ld h, h
+    cp $03
+    ld h, h
+    ld l, d
+    ld l, c
+    sub c
+    db $f4
+    or c
+    ld h, e
+    cp $03
+    ld h, e
+    ld h, e
+    ld l, c
+    sub c
+    db $f4
+    or c
+    ld h, h
+    cp $03
+    ld h, h
+    ld h, h
+    ld l, c
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $03
+    ld h, e
+    ld h, e
+    ld l, c
+    or c
+    ld h, e
+    cp $04
+    ld h, h
+    ld h, h
+    ld l, d
+    ld l, c
+    ld [hl], c
+    add c
+    or c
+    ld h, h
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    or d
+    ld h, e
+    ld l, c
+    cp $b2
+    ld h, h
+    ld l, c
+    cp $b2
+    ld h, e
+    ld l, c
+    cp $b3
+    ld h, h
+    ld l, d
+    ld l, c
+    cp $b2
+    ld l, d
+    ld l, c
+    cp $b4
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, c
+    cp $b3
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $b2
+    ld h, e
+    ld l, c
+    cp $b2
+    ld h, h
+    ld l, c
+    cp $b3
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $13
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $03
+    ld h, e
+    ld h, e
+    ld l, c
+    cp $03
+    ld h, h
+    ld h, h
+    ld l, c
+    and d
+    ld l, d
+    ld l, c
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    and e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $03
+    ld h, e
+    ld l, d
+    ld l, e
+    cp $02
+    ld h, h
+    ld l, c
+    and e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $03
+    ld l, d
+    ld l, e
+    ld l, c
+    and l
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    db $ed
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    ldh [c], a
+    ld h, l
+    ld h, a
+    cp $04
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, c
+    ldh [c], a
+    ld h, [hl]
+    ld l, b
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    cp $02
+    ld h, h
+    ld h, e
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    cp $05
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $04
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, c
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    jp nz, DispatchAudioWaveCommand
+
+    cp $05
+    ld h, e
+    ld h, h
+    ld h, e
+    ld l, d
+    ld l, c
+    pop bc
+    ld h, h
+    cp $05
+    ld h, h
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, e
+    jp nz, DispatchAudioWaveCommand
+
+    cp $04
+    ld h, e
+    ld h, h
+    ld l, d
+    ld l, c
+    jp nz, $6964
+
+    cp $03
+    ld h, h
+    ld h, e
+    ld l, c
+    cp $03
+    ld h, e
+    ld h, h
+    ld l, c
+    cp $02
+    ld h, h
+    ld h, e
+    cp $02
+    ld h, e
+    ld h, h
+    ld [hl], e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $02
+    ld h, h
+    ld l, c
+    halt
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $02
+    ld l, d
+    ld l, c
+    ld [hl], h
+    ld h, h
+    ld l, d
+    ld l, e
+    ld l, c
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, d
+    ld l, e
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld h, e
+    ld l, d
+    ld l, e
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld h, h
+    ld l, d
+    ld l, c
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $00
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $e2
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and c
+    add b
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    add b
+    and d
+    db $fd
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    sub e
+    db $fd
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and d
+    db $ed
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld [hl], c
+    ld a, a
+    and d
+    db $ed
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    and d
+    db $ed
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld b, c
+    ld a, a
+    sub e
+    db $fd
+    ld a, a
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $01
+    ld a, a
+    ld b, c
+    ld a, a
+    ld h, [hl]
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $05
+    ld a, a
+    ld a, a
+    ld [hl], h
+    ld [hl], a
+    ld a, a
+    ld h, [hl]
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $05
+    ld a, a
+    ld a, a
+    ld [hl], l
+    ld a, b
+    ld a, a
+    ld h, [hl]
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    db $f4
+    add d
+    ldh [c], a
+    db $fd
+    ld a, a
+    cp $00
+    ld [hl], d
+    ld [hl], d
+    halt
+    ld a, c
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    ld a, a
+    cp $fe
+    ld hl, $a15a
+    ld e, a
+    pop hl
+    ld l, h
+    cp $2e
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld l, l
+    ld l, h
+    cp $21
+    ld e, h
+    ld [hl], c
+    ld e, d
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $79
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld l, l
+    ld l, h
+    cp $71
+    ld e, h
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $21
+    inc [hl]
+    pop hl
+    ld l, l
+    cp $12
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $fe
+    ld [de], a
+    ld sp, $8135
+    db $f4
+    call nz, ProcessInputState_Bank3_Part1
+    ld [hl], d
+    ld l, h
+    cp $12
+    ld [hl-], a
+    ld [hl], $81
+    db $f4
+    call nz, ProcessInputState_Bank3_Part2
+    ld [hl], e
+    ld l, l
+    cp $12
+    inc sp
+    scf
+    cp $fe
+    cp $c4
+    db $fd
+    ld l, [hl]
+    cp $c4
+    db $fd
+    ld l, [hl]
+    cp $fe
+    cp $c4
+    db $fd
+    ld l, [hl]
+    cp $81
+    db $f4
+    call nz, CalculateAudioNoteFrequency
+    cp $fe
+    ld b, c
+    ld e, d
+    ld h, c
+    ld e, d
+    cp $4c
+    ld e, e
+    ld c, c
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    cp $41
+    ld e, h
+    ld h, c
+    ld e, h
+    cp $21
+    inc [hl]
+    sub c
+    db $f4
+    cp $12
+    ld sp, $fe35
+    ld [de], a
+    ld [hl-], a
+    ld [hl], $91
+    db $f4
+    cp $12
+    inc sp
+    scf
+    ld h, c
+    inc [hl]
+    cp $52
+    ld sp, $9135
+    db $f4
+    cp $52
+    ld [hl-], a
+    ld [hl], $fe
+    ld d, d
+    ld sp, $9135
+    db $f4
+    cp $52
+    ld [hl-], a
+    ld [hl], $fe
+    ld d, d
+    inc sp
+    scf
+    cp $11
+    inc [hl]
+    cp $02
+    ld sp, $fe35
+    ld [bc], a
+    ld [hl-], a
+    ld [hl], $b1
+    ld e, d
+    cp $02
+    ld sp, $b535
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    cp $02
+    ld [hl-], a
+    ld [hl], $b1
+    ld e, h
+    cp $02
+    inc sp
+    scf
+    cp $fe
+    call nz, $6cfd
+    cp $34
+    ld [hl], b
+    ld [hl], d
+    ld [hl], d
+    ld l, h
+    call nz, $6dfd
+    cp $34
+    ld [hl], c
+    ld [hl], e
+    ld [hl], e
+    ld l, l
+    call nz, $6cfd
+    cp $c4
+    db $fd
+    ld l, l
+    cp $fe
+    ld de, $e234
+    ld l, [hl]
+    ld l, h
+    cp $02
+    ld sp, $a635
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, l
+    cp $02
+    ld [hl-], a
+    ld [hl], $a6
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, h
+    cp $02
+    inc sp
+    scf
+    and [hl]
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, l
+    cp $a5
+    db $fd
+    ld l, l
+    cp $fe
+    ld h, c
+    ld e, a
+    and [hl]
+    db $fd
+    ld l, [hl]
+    cp $fe
+    and [hl]
+    db $fd
+    ld l, [hl]
+    cp $31
+    inc [hl]
+    cp $22
+    ld sp, $a635
+    db $fd
+    ld l, [hl]
+    cp $22
+    ld [hl-], a
+    ld [hl], $a6
+    db $fd
+    ld l, [hl]
+    cp $22
+    inc sp
+    scf
+    cp $fe
+    cp $d3
+    db $fd
+    ld l, h
+    cp $d3
+    db $fd
+    ld l, l
+    cp $f1
+    ld l, h
+    cp $11
+    add d
+    ld sp, $615a
+    ld l, h
+    pop af
+    ld l, l
+    cp $11
+    add d
+    dec a
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld l, l
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld l, h
+    cp $11
+    add d
+    ld [hl-], a
+    ld e, h
+    db $f4
+    ld h, c
+    ld l, h
+    pop af
+    ld l, l
+    cp $11
+    add d
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, l
+    and c
+    add c
+    pop af
+    ld l, h
+    cp $11
+    add d
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, h
+    and c
+    add c
+    pop af
+    ld l, l
+    cp $11
+    add d
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, l
+    and c
+    add c
+    pop af
+    ld l, h
+    cp $11
+    add b
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, h
+    and c
+    add c
+    pop af
+    ld l, l
+    cp $11
+    add d
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, l
+    or l
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld l, h
+    cp $11
+    add d
+    ld b, c
+    db $f4
+    ld h, c
+    ld l, h
+    pop af
+    ld l, l
+    cp $11
+    add d
+    ld h, c
+    ld l, l
+    pop af
+    ld l, h
+    cp $f1
+    ld l, l
+    cp $97
+    ld e, e
+    ld e, b
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld l, h
+    cp $11
+    inc [hl]
+    pop af
+    ld l, l
+    cp $02
+    ld sp, $d335
+    db $fd
+    ld l, h
+    cp $02
+    ld [hl-], a
+    ld [hl], $d3
+    db $fd
+    ld l, l
+    cp $02
+    inc sp
+    scf
+    cp $fe
+    ldh [c], a
+    db $fd
+    ld l, h
+    cp $11
+    inc [hl]
+    ldh [c], a
+    db $fd
+    ld l, l
+    cp $02
+    ld sp, $c435
+    ld [hl], b
+    ld [hl], d
+    ld l, h
+    ld l, [hl]
+    cp $02
+    ld [hl-], a
+    ld [hl], $c4
+    ld [hl], c
+    ld [hl], e
+    ld l, l
+    ld l, h
+    cp $02
+    ld sp, $9135
+    ld e, a
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $02
+    ld [hl-], a
+    ld [hl], $e2
+    ld l, l
+    ld l, [hl]
+    cp $02
+    inc sp
+    scf
+    ld [hl], d
+    ld l, h
+    ld e, d
+    cp $79
+    ld l, l
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    cp $72
+    ld l, h
+    ld e, h
+    cp $71
+    ld l, l
+    cp $fe
+    cp $71
+    ld l, h
+    cp $71
+    ld l, l
+    cp $71
+    ld l, h
+    cp $21
+    ld e, d
+    ld [hl], c
+    ld l, l
+    and c
+    ld e, d
+    cp $2e
+    ld e, e
+    ld e, b
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld d, a
+    ld e, b
+    ld e, [hl]
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    cp $21
+    ld e, h
+    and c
+    ld e, h
+    cp $d1
+    ld l, h
+    cp $d1
+    ld l, l
+    cp $a4
+    db $fd
+    ld l, h
+    cp $21
+    db $f4
+    ld b, c
+    db $f4
+    ld h, c
+    db $f4
+    add c
+    db $f4
+    and h
+    db $fd
+    ld l, l
+    cp $fe
+    cp $0c
+    ld l, h
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, h
+    ld l, [hl]
+    cp $01
+    ld l, l
+    and c
+    ld l, l
+    cp $01
+    ld l, h
+    ld h, c
+    ld l, h
+    cp $01
+    ld l, l
+    ld h, c
+    ld l, l
+    cp $01
+    ld l, h
+    ld l, b
+    db $fd
+    ld l, [hl]
+    cp $01
+    ld l, l
+    cp $08
+    ld l, h
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    cp $01
+    ld l, l
+    ld [hl], c
+    ld l, h
+    cp $01
+    ld l, h
+    ld [hl], c
+    ld l, l
+    cp $01
+    ld l, l
+    ld sp, $b46c
+    db $fd
+    ld l, h
+    cp $01
+    ld l, h
+    inc a
+    ld l, l
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, l
+    ld l, l
+    ld l, l
+    ld l, l
+    cp $01
+    ld l, l
+    pop hl
+    ld l, h
+    cp $01
+    ld l, h
+    pop hl
+    ld l, l
+    cp $08
+    ld l, l
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    pop hl
+    ld l, h
+    cp $e1
+    ld l, l
+    cp $e1
+    ld l, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld l, l
+    ld d, l
+    ld e, d
+    ld h, c
+    ld e, d
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $00
+    ld l, h
+    ld d, l
+    ld e, e
+    ld c, c
+    ld e, [hl]
+    ld e, [hl]
+    ld d, a
+    ld e, b
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld e, [hl]
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld l, l
+    ld d, l
+    ld e, h
+    ld h, c
+    ld e, h
+    ldh [c], a
+    ld l, l
+    ld l, h
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ld d, c
+    ld d, b
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $00
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ld c, h
+    ld c, [hl]
+    ld d, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld d, e
+    ld l, h
+    ld l, [hl]
+    cp $06
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ld c, l
+    ld c, a
+    ld d, d
+    db $d3
+    ld d, h
+    ld l, l
+    ld l, h
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ld d, c
+    ld d, b
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $00
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ld c, h
+    ld c, [hl]
+    ld d, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld d, e
+    ld l, l
+    ld l, h
+    cp $06
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ld c, l
+    ld c, a
+    ld d, d
+    db $d3
+    ld d, h
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    and [hl]
+    ld l, h
+    ld l, [hl]
+    ld l, h
+    ld l, [hl]
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    and [hl]
+    ld l, l
+    ld l, h
+    ld l, l
+    ld l, h
+    ld l, l
+    ld l, h
+    cp $00
+    ld l, h
+    ld d, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, h
+    ld l, l
+    ld l, h
+    ld l, l
+    ld l, h
+    ld l, l
+    cp $00
+    ld l, l
+    ld d, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    cp $00
+    ld l, h
+    ld d, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld e, l
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    and [hl]
+    db $fd
+    ld l, l
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    db $d3
+    ld l, [hl]
+    ld l, h
+    ld l, [hl]
+    cp $08
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    ld d, b
+    ldh [c], a
+    ld l, l
+    ld l, h
+    cp $00
+    ld l, h
+    ld d, l
+    jr c, DispatchDataZone_6198
+
+    ld a, $41
+    ld b, h
+    ld d, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld d, e
+    ld l, h
+    ld l, l
+    cp $08
+    ld l, l
+    ld d, l
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    ld d, d
+    and c
+    add c
+    db $d3
+    ld d, h
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    and c
+    add c
+    ldh [c], a
+    db $fd
+    ld l, h
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    and c
+    add c
+    ldh [c], a
+    db $fd
+    ld l, l
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, h
+    ld l, [hl]
+    cp $03
+    ld l, l
+
+DispatchDataZone_6198:
+    ld d, l
+    ld d, [hl]
+    ldh [c], a
+    ld l, l
+    ld l, h
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ld [hl], c
+    ld d, b
+    ldh [c], a
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    ld e, e
+    ld c, h
+    ld c, [hl]
+    ld d, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld d, e
+    ld l, l
+    ld l, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    ld d, e
+    ld c, l
+    ld c, a
+    ld d, d
+    db $d3
+    ld d, h
+    ld l, h
+    ld l, h
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    db $d3
+    ld l, h
+    ld l, l
+    ld l, l
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    jp nz, UpdateAudioChannelStatus
+
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    or d
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    and d
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    sub d
+    ld l, h
+    ld l, l
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    sub c
+    ld l, l
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    cp $03
+    ld l, h
+    ld d, l
+    ld d, [hl]
+    cp $03
+    ld l, l
+    ld d, l
+    ld d, [hl]
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $02
+    ld l, h
+    ld l, [hl]
+    db $d3
+    db $fd
+    ld l, h
+    cp $02
+    ld l, l
+    ld l, h
+    db $d3
+    db $fd
+    ld l, l
+    cp $02
+    ld l, h
+    ld l, l
+    ld d, c
+    ld d, b
+    db $d3
+    ld l, [hl]
+    ld l, h
+    ld l, h
+    cp $02
+    ld l, l
+    ld l, h
+    dec a
+    ld c, h
+    ld c, [hl]
+    ld d, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld e, c
+    ld d, e
+    ld l, l
+    ld l, l
+    cp $02
+    ld l, h
+    ld l, l
+    inc sp
+    ld c, l
+    ld c, a
+    ld d, d
+    db $d3
+    ld d, h
+    ld l, h
+    ld l, h
+    cp $01
+    ld l, l
+    ldh [c], a
+    db $fd
+    ld l, l
+    cp $01
+    ld l, [hl]
+    ldh [c], a
+    db $fd
+    ld l, [hl]
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $1f
+    db $fd
+    ld e, l
+    cp $01
+    ld l, h
+    db $d3
+    db $fd
+    ld l, h
+    cp $01
+    ld l, l
+    ld b, c
+    ld d, b
+    db $d3
+    db $fd
+    ld l, l
+    cp $01
+    ld l, h
+    ld h, $4c
+    ld c, [hl]
+    ld d, c
+    ld e, c
+    ld d, e
+    ld l, h
+    db $d3
+    db $fd
+    ld l, h
+    cp $01
+    ld l, l
+    inc hl
+    ld c, l
+    ld c, a
+    ld d, d
+    ld h, l
+    ld d, h
+    ld l, l
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    db $d3
+    db $fd
+    ld l, l
+    cp $01
+    ld l, h
+    db $d3
+    db $fd
+    ld l, h
+    cp $06
+    ld l, l
+    ld l, h
+    ld l, [hl]
+    ld l, h
+    ld l, [hl]
+    ld l, h
+    sub a
+    pop hl
+    ld l, [hl]
+    ld l, [hl]
+    ld l, [hl]
+    ld l, l
+    ld l, l
+    ld l, l
+    cp $00
+    ld l, h
+    ld l, l
+    ld l, h
+    ld l, l
+    ld l, h
+    ld l, l
+    db $ec
+    db $ec
+    db $ec
+    db $ec
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    ld l, h
+    cp $06
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    ld l, l
+    ld l, [hl]
+    and [hl]
+    db $fd
+    ld l, l
+    cp $a6
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $a6
+
+DataPadding_62c2:
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $21
+    inc [hl]
+    ldh [c], a
+    db $ed
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $ed
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $e2
+    db $ed
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $ed
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $b5
+    ld a, [hl-]
+    dec a
+    ld b, b
+    db $ed
+    ld h, c
+    cp $12
+    inc sp
+    scf
+    and [hl]
+    jr c, @+$3d
+
+    ld a, $41
+    db $ed
+    ld h, b
+    cp $a6
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $a6
+    ld a, [hl-]
+    dec a
+    ld b, b
+    ld b, e
+    db $ed
+    ld h, c
+    cp $97
+    jr c, UnreachableCodeData_003_06
+
+    ld a, $41
+    ld b, h
+    db $ed
+    ld h, b
+    cp $97
+    add hl, sp
+    inc a
+    ccf
+    ld b, d
+    ld b, l
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $43
+    db $fd
+    db $f4
+    add d
+    db $fd
+    ld h, e
+    db $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $43
+    db $fd
+    db $f4
+    add d
+    db $fd
+    ld h, h
+    db $d3
+    ld h, h
+    ld h, c
+
+UnreachableCodeData_003_06:
+    ld h, c
+    cp $43
+    db $fd
+    db $f4
+    add d
+    ld l, d
+    ld l, e
+    ldh [c], a
+    db $fd
+    ld h, b
+    cp $e2
+    db $fd
+    ld h, c
+    cp $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $21
+    inc [hl]
+    db $d3
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $ed
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $e2
+    db $ed
+    ld h, c
+    cp $12
+    inc sp
+    scf
+    db $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $d3
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $d3
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $d3
+    ld h, e
+    ld h, b
+    ld h, b
+    cp $d3
+    ld h, h
+    ld h, c
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $81
+    ld h, e
+    ldh [c], a
+    db $ed
+    ld h, b
+    cp $81
+    ld h, h
+    ldh [c], a
+    db $ed
+    ld h, c
+    cp $72
+    db $fd
+    ld h, e
+    ldh [c], a
+    db $ed
+    ld h, b
+    cp $72
+    db $fd
+    ld h, h
+    ldh [c], a
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $21
+    inc [hl]
+    ldh [c], a
+    db $ed
+    ld h, c
+    cp $12
+    ld sp, $e235
+    db $ed
+    ld h, b
+    cp $12
+    ld [hl-], a
+    ld [hl], $e2
+    db $ed
+    ld h, c
+    cp $12
+    inc sp
+    scf
+    ldh [c], a
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $e2
+    db $ed
+    ld h, b
+    cp $e2
+    db $ed
+    ld h, c
+    cp $ff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    jp z, $d650
+
+    ld d, b
+    rst $10
+    ld d, b
+    db $e4
+    ld d, b
+    pop af
+    ld d, b
+    db $fd
+    ld d, b
+    cp $50
+    dec bc
+    ld d, c
+    jr AudioTable_Block2
+
+    dec h
+    ld d, c
+    ld [hl-], a
+    ld d, c
+    ld a, $51
+    ld a, $51
+    ccf
+    ld d, c
+    ld c, a
+    ld d, c
+    ld e, h
+    ld d, c
+    ld [hl], l
+    ld d, c
+    sub c
+    ld d, c
+    and a
+    ld d, c
+    or a
+    ld d, c
+    call nz, $d751
+    ld d, c
+    ld [$0651], a
+    ld d, d
+    add hl, de
+    ld d, d
+    dec hl
+    ld d, d
+    nop
+    ld b, c
+    ld bc, $0007
+    jr AudioTable_Block1
+
+    ld e, e
+    ld de, $100a
+    rlca
+    nop
+    ld c, e
+    ld bc, $000a
+    dec l
+    db $10
+    inc d
+    nop
+    halt
+    db $10
+
+AudioTable_Block1:
+    ld bc, $1011
+    db $10
+    inc h
+    ld de, $100b
+    nop
+    nop
+    dec hl
+    ld bc, $000f
+    inc l
+    db $10
+    rra
+    ld de, $100b
+    daa
+    ld de, $0101
+
+AudioTable_Block2:
+    add hl, bc
+    nop
+    jr nz, AudioTable_Block3
+
+    ld e, l
+    ld de, $1014
+    add hl, de
+    nop
+    daa
+    db $10
+    ld a, [bc]
+    ld de, $1006
+    ld a, [hl+]
+    nop
+    ld d, c
+    db $10
+
+AudioTable_Block3:
+    ld c, $11
+    ld b, $10
+    ld [bc], a
+    nop
+    ld h, e
+    ld bc, $110f
+    rlca
+    db $10
+    ld b, $ff
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    jr z, PaddingZone_003_65f3
+
+    ld a, [bc]
+    ld de, $100b
+    dec h
+    ld de, $1011
+    ld de, $0811
+    db $10
+    inc b
+    nop
+    inc e
+    db $10
+
+PaddingZone_003_65f3:
+    inc b
+    ld de, HeaderLogo
+    inc bc
+    nop
+    rra
+    db $10
+    ld [bc], a
+    ld de, $100d
+    rlca
+    nop
+    cpl
+    db $10
+    ld bc, $0d11
+    db $10
+    inc b
+    nop
+    dec e
+    ld bc, $000c
+    ld e, c
+    db $10
+    inc bc
+    ld de, $000f
+    rra
+    jr nz, @+$0c
+
+    nop
+    ld [hl+], a
+    stop
+    ld de, $1016
+    dec a
+    ld de, $101a
+    nop
+    nop
+    dec de
+    db $10
+    cpl
+    ld de, $010f
+    ld bc, $2900
+    db $10
+    inc b
+    ld de, $100d
+    ld a, [bc]
+    nop
+    ld b, b
+    ld bc, $210c
+    ld bc, $0820
+    nop
+    add hl, hl
+    jr nz, AudioTable_Block4
+
+    nop
+    ld b, a
+    db $10
+    rla
+    ld de, $1018
+    ld a, [de]
+    nop
+    ld [de], a
+    db $10
+    rlca
+    ld de, $100c
+    ld bc, $1500
+    db $10
+    add hl, bc
+    ld de, $100b
+
+AudioTable_Block4:
+    jr nz, AudioTable_Block5
+
+AudioTable_Block5:
+    dec e
+    ld bc, $0001
+    nop
+    nop
+    nop
+    nop
+    nop
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    nop
+    ld h, $10
+    inc bc
+    ld de, $100d
+    add hl, bc
+    nop
+    ld [$0c10], sp
+    ld de, $100d
+    ld a, [bc]
+    nop
+    jr AudioTable_Block6
+
+    inc b
+    ld de, $100b
+    inc b
+    nop
+    ld [hl+], a
+    db $10
+    ld bc, $1111
+    db $10
+    ld [bc], a
+    nop
+    dec a
+    db $10
+
+AudioTable_Block6:
+    ld [$0c11], sp
+    db $10
+    dec c
+    nop
+    ld [hl], b
+    ld bc, $1105
+    rlca
+    db $10
+    inc b
+    nop
+    jr nz, UnreachableCodeData_003_07
+
+    dec c
+    ld de, $101c
+    ld a, [de]
+    nop
+    dec h
+    ld bc, $1110
+    dec b
+    db $10
+    ld b, $00
+    inc l
+    db $10
+
+UnreachableCodeData_003_07:
+    inc bc
+    ld de, $1011
+    ld c, $00
+    ld h, $10
+    db $10
+    ld de, $1017
+    inc bc
+    nop
+    inc d
+    ld bc, $000d
+    dec de
+    db $10
+    ld a, [bc]
+    nop
+    ld a, [hl+]
+    ld de, $100d
+    inc bc
+    nop
+    ld c, $20
+    ld b, $00
+    ld a, [de]
+    db $10
+    inc bc
+    ld de, $1009
+    ld [$1700], sp
+    db $10
+    ld [$0501], sp
+    ld de, $0004
+    inc d
+    jr nz, @+$08
+
+    nop
+    sbc b
+    ld bc, $1109
+    ld b, $10
+    ld [bc], a
+    nop
+    dec l
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    xor [hl]
+    ld l, b
+    db $e3
+    ld l, b
+    ld [hl], $69
+    ld [hl], e
+    ld l, c
+    inc c
+    ld l, c
+    cp l
+    ld l, c
+    sbc [hl]
+    ld l, c
+    jp hl
+
+
+    ld l, c
+    ld a, d
+    ld l, b
+    ld l, l
+    ld l, b
+    ld h, c
+    ld l, c
+    jp $ef68
+
+
+    ld l, b
+    ld b, d
+    ld l, c
+    add b
+    ld l, c
+    ld d, $69
+    bit 5, c
+    rst $28
+    ld l, b
+    rrca
+    ld l, d
+    rst $28
+    ld l, b
+    rst $28
+    ld l, b
+    add b
+    ld l, c
+    ld d, b
+    ld l, d
+    sbc h
+    ld l, d
+    ld l, c
+    ld l, d
+    sub b
+    ld l, d
+    xor b
+    ld l, d
+    xor b
+    ld l, d
+    ld [hl], l
+    ld l, d
+    xor b
+    ld l, d
+    sub h
+    ld [hl], b
+    sbc a
+    ld [hl], b
+    xor d
+    ld [hl], b
+    or l
+    ld [hl], b
+    ret nz
+
+    ld [hl], b
+    bit 6, b
+    sub $70
+    pop hl
+    ld [hl], b
+    pop bc
+    ld a, c
+    call z, $d779
+    ld a, c
+    ldh [c], a
+    ld a, c
+    db $ed
+    ld a, c
+    ld hl, sp+$79
+    inc bc
+    ld a, d
+    ld c, $7a
+    ld c, a
+    ld a, [hl]
+    add hl, de
+    ld a, d
+    inc h
+    ld a, d
+
+ProcessAudioSnapshot:
+    push af
+    push bc
+    push de
+    push hl
+    ld a, $03
+    ldh [rIE], a
+    ei
+    ldh a, [hSavedAudio]
+    cp $01
+    jr z, ProcessAudioSnapshot_ResetEnvelopes
+
+    cp $02
+    jr z, ProcessAudioSnapshot_ClearMixerSnapshot
+
+    ldh a, [hAudioMixerSnapshot]
+    and a
+    jr nz, ProcessAudioSnapshot_CheckMixerState
+
+    ld c, $d3
+    ldh a, [c]
+    and a
+    jr z, ProcessAudioSnapshot_ProcessChannels
+
+    xor a
+    ldh [c], a
+    ld a, $08
+    ld [wStateBuffer], a
+
+ProcessAudioSnapshot_ProcessChannels:
+    call CheckAudioChannel1
+    call CheckAudioChannel4
+    call InitializeWaveAudio
+    call ProcessAudioRequest
+    call ProcessAudioQueue
+    call UpdateAudioEnvelopeAndPan
+
+ProcessAudioSnapshot_ClearStateAndReturn:
+    xor a
+    ld [wStateBuffer], a
+    ld [wStateRender], a
+    ld [wStateVar10], a
+    ld [wStateFinal], a
+    ldh [hSavedAudio], a
+    ld a, $07
+    ldh [rIE], a
+    pop hl
+    pop de
+    pop bc
+    pop af
+    reti
+
+
+ProcessAudioSnapshot_ResetEnvelopes:
+    call ResetAudioChannelEnvelopes
+    xor a
+    ld [wStateDisplay], a
+    ld [wStateVar11], a
+    ld [wStateEnd], a
+    ld a, $30
+    ldh [hAudioMixerSnapshot], a
+
+ProcessAudioSnapshot_SetupBgmData:
+    ld hl, $67ec
+
+ProcessAudioSnapshot_ConfigureBgm:
+    call ConfigureAudioBgm
+    jr ProcessAudioSnapshot_ClearStateAndReturn
+
+ProcessAudioSnapshot_SetupSeData:
+    ld hl, $67f0
+    jr ProcessAudioSnapshot_ConfigureBgm
+
+ProcessAudioSnapshot_ClearMixerSnapshot:
+    xor a
+    ldh [hAudioMixerSnapshot], a
+    jr ProcessAudioSnapshot_ProcessChannels
+
+ProcessAudioSnapshot_CheckMixerState:
+    ld hl, hAudioMixerSnapshot
+    dec [hl]
+    ld a, [hl]
+    cp $28
+    jr z, ProcessAudioSnapshot_SetupSeData
+
+    cp $20
+    jr z, ProcessAudioSnapshot_SetupBgmData
+
+    cp $18
+    jr z, ProcessAudioSnapshot_SetupSeData
+
+    cp $10
+    jr nz, ProcessAudioSnapshot_ClearStateAndReturn
+
+    inc [hl]
+    jr ProcessAudioSnapshot_ClearStateAndReturn
+
+    or d
+    db $e3
+    add e
+    rst $00
+    or d
+    db $e3
+    pop bc
+    rst $00
+
+InitializeWaveAudio:
+    ld a, [wStateVar10]
+    cp $01
+    jr z, @+$0f
+
+    ld a, [wStateVar11]
+    cp $01
+    jr z, InitializeWaveAudio_ConfigureWave
+
+    ret
+
+
+    add b
+    ld a, [hl-]
+    jr nz, @-$4e
+
+    add $ea
+    pop af
+    rst $18
+    ld hl, $df3f
+    set 7, [hl]
+    xor a
+    ld [wStateVar14], a
+    ldh [rNR30], a
+    ld hl, $7047
+    call LoadAudioRegisterRange
+    ldh a, [rDIV]
+    and AUDIO_POSITION_MASK
+    ld b, a
+    ld a, $d0
+    add b
+    ld [wStateVar15], a
+    ld hl, $6803
+    jp ConfigureAudioWave
+
+
+InitializeWaveAudio_ConfigureWave:
+    ldh a, [rDIV]
+    and FRAME_MASK_8
+    ld b, a
+    ld hl, wStateVar14
+    inc [hl]
+    ld a, [hl]
+    ld hl, wStateVar15
+    cp $0e
+    jr nc, InitializeWaveAudio_HighFrequency
+
+    inc [hl]
+    inc [hl]
+
+InitializeWaveAudio_WriteFrequency:
+    ld a, [hl]
+    and $f8
+    or b
+    ld c, $1d
+    ldh [c], a
+    ret
+
+
+InitializeWaveAudio_HighFrequency:
+    cp $1e
+    jr z, InitializeWaveAudio_ResetWave
+
+    dec [hl]
+    dec [hl]
+    dec [hl]
+    jr InitializeWaveAudio_WriteFrequency
+
+InitializeWaveAudio_ResetWave:
+    xor a
+    ld [wStateVar11], a
+    ldh [rNR30], a
+    ld hl, $df3f
+    res 7, [hl]
+    ld bc, $df36
+    ld a, [bc]
+    ld l, a
+    inc c
+    ld a, [bc]
+    ld h, a
+    call LoadAudioRegisterRange
+    ret
+
+
+    nop
+    or b
+    ld d, e
+    add b
+    rst $00
+    ld a, $03
+    ld hl, $6868
+    jp DispatchAudioCommand
+
+
+    inc a
+    add b
+    and b
+    ld d, b
+    add h
+    call SkipIfGameState05
+    ret z
+
+    ld a, $0e
+    ld hl, $6875
+    jp DispatchAudioCommand
+
+
+    nop
+    add b
+    jp nc, $860a
+
+    dec a
+    add b
+    and e
+    add hl, bc
+    add a
+
+SkipIfGameState04:
+    ld a, [wStateDisplay]
+    jr AudioChannelDispatchCase_05
+
+SkipIfGameState03:
+    ld a, [wStateDisplay]
+    cp $03
+    ret z
+
+SkipIfGameState05:
+    ld a, [wStateDisplay]
+    cp $05
+    ret z
+
+AudioChannelDispatchCase_05:
+    cp $04
+    ret z
+
+    cp $06
+    ret z
+
+    cp $08
+    ret z
+
+    cp $0b
+    ret z
+
+    ret
+
+
+    call SkipIfGameState03
+    ret z
+
+    ld a, $10
+    ld hl, $6886
+    call DispatchAudioCommand
+    ld hl, wStateGraphics
+    ld [hl], $0a
+    inc l
+    ld [hl], $86
+    ret
+
+
+    call UpdateAudioFrameCounter
+    and a
+    jp z, ResetPulseChannel
+
+    ld hl, wStateGraphics
+    ld e, [hl]
+    inc l
+    ld d, [hl]
+    push hl
+    ld hl, $000f
+    add hl, de
+    ld c, $13
+    ld a, l
+    ldh [c], a
+    ld b, a
+    inc c
+    ld a, h
+    and $3f
+    ldh [c], a
+    pop hl
+    ld [hl-], a
+    ld [hl], b
+    ret
+
+
+    call SkipIfGameState03
+    ret z
+
+    ld a, $03
+    ld hl, $688b
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+ResetPulseChannel:
+    xor a
+    ld [wStateDisplay], a
+
+AudioData_003_68f8:
+    ldh [rNR10], a
+    ldh [rNR12], a
+    ld hl, $df1f
+    res 7, [hl]
+    ret
+
+
+    nop
+    add b
+    ldh [c], a
+    ld b, $87
+    nop
+    add b
+    ldh [c], a
+    add e
+    add a
+    call SkipIfGameState04
+    ret z
+
+    ld hl, $6902
+    jp DispatchAudioCommand
+
+
+    ld hl, wStateGraphics
+    inc [hl]
+    ld a, [hl]
+    cp $04
+    jr z, SetupAudioConfiguration
+
+    cp $18
+    jp z, ResetPulseChannel
+
+    ret
+
+
+SetupAudioConfiguration:
+    ld hl, $6907
+    call ConfigureAudioSe
+    ret
+
+
+    ld d, a
+    sub [hl]
+    adc h
+    jr nc, AudioData_003_68f8
+
+    ld d, a
+    sub [hl]
+    adc h
+    dec [hl]
+
+ProcessAudioFrame:
+    rst $00
+    call SkipIfGameState05
+    ret z
+
+    ld a, $08
+    ld hl, $692c
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+    ld hl, wStateGraphics
+    ld a, [hl]
+    inc [hl]
+    cp $00
+    jr z, SquareChannel1_Setup
+
+    cp $01
+    jp z, ResetPulseChannel
+
+    ret
+
+
+SquareChannel1_Setup:
+    ld hl, $6931
+    jp InitSquareChannel1
+
+
+    ld d, h
+    nop
+    sbc d
+    jr nz, @-$77
+
+    ld a, $60
+
+DispatchAudioWaveCommand:
+    ld [wStateVar6], a
+    ld a, $05
+    ld hl, $695c
+    jp DispatchAudioCommand
+
+
+    daa
+    add b
+    adc d
+    db $10
+    add [hl]
+    ld a, $10
+    ld [wStateVar6], a
+    ld a, $05
+    ld hl, $696e
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+    ld hl, wStateVar6
+    ld a, $10
+    add [hl]
+    ld [hl], a
+    cp $e0
+    jp z, ResetPulseChannel
+
+    ld c, $13
+    ldh [c], a
+    inc c
+    ld a, $86
+    ldh [c], a
+    ret
+
+
+    inc l
+    add b
+    db $d3
+    ld b, b
+    add h
+    call SkipIfGameState05
+    ret z
+
+    ld a, $08
+    ld hl, $6999
+    jp DispatchAudioCommand
+
+
+    ld a, [hl-]
+    add b
+    db $e3
+    jr nz, ProcessAudioFrame
+
+    di
+    or e
+    and e
+    sub e
+    add e
+    ld [hl], e
+    ld h, e
+    ld d, e
+    ld b, e
+    inc sp
+    inc hl
+    inc hl
+    inc de
+    nop
+    ld a, [wStateDisplay]
+    cp $08
+    ret z
+
+    ld a, $06
+    ld hl, $69aa
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+    ld hl, wStateGraphics
+    ld c, [hl]
+    inc [hl]
+    ld b, $00
+    ld hl, $69af
+    add hl, bc
+    ld a, [hl]
+    and a
+    jp z, ResetPulseChannel
+
+    ld c, $12
+    ldh [c], a
+    inc c
+
+AudioData_003_69e4:
+    inc c
+    ld a, $87
+    ldh [c], a
+    ret
+
+
+DispatchAudioWave_Setup:
+    ld a, $06
+    ld hl, $69f1
+
+DispatchAudioWave_Entry:
+    jp DispatchAudioCommand
+
+
+    nop
+    jr nc, AudioData_003_69e4
+
+    and a
+    rst $00
+    nop
+    jr nc, DispatchAudioWave_Setup
+
+    or c
+    rst $00
+    nop
+    jr nc, DispatchAudioWave_Entry
+
+    cp d
+    rst $00
+    nop
+    jr nc, @-$0e
+
+    call nz, LCDStat_SetLYC
+    jr nc, @-$0e
+
+    call nc, LCDStat_SetLYC
+    jr nc, @-$0e
+
+    set 0, a
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+    ld a, [wStateGraphics]
+    inc a
+    ld [wStateGraphics], a
+    cp $01
+    jr z, ChannelType_01_PulseWave
+
+    cp $02
+    jr z, ChannelType_02_PulseWave
+
+    cp $03
+    jr z, ChannelType_03_WaveMemory
+
+    cp $04
+    jr z, ChannelType_04_Noise
+
+    cp $05
+    jr z, ChannelType_05_Master
+
+    jp ResetPulseChannel
+
+
+ChannelType_01_PulseWave:
+    ld hl, $69f6
+    jr ChannelInitDispatcher
+
+ChannelType_02_PulseWave:
+    ld hl, $69fb
+    jr ChannelInitDispatcher
+
+ChannelType_03_WaveMemory:
+    ld hl, $6a00
+    jr ChannelInitDispatcher
+
+ChannelType_04_Noise:
+    ld hl, $6a05
+    jr ChannelInitDispatcher
+
+ChannelType_05_Master:
+    ld hl, $6a0a
+
+ChannelInitDispatcher:
+    jp InitSquareChannel1
+
+
+    nop
+    db $f4
+    ld d, a
+    add b
+    ld a, $30
+    ld hl, $6a4c
+    jp DispatchAudioCommand
+
+
+CheckAudioActive:
+    ld a, [wStateEnd]
+    cp $01
+    ret z
+
+    ret
+
+
+    nop
+    inc l
+    ld e, $80
+    rra
+    dec l
+    cpl
+    dec a
+    ccf
+    nop
+    call CheckAudioActive
+    ret z
+
+    ld a, $06
+    ld hl, $6a5f
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+    ld hl, $dffc
+    ld c, [hl]
+    inc [hl]
+    ld b, $00
+    ld hl, $6a63
+    add hl, bc
+    ld a, [hl]
+    and a
+    jr z, AudioData_003_6aad
+
+    ldh [rNR43], a
+    ret
+
+
+    nop
+    ld l, l
+    ld d, h
+    add b
+    ld a, $16
+    ld hl, $6a8c
+    jp DispatchAudioCommand
+
+
+    nop
+    ldh a, [c]
+    ld d, l
+    add b
+    call CheckAudioActive
+    ret z
+
+    ld a, $15
+    ld hl, $6a98
+    jp DispatchAudioCommand
+
+
+    call UpdateAudioFrameCounter
+    and a
+    ret nz
+
+AudioData_003_6aad:
+    xor a
+    ld [wStateEnd], a
+    ldh [rNR42], a
+    ld hl, $df4f
+    res 7, [hl]
+    ret
+
+
+DispatchAudioCommand:
+    push af
+    dec e
+    ldh a, [hAudioStatus]
+    ld [de], a
+    inc e
+    pop af
+    inc e
+    ld [de], a
+    dec e
+    xor a
+    ld [de], a
+    inc e
+    inc e
+    ld [de], a
+    inc e
+    ld [de], a
+    ld a, e
+    cp $e5
+    jr z, ConfigureAudioSe_Entry
+
+    cp $f5
+    jr z, ConfigureAudioWave_Entry
+
+    cp $fd
+    jr z, AudioData_003_6aed
+
+    ret
+
+
+ConfigureAudioSe:
+InitSquareChannel1:
+ConfigureAudioSe_Entry:
+    push bc
+    ld c, $10
+    ld b, $05
+    jr AudioRegisterTransferLoop
+
+ConfigureAudioBgm:
+    push bc
+    ld c, $16
+    ld b, $04
+    jr AudioRegisterTransferLoop
+
+ConfigureAudioWave:
+ConfigureAudioWave_Entry:
+    push bc
+    ld c, $1a
+    ld b, $05
+    jr AudioRegisterTransferLoop
+
+AudioData_003_6aed:
+    push bc
+    ld c, $20
+    ld b, $04
+
+AudioRegisterTransferLoop:
+    ld a, [hl+]
+    ldh [c], a
+    inc c
+    dec b
+    jr nz, AudioRegisterTransferLoop
+
+    pop bc
+    ret
+
+
+SetAudioStatus:
+    inc e
+    ldh [hAudioStatus], a
+
+IndexAudioTable:
+    inc e
+    dec a
+    sla a
+    ld c, a
+    ld b, $00
+    add hl, bc
+    ld c, [hl]
+    inc hl
+    ld b, [hl]
+    ld l, c
+    ld h, b
+    ld a, h
+    ret
+
+
+UpdateAudioFrameCounter:
+    push de
+    ld l, e
+    ld h, d
+    inc [hl]
+    ld a, [hl+]
+    cp [hl]
+    jr nz, AudioFrameCounter_Exit
+
+    dec l
+    xor a
+    ld [hl], a
+
+AudioFrameCounter_Exit:
+    pop de
+    ret
+
+
+LoadAudioRegisterRange:
+    push bc
+    ld c, $30
+
+.audioRegisterLoop:
+    ld a, [hl+]
+    ldh [c], a
+    inc c
+    ld a, c
+    cp $40
+    jr nz, .audioRegisterLoop
+
+    pop bc
+    ret
+
+
+ClearAudioChannels:
+ResetAllAudioChannels:
+    xor a
+    ld [wStateDisplay], a
+    ld [wStateVar9], a
+    ld [wStateVar11], a
+    ld [wStateEnd], a
+    ld [wComplexState1F], a
+    ld [wComplexState2F], a
+    ld [wComplexState3F], a
+    ld [wComplexState4F], a
+    ldh [hSavedAudio], a
+    ldh [hAudioMixerSnapshot], a
+    ld a, $ff
+    ldh [rNR51], a
+    ld a, $03
+    ldh [hAudioEnvCounter], a
+
+ResetAudioChannelEnvelopes:
+    ld a, $01
+    ldh [rNR12], a
+    ldh [rNR22], a
+    ldh [rNR42], a
+    xor a
+    ldh [rNR10], a
+    ldh [rNR30], a
+    ret
+
+
+CheckAudioChannel1:
+    ld de, wStateBuffer
+    ld a, [de]
+    and a
+    jr z, .audioChannel1Path
+
+    ld hl, $df1f
+    set 7, [hl]
+    ld hl, $6700
+    call SetAudioStatus
+    jp hl
+
+
+.audioChannel1Path:
+    inc e
+    ld a, [de]
+    and a
+    jr z, .audioChannelEnd
+
+    ld hl, $6716
+    call IndexAudioTable
+    jp hl
+
+
+.audioChannelEnd:
+    ret
+
+
+CheckAudioChannel4:
+    ld de, wStateFinal
+    ld a, [de]
+    and a
+    jr z, .audioChannel4Path
+
+    ld hl, $df4f
+    set 7, [hl]
+    ld hl, $672c
+    call SetAudioStatus
+    jp hl
+
+
+.audioChannel4Path:
+    inc e
+    ld a, [de]
+    and a
+    jr z, .audioChannel4End
+
+    ld hl, $6734
+    call IndexAudioTable
+    jp hl
+
+
+.audioChannel4End:
+    ret
+
+
+AudioClearChannels_Entry:
+    call ClearAudioChannels
+    ret
+
+
+ProcessAudioRequest:
+    ld hl, wStateRender
+    ld a, [hl+]
+    and a
+    ret z
+
+    ld [hl], a
+    cp $ff
+    jr z, AudioClearChannels_Entry
+
+    ld b, a
+    ld hl, $673c
+    ld a, b
+    and AUDIO_POSITION_MASK
+    call IndexAudioTable
+    call InitializeAudioChannelState
+    call LookupAudioEnvelope
+    ret
+
+
+LookupAudioEnvelope:
+    ld a, [wStateVar9]
+    and a
+    ret z
+
+    ld hl, $6c2b
+
+.envelopeTableSearchLoop:
+    dec a
+    jr z, .envelopeTableFound
+
+    inc hl
+    inc hl
+    inc hl
+    inc hl
+    jr .envelopeTableSearchLoop
+
+.envelopeTableFound:
+    ld a, [hl+]
+    ldh [hAudioEnvCounter], a
+    ld a, [hl+]
+    ldh [hAudioEnvDiv], a
+    ld a, [hl+]
+    ldh [hAudioEnvParam1], a
+    ld a, [hl+]
+    ldh [hAudioEnvParam2], a
+    xor a
+    ldh [hAudioEnvPos], a
+    ldh [hAudioEnvRate], a
+    ret
+
+
+UpdateAudioPan:
+    ld a, [wStateEnd]
+    cp $01
+    ret nz
+
+    ld a, [hl]
+    bit 1, a
+    ld a, $f7
+    jr z, .panUpdateDisabled
+
+    ld a, $7f
+
+.panUpdateDisabled:
+    call WriteAudioRegisterNr24
+    ret
+
+
+UpdateAudioEnvelopeAndPan:
+    ld a, [wStateVar9]
+    and a
+    jr z, SetMasterVolumeToFull
+
+    ld hl, hAudioEnvPos
+    call UpdateAudioPan
+    ld a, [hGameState]
+    cp $05
+    jr z, SetMasterVolumeToFull
+
+    ldh a, [hAudioEnvCounter]
+    cp $01
+    jr z, SetMasterVolumeFromParam
+
+    cp $03
+    jr z, SetMasterVolumeToFull
+
+    inc [hl]
+    ld a, [hl+]
+    cp [hl]
+    ret nz
+
+    dec l
+    ld [hl], $00
+    inc l
+    inc l
+    inc [hl]
+    ldh a, [hAudioEnvParam1]
+    bit 0, [hl]
+    jp z, SetAudioMasterVolume
+
+    ldh a, [hAudioEnvParam2]
+
+WriteAudioRegisterNr24:
+SetAudioMasterVolume:
+SetAudioMasterVolumeImpl:
+    ld c, $25
+    ldh [c], a
+    ret
+
+
+SetMasterVolumeToFull:
+    ld a, $ff
+    jr SetAudioMasterVolumeImpl
+
+SetMasterVolumeFromParam:
+    ldh a, [hAudioEnvParam1]
+    jr SetAudioMasterVolumeImpl
+
+    ld [bc], a
+    inc h
+    ld h, l
+    ld d, [hl]
+    ld bc, $bd00
+    nop
+    ld [bc], a
+    jr nz, AudioData_003_6cb5
+
+    or a
+    ld bc, $ed00
+    nop
+    ld [bc], a
+    jr @+$81
+
+    rst $30
+    ld [bc], a
+    ld b, b
+    ld a, a
+    rst $30
+    ld [bc], a
+    ld b, b
+    ld a, a
+    rst $30
+    inc bc
+    jr @+$81
+
+    rst $30
+    inc bc
+    db $10
+    ld e, d
+    and l
+    ld bc, $6500
+    nop
+    inc bc
+    nop
+    nop
+    nop
+    ld [bc], a
+    ld [$b57f], sp
+    ld bc, $ed00
+    nop
+    ld bc, $ed00
+    nop
+    inc bc
+    nop
+    nop
+    nop
+    ld bc, $ed00
+    nop
+    ld [bc], a
+    jr @+$80
+
+    rst $20
+    ld bc, $ed18
+    rst $20
+    ld bc, $de00
+    nop
+
+CopyAudioDataWord:
+    ld a, [hl+]
+    ld c, a
+    ld a, [hl]
+    ld b, a
+    ld a, [bc]
+    ld [de], a
+    inc e
+    inc bc
+    ld a, [bc]
+    ld [de], a
+    ret
+
+
+CopyAudioDataPair:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, [hl+]
+    ld [de], a
+    ret
+
+
+InitializeAudioChannelState:
+    call ResetAudioChannelEnvelopes
+    xor a
+    ld [hAudioEnvPos], a
+    ld [hAudioEnvRate], a
+    ld de, $df00
+    ld b, $00
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    call CopyAudioDataPair
+    ld de, $df10
+    call CopyAudioDataPair
+    ld de, $df20
+    call CopyAudioDataPair
+    ld de, $df30
+    call CopyAudioDataPair
+    ld de, $df40
+    call CopyAudioDataPair
+
+AudioData_003_6cb5:
+    ld hl, $df10
+    ld de, $df14
+    call CopyAudioDataWord
+    ld hl, $df20
+    ld de, $df24
+    call CopyAudioDataWord
+    ld hl, $df30
+    ld de, $df34
+    call CopyAudioDataWord
+    ld hl, $df40
+    ld de, $df44
+    call CopyAudioDataWord
+    ld bc, $0410
+    ld hl, $df12
+
+AudioControlInitLoop:
+    ld [hl], $01
+    ld a, c
+    add l
+    ld l, a
+    dec b
+    jr nz, AudioControlInitLoop
+
+    xor a
+    ld [wComplexState1E], a
+    ld [wComplexState2E], a
+    ld [wComplexState3E], a
+    ret
+
+
+AudioData_003_6cf2:
+    push hl
+    xor a
+    ldh [rNR30], a
+    ld l, e
+    ld h, d
+    call LoadAudioRegisterRange
+    pop hl
+    jr PaddingZone_003_6d28
+
+LoadAudioParameterTriple:
+    call IncrementAudioWord
+    call DereferenceAudioPointer
+    ld e, a
+    call IncrementAudioWord
+    call DereferenceAudioPointer
+    ld d, a
+    call IncrementAudioWord
+    call DereferenceAudioPointer
+    ld c, a
+    inc l
+    inc l
+    ld [hl], e
+    inc l
+    ld [hl], d
+    inc l
+    ld [hl], c
+    dec l
+    dec l
+    dec l
+    dec l
+    push hl
+    ld hl, hAudioControl
+    ld a, [hl]
+    pop hl
+    cp $03
+    jr z, AudioData_003_6cf2
+
+PaddingZone_003_6d28:
+    call IncrementAudioWord
+    jp DecodeAudioOpcode
+
+
+IncrementAudioWord:
+    push de
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl-]
+    ld d, a
+    inc de
+
+AudioData_003_6d34:
+    ld a, e
+    ld [hl+], a
+    ld a, d
+    ld [hl-], a
+    pop de
+    ret
+
+
+AdvanceAudioPointerByWord:
+    push de
+    ld a, [hl+]
+    ld e, a
+    ld a, [hl-]
+    ld d, a
+    inc de
+    inc de
+    jr AudioData_003_6d34
+
+DereferenceAudioPointer:
+    ld a, [hl+]
+    ld c, a
+    ld a, [hl-]
+    ld b, a
+    ld a, [bc]
+    ld b, a
+    ret
+
+
+AudioControlDispatch_6d4a:
+    pop hl
+    jr PaddingZone_003_6d78
+
+CheckAudioControl3Mode:
+    ldh a, [hAudioControl]
+    cp $03
+    jr nz, AudioChannelStatusCheck
+
+    ld a, [wComplexState38]
+    bit 7, a
+    jr z, AudioChannelStatusCheck
+
+    ld a, [hl]
+    cp $06
+    jr nz, AudioChannelStatusCheck
+
+    ld a, $40
+    ldh [rNR32], a
+
+AudioChannelStatusCheck:
+    push hl
+    ld a, l
+    add $09
+    ld l, a
+    ld a, [hl]
+    and a
+    jr nz, AudioControlDispatch_6d4a
+
+UpdateAudioChannelStatus:
+    ld a, l
+    add $04
+    ld l, a
+    bit 7, [hl]
+    jr nz, AudioControlDispatch_6d4a
+
+    pop hl
+    call HandleAudioChannelStatus
+
+AdvanceAudioChannelState:
+PaddingZone_003_6d78:
+    dec l
+    dec l
+    jp AdvanceAudioState
+
+
+DecodeAudioCommandEntry:
+    dec l
+    dec l
+    dec l
+    dec l
+    call AdvanceAudioPointerByWord
+
+DecodeAudioOpcodeEntry:
+    ld a, l
+    add $04
+    ld e, a
+    ld d, h
+    call CopyAudioDataWord
+    cp $00
+    jr z, AudioChannelComplete
+
+    cp $ff
+    jr z, PaddingZone_003_6d98
+
+    inc l
+    jp DecodeNextAudioOpcode
+
+
+PaddingZone_003_6d98:
+    dec l
+    push hl
+    call AdvanceAudioPointerByWord
+    call DereferenceAudioPointer
+    ld e, a
+    call IncrementAudioWord
+    call DereferenceAudioPointer
+    ld d, a
+    pop hl
+    ld a, e
+    ld [hl+], a
+    ld a, d
+    ld [hl-], a
+    jr DecodeAudioOpcodeEntry
+
+AudioChannelComplete:
+    ld hl, $dfe9
+    ld [hl], $00
+    call ResetAudioChannelEnvelopes
+    ret
+
+
+ProcessAudioQueue:
+    ld hl, $dfe9
+    ld a, [hl]
+    and a
+    ret z
+
+    ld a, FLAG_TRUE
+    ldh [hAudioControl], a
+    ld hl, $df10
+
+AdvanceAudioChannelLoop:
+    inc l
+    ld a, [hl+]
+    and a
+    jp z, AdvanceAudioChannelState
+
+    dec [hl]
+    jp nz, CheckAudioControl3Mode
+
+DecodeNextAudioOpcode:
+    inc l
+    inc l
+
+DecodeAudioOpcode:
+    call DereferenceAudioPointer
+    cp $00
+    jp z, DecodeAudioCommandEntry
+
+    cp $9d
+    jp z, LoadAudioParameterTriple
+
+    and $f0
+    cp $a0
+    jr nz, AudioData_003_6dfe
+
+    ld a, b
+    and $0f
+    ld c, a
+    ld b, $00
+    push hl
+    ld de, $df01
+    ld a, [de]
+    ld l, a
+    inc de
+    ld a, [de]
+    ld h, a
+    add hl, bc
+    ld a, [hl]
+    pop hl
+    dec l
+    ld [hl+], a
+    call IncrementAudioWord
+    call DereferenceAudioPointer
+
+AudioData_003_6dfe:
+    ld a, b
+    ld c, a
+    ld b, $00
+    call IncrementAudioWord
+    ldh a, [hAudioControl]
+    cp $04
+    jp z, CopyAudioConfigToRAM
+
+    push hl
+    ld a, l
+    add $05
+    ld l, a
+    ld e, l
+    ld d, h
+    inc l
+    inc l
+    ld a, c
+    cp $01
+    jr z, AudioNoteDispatchCase_01
+
+    ld [hl], $00
+    ld hl, $6f70
+    add hl, bc
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, [hl]
+    ld [de], a
+    pop hl
+    jp RouteAudioControlSetup
+
+
+AudioNoteDispatchCase_01:
+    ld [hl], $01
+    pop hl
+    jr AudioChannelSetup_Ch3
+
+CopyAudioConfigToRAM:
+    push hl
+    ld de, $df46
+    ld hl, $7002
+    add hl, bc
+
+AudioData_003_6e36:
+    ld a, [hl+]
+    ld [de], a
+    inc e
+    ld a, e
+    cp $4b
+    jr nz, AudioData_003_6e36
+
+    ld c, $20
+    ld hl, $df44
+    jr AudioControlCommonPath
+
+RouteAudioControlSetup:
+AudioChannelSetup_Ch3:
+    push hl
+    ldh a, [hAudioControl]
+    cp $01
+    jr z, AudioChannelSetup_1
+
+    cp $02
+    jr z, AudioChannelSetup_Ch2
+
+    ld c, $1a
+    ld a, [wComplexState3F]
+    bit 7, a
+    jr nz, AudioControlFlagCheck
+
+    xor a
+    ldh [c], a
+    ld a, $80
+    ldh [c], a
+
+AudioControlFlagCheck:
+    inc c
+    inc l
+    inc l
+    inc l
+    inc l
+    ld a, [hl+]
+    ld e, a
+    ld d, $00
+    jr AudioDataLoad
+
+AudioChannelSetup_Ch2:
+    ld c, $16
+    jr AudioControlCommonPath
+
+AudioChannelSetup_1:
+    ld c, $10
+    ld a, $00
+    inc c
+
+AudioControlCommonPath:
+    inc l
+    inc l
+    inc l
+    ld a, [hl-]
+    and a
+    jr nz, AudioData_003_6ec8
+
+    ld a, [hl+]
+    ld e, a
+
+PaddingZone_003_6e7b:
+    inc l
+    ld a, [hl+]
+    ld d, a
+
+AudioDataLoad:
+    push hl
+    inc l
+    inc l
+    ld a, [hl+]
+    and a
+    jr z, PaddingZone_003_6e87
+
+    ld e, $01
+
+PaddingZone_003_6e87:
+    inc l
+    inc l
+    ld [hl], $00
+    inc l
+    ld a, [hl]
+    pop hl
+    bit 7, a
+    jr nz, AudioData_003_6ea5
+
+    ld a, d
+    ldh [c], a
+    inc c
+    ld a, e
+    ldh [c], a
+    inc c
+    ld a, [hl+]
+    ldh [c], a
+    inc c
+    ld a, [hl]
+    or $80
+    ldh [c], a
+    ld a, l
+    or $05
+    ld l, a
+    res 0, [hl]
+
+AudioData_003_6ea5:
+    pop hl
+    dec l
+    ld a, [hl-]
+    ld [hl-], a
+    dec l
+
+AdvanceAudioState:
+    ld de, hAudioControl
+    ld a, [de]
+    cp $04
+    jr z, IncrementAudioCounters
+
+    inc a
+    ld [de], a
+    ld de, ANIM_STRUCT_STRIDE
+    add hl, de
+    jp AdvanceAudioChannelLoop
+
+
+IncrementAudioCounters:
+    ld hl, $df1e
+    inc [hl]
+    ld hl, $df2e
+    inc [hl]
+    ld hl, $df3e
+    inc [hl]
+    ret
+
+
+AudioData_003_6ec8:
+    ld b, $00
+    push hl
+    pop hl
+    inc l
+    jr PaddingZone_003_6e7b
+
+GetAudioParameterFromTable:
+    ld a, b
+    srl a
+    ld l, a
+    ld h, $00
+    add hl, de
+    ld e, [hl]
+    ret
+
+
+HandleAudioChannelStatus:
+    push hl
+    ld a, l
+    add $06
+    ld l, a
+    ld a, [hl]
+    and $0f
+    jr z, PaddingZone_003_6ef8
+
+    ldh [hAudioStatus], a
+    ldh a, [hAudioControl]
+    ld c, $13
+    cp $01
+    jr z, AudioData_003_6efa
+
+    ld c, $18
+    cp $02
+    jr z, AudioData_003_6efa
+
+    ld c, $1d
+    cp $03
+    jr z, AudioData_003_6efa
+
+PaddingZone_003_6ef8:
+    pop hl
+    ret
+
+
+AudioData_003_6efa:
+    inc l
+    ld a, [hl+]
+    ld e, a
+
+CalculateAudioNoteFrequency:
+    ld a, [hl]
+    ld d, a
+    push de
+    ld a, l
+    add $04
+    ld l, a
+    ld b, [hl]
+    ldh a, [hAudioStatus]
+    cp $01
+    jr AudioModeDispatchCase_03_Alt
+
+    cp $03
+    jr AudioModeDispatchCase_03
+
+AudioModeDispatchCase_03:
+    ld hl, $ffff
+    jr PaddingZone_003_6f30
+
+AudioModeDispatchCase_03_Alt:
+    ld de, $6f39
+    call GetAudioParameterFromTable
+    bit 0, b
+    jr nz, PaddingZone_003_6f20
+
+    swap e
+
+PaddingZone_003_6f20:
+    ld a, e
+    and $0f
+    bit 3, a
+    jr z, PaddingZone_003_6f2d
+
+    ld h, $ff
+    or $f0
+    jr PaddingZone_003_6f2f
+
+PaddingZone_003_6f2d:
+    ld h, $00
+
+PaddingZone_003_6f2f:
+    ld l, a
+
+PaddingZone_003_6f30:
+    pop de
+    add hl, de
+    ld a, l
+    ldh [c], a
+    inc c
+    ld a, h
+    ldh [c], a
+    jr PaddingZone_003_6ef8
+
+    nop
+    nop
+    nop
+    nop
+    nop
+    nop
+    stop
+    rrca
+    nop
+    nop
+    ld de, $0f00
+    ldh a, [rSB]
+    ld [de], a
+    db $10
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    ld bc, $1012
+    rst $38
+    rst $28
+    nop
+    rrca
+    inc l
+    nop
+    sbc h
+    nop
+    ld b, $01
+    ld l, e
+    ld bc, $01c9
+    inc hl
+    ld [bc], a
+    ld [hl], a
+    ld [bc], a
+    add $02
+    ld [de], a
+    inc bc
+    ld d, [hl]
+    inc bc
+    sbc e
+    inc bc
+    jp c, PipeEnterRightMoveCheck
+
+    inc b
+    ld c, [hl]
+    inc b
+    add e
+    inc b
+    or l
+    inc b
+    push hl
+    inc b
+    ld de, $3b05
+    dec b
+    ld h, e
+    dec b
+    adc c
+    dec b
+    xor h
+    dec b
+    adc $05
+    db $ed
+    dec b
+    ld a, [bc]
+    ld b, $27
+    ld b, $42
+    ld b, $5b
+    ld b, $72
+    ld b, $89
+    ld b, $9e
+    ld b, $b2
+    ld b, $c4
+    ld b, $d6
+    ld b, $e7
+    ld b, $f7
+    ld b, $06
+    rlca
+    inc d
+    rlca
+    ld hl, $2d07
+    rlca
+    add hl, sp
+    rlca
+    ld b, h
+    rlca
+    ld c, a
+    rlca
+    ld e, c
+    rlca
+    ld h, d
+    rlca
+    ld l, e
+    rlca
+    ld [hl], e
+    rlca
+    ld a, e
+    rlca
+    add e
+    rlca
+    adc d
+    rlca
+    sub b
+    rlca
+    sub a
+    rlca
+    sbc l
+    rlca
+    and d
+    rlca
+    and a
+    rlca
+    xor h
+    rlca
+    or c
+    rlca
+    or [hl]
+    rlca
+    cp d
+    rlca
+    cp [hl]
+    rlca
+    pop bc
+    rlca
+    call nz, $c807
+    rlca
+    rlc a
+    adc $07
+    pop de
+    rlca
+    call nc, $d607
+    rlca
+    reti
+
+
+    rlca
+    db $db
+    rlca
+    db $dd
+    rlca
+    rst $18
+    rlca
+    nop
+    nop
+    nop
+    nop
+    nop
+    ret nz
+
+    and c
+    nop
+    ld a, [hl-]
+    nop
+    ret nz
+
+    or c
+    nop
+    add hl, hl
+    ld bc, $81c0
+    nop
+    add hl, hl
+    inc b
+    ret nz
+
+    ld bc, $4523
+    ld h, a
+    adc c
+    xor e
+    call $feef
+    call c, $98ba
+    halt
+    ld d, h
+    ld [hl-], a
+    db $10
+    ld bc, $2312
+    inc [hl]
+    ld b, l
+    ld d, [hl]
+    ld h, a
+    ld a, b
+    adc c
+    sbc d
+    xor e
+    cp h
+    call $eedd
+    rst $38
+    ld bc, $5623
+    ld a, b
+    sbc c
+
+HandleAudioConditionalLogic:
+    sbc b
+    halt
+    ld h, a
+    sbc d
+    rst $18
+    cp $c9
+    add l
+    ld b, d
+    ld de, $0100
+    inc hl
+    ld b, l
+    ld h, a
+    adc c
+    xor e
+    call z, LCDStat_PopAndReti
+    inc c
+    or b
+    cp e
+    nop
+    ei
+    cp e
+    cp e
+    nop
+    inc bc
+    ld b, $0c
+    jr @+$32
+
+    add hl, bc
+    ld [de], a
+    inc h
+    inc b
+    ld [$0402], sp
+    ld [$2010], sp
+    ld b, b
+    inc c
+    jr PaddingZone_003_709b
+
+    dec b
+    ld a, [bc]
+    ld bc, $0500
+    ld a, [bc]
+    inc d
+    jr z, PaddingZone_003_70c4
+
+    rrca
+    ld e, $3c
+    inc bc
+    ld b, $0c
+    jr AudioDataRaw_003_70ac
+
+    ld h, b
+    ld [de], a
+    inc h
+    ld c, b
+    ld [$0010], sp
+    rlca
+    ld c, $1c
+    jr c, AudioDataRaw_003_70f8
+
+    dec d
+    ld a, [hl+]
+    ld d, h
+    inc b
+    ld [$2010], sp
+    ld b, b
+    add b
+    jr PaddingZone_003_70c3
+
+    ld h, b
+    nop
+    ld d, a
+    ld [hl], b
+    push hl
+    ld [hl], e
+    jp hl
+
+
+    ld [hl], e
+
+PaddingZone_003_709b:
+    db $eb
+    ld [hl], e
+    nop
+    nop
+    nop
+    ld [hl], a
+    ld [hl], b
+    and e
+    ld [hl], e
+    and a
+    ld [hl], e
+    xor c
+    ld [hl], e
+    nop
+    nop
+    nop
+    ld h, d
+
+AudioDataRaw_003_70ac:
+    ld [hl], b
+    jp hl
+
+
+    ld [hl], d
+    push af
+    ld [hl], d
+    ld bc, $1573
+    ld [hl], e
+    nop
+    ld [hl], a
+    ld [hl], b
+    add d
+    ld [hl], d
+    adc b
+    ld [hl], d
+    nop
+    nop
+    adc [hl]
+    ld [hl], d
+    nop
+    ld d, a
+    ld [hl], b
+
+PaddingZone_003_70c3:
+    inc hl
+
+PaddingZone_003_70c4:
+    ld [hl], h
+    cpl
+    ld [hl], h
+    dec sp
+    ld [hl], h
+    ld b, a
+    ld [hl], h
+    nop
+    ld h, d
+    ld [hl], b
+    cp h
+    ld [hl], l
+    ret z
+
+    ld [hl], l
+    call nc, $ec75
+    ld [hl], l
+    nop
+    ld h, d
+    ld [hl], b
+    jp nc, $dc77
+
+    ld [hl], a
+    and $77
+    ldh a, [c]
+    ld [hl], a
+    nop
+    ld [hl], a
+    ld [hl], b
+    db $ec
+    ld [hl], b
+    ld hl, sp+$70
+    inc b
+    ld [hl], c
+    db $10
+    ld [hl], c
+    jr @+$73
+
+    ld b, b
+    ld [hl], c
+    ld b, b
+    ld [hl], c
+    ld e, l
+    ld [hl], c
+    rst $38
+    rst $38
+    xor $70
+
+AudioDataRaw_003_70f8:
+    jr nz, @+$73
+
+    sub b
+    ld [hl], c
+    sub b
+    ld [hl], c
+    xor l
+    ld [hl], c
+    rst $38
+    rst $38
+    ld a, [$3070]
+    ld [hl], c
+    ldh [c], a
+    ld [hl], c
+    ldh [c], a
+    ld [hl], c
+    inc de
+    ld [hl], d
+    rst $38
+    rst $38
+    ld b, $71
+    ld h, l
+    ld [hl], d
+    ld [hl], h
+    ld [hl], d
+    rst $38
+    rst $38
+    ld [de], a
+    ld [hl], c
+    sbc l
+    ld h, [hl]
+    nop
+    add b
+    and l
+    ld bc, $0001
+    sbc l
+    halt
+    nop
+    add c
+    and h
+    ld b, d
+    ld a, $3a
+    xor c
+    ld [hl], $36
+    ld [hl], $36
+    ld [hl], $36
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    and b
+    and h
+    ld d, d
+    ld c, [hl]
+    ld c, h
+    xor c
+    ld c, b
+    ld c, b
+    ld c, b
+    ld c, b
+    ld c, b
+    ld c, b
+    nop
+    and h
+    ld bc, $3aa9
+    ld bc, $3ea3
+    and d
+    ld c, h
+    and a
+    ld bc, $34a9
+    ld c, h
+    ld bc, $a348
+    ld b, h
+    ld a, $a9
+    ld b, h
+    ld bc, $3ea4
+    xor c
+    ld bc, $01a5
+    nop
+    and h
+    ld bc, $3ea9
+    ld bc, $013e
+    ld bc, $013e
+    ld bc, $0101
+    ld bc, $a33a
+    ld [hl], $34
+    xor c
+    jr nc, PaddingZone_003_7173
+
+    inc [hl]
+
+PaddingZone_003_7173:
+    ld bc, $4201
+    and h
+    ld bc, $01a5
+    and h
+    ld bc, $3ea9
+    ld bc, $013e
+    ld bc, $013e
+    ld bc, $0101
+    ld bc, $a33a
+    ld [hl], $34
+    and l
+    ld bc, $0001
+    and h
+    ld bc, $4ca9
+    ld bc, $4ea3
+    and d
+    ld d, d
+    and a
+    ld bc, $44a9
+    ld d, d
+    ld bc, $a34e
+    ld c, h
+    ld c, b
+    xor c
+    ld c, h
+    ld bc, $44a4
+    xor c
+    ld bc, $01a5
+    nop
+    and h
+    ld bc, $4ea9
+    ld bc, HeaderGlobalChecksum
+    ld bc, HeaderGlobalChecksum
+    ld bc, $0101
+    ld bc, $a34c
+    ld c, b
+    ld b, h
+    xor c
+    ld b, d
+    ld bc, HeaderNewLicenseeCode
+    ld bc, $a448
+    ld bc, $01a5
+    and h
+    ld bc, $4ea9
+    ld bc, HeaderGlobalChecksum
+    ld bc, HeaderGlobalChecksum
+    ld bc, $0101
+    ld bc, $a34c
+    ld c, b
+    ld b, h
+    and h
+    ld b, d
+    ld a, $3a
+    ld [hl], $00
+    and e
+    ld b, h
+    xor c
+    ld b, h
+    ld bc, $a33a
+    ld b, h
+    xor c
+    ld b, h
+    ld bc, $a33a
+    ld b, h
+    xor c
+    ld b, h
+    ld bc, $a33a
+    ld b, h
+    xor c
+    ld b, h
+    ld bc, $a33a
+    ld [hl], $a9
+    ld [hl], $01
+    ld b, h
+    and e
+    ld [hl], $a9
+    ld [hl], $01
+    ld b, h
+    and e
+    ld [hl], $a9
+    ld [hl], $01
+    ld b, h
+    and e
+    ld [hl], $a9
+    ld [hl], $01
+    ld b, h
+    nop
+    and e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld a, [hl-]
+    xor c
+    ld a, [hl-]
+    ld bc, $a348
+    ld a, [hl-]
+    xor c
+    ld a, [hl-]
+    ld bc, $a348
+    ld a, [hl-]
+    xor c
+    ld a, [hl-]
+    ld bc, $a348
+    ld a, [hl-]
+    xor c
+    ld a, [hl-]
+    ld bc, $a348
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld c, b
+    xor c
+    ld c, b
+    ld bc, $a33e
+    ld d, d
+    ld d, d
+    ld c, [hl]
+    ld c, [hl]
+    ld c, h
+    ld c, h
+    ld c, b
+    ld c, b
+    nop
+    and e
+    ld b, $06
+    ld b, $06
+    dec bc
+    dec bc
+    xor c
+    dec bc
+    dec bc
+    dec bc
+
+ProcessInputState_Bank3_Part1:
+    dec bc
+    dec bc
+    dec bc
+    nop
+    xor c
+    ld b, $01
+    ld bc, $0110
+    ld b, $01
+    ld b, $01
+    db $10
+    ld bc, $0006
+    sub h
+    ld [hl], d
+    rst $38
+    rst $38
+    add d
+    ld [hl], d
+    or l
+    ld [hl], d
+    rst $38
+    rst $38
+    adc b
+    ld [hl], d
+    pop de
+    ld [hl], d
+    rst $38
+    rst $38
+    adc [hl]
+    ld [hl], d
+    sbc l
+    ld [hl], e
+    nop
+    add b
+    xor c
+    ld bc, $1aa2
+    ld bc, $1022
+    inc d
+    jr @+$1c
+
+    ld bc, $2228
+    ld bc, $1a01
+    ld bc, $1022
+    inc d
+    jr @+$1c
+
+    ld bc, $01a3
+    xor c
+    ld bc, $0001
+    sbc l
+    sub e
+    nop
+    add b
+    and d
+    ld a, [de]
+    ld bc, $1022
+    inc d
+    jr @+$1c
+
+    ld bc, $2228
+    ld bc, $1a01
+    ld bc, $1022
+    inc d
+    jr @+$1c
+
+    ld bc, $01a4
+    nop
+    and d
+    ld b, $01
+    ld bc, $0106
+    ld b, $06
+    ld bc, $0606
+    ld bc, $0601
+    ld bc, $0601
+    ld bc, $0606
+    ld bc, $01a4
+    nop
+    jr nz, @+$75
+
+    daa
+    ld [hl], e
+    daa
+    ld [hl], e
+    ld e, d
+    ld [hl], e
+    rst $38
+
+PaddingZone_003_72f2:
+    rst $38
+    db $eb
+    ld [hl], d
+    dec de
+    ld [hl], e
+    daa
+    ld [hl], e
+    daa
+    ld [hl], e
+    ld e, d
+    ld [hl], e
+    rst $38
+    rst $38
+    rst $30
+    ld [hl], d
+    ld l, [hl]
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+
+AudioData_003_7307:
+    ld [hl], e
+
+PaddingZone_003_7308:
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    add l
+    ld [hl], e
+    add l
+
+PaddingZone_003_730e:
+    ld [hl], e
+    ld [hl], e
+    ld [hl], e
+    rst $38
+    rst $38
+    inc bc
+    ld [hl], e
+    adc [hl]
+    ld [hl], e
+    rst $38
+    rst $38
+    dec d
+    ld [hl], e
+    sbc l
+    add b
+    nop
+    add c
+    nop
+    sbc l
+    jr nc, PaddingZone_003_7323
+
+PaddingZone_003_7323:
+    add b
+    and a
+    ld bc, $a400
+    ld b, b
+    and e
+    ld a, $a9
+    jr c, @+$40
+
+    jr c, @-$53
+
+    ld bc, $36a8
+    and e
+    jr z, AudioDataRaw_003_7360
+
+    and d
+    ld a, [hl+]
+    ld l, $a3
+    ld a, [hl+]
+    ld l, $a5
+    jr z, @-$5a
+
+    ld b, b
+    and e
+    ld a, $a9
+    jr c, PaddingZone_003_7383
+
+    jr c, PaddingZone_003_72f2
+
+    ld bc, $36a8
+    and e
+    jr z, PaddingZone_003_7377
+
+    and d
+    ld a, [hl+]
+    ld l, $a3
+    ld [hl-], a
+    and c
+    ld l, $32
+    ld l, $2a
+    and l
+    jr z, PaddingZone_003_735a
+
+PaddingZone_003_735a:
+    and l
+    ld a, [hl+]
+    and h
+    ld bc, $a532
+
+AudioDataRaw_003_7360:
+    inc a
+    and h
+    jr c, AudioData_003_7307
+
+    jr c, PaddingZone_003_7308
+
+    inc a
+    jr c, PaddingZone_003_730e
+
+    ld [hl], $01
+    ld bc, $0001
+    sbc l
+    scf
+    ld [hl], b
+
+ProcessInputState_Bank3_Part2:
+    and b
+    nop
+    and e
+    ld b, b
+    ld b, d
+    ld b, b
+
+PaddingZone_003_7377:
+    ld b, d
+    ld b, b
+    ld b, d
+
+PaddingZone_003_737a:
+    ld b, b
+    ld c, [hl]
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, d
+    ld b, b
+
+PaddingZone_003_7383:
+    inc a
+    nop
+    ld b, d
+    ld d, b
+    ld b, d
+    ld d, b
+    ld b, d
+    ld d, b
+    ld b, d
+    ld d, b
+    nop
+    and e
+    ld b, $a2
+    ld b, $06
+    and e
+    ld b, $a2
+    ld b, $06
+    and e
+    ld b, $a2
+    ld b, $06
+    and e
+    dec bc
+    and d
+    ld b, $06
+    nop
+    cp [hl]
+    ld [hl], e
+    nop
+    nop
+    xor e
+    ld [hl], e
+    call nc, $9d73
+    and c
+    nop
+    add b
+    and b
+    ld bc, $58a1
+    ld d, h
+    ld d, d
+    ld c, [hl]
+    ld c, d
+    and [hl]
+    ld bc, $40a2
+    ld bc, $0132
+    sbc l
+    jr nc, PaddingZone_003_73c1
+
+PaddingZone_003_73c1:
+    add b
+    and c
+    ld e, b
+    ld d, h
+    ld d, d
+    ld c, [hl]
+    ld c, d
+    and [hl]
+    ld bc, $a19d
+    nop
+    add b
+    and d
+    ld c, [hl]
+    ld bc, $0152
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    jr nz, PaddingZone_003_737a
+
+    ld e, b
+    ld d, h
+    ld d, d
+    ld c, [hl]
+    ld c, d
+    and [hl]
+    ld bc, $60a2
+    ld bc, $0162
+    db $ed
+    ld [hl], e
+    nop
+    nop
+    rst $38
+    ld [hl], e
+    ld de, $9d74
+    ld h, b
+    nop
+    add b
+    xor b
+    ld d, d
+    and d
+    ld d, d
+    ld bc, $0152
+    ld d, d
+    ld bc, $56a8
+    ld e, b
+    ld e, d
+    nop
+    sbc l
+    add e
+    nop
+    add b
+    xor b
+    ld c, d
+    and d
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, $4ea8
+    ld d, b
+    ld d, d
+    nop
+    sbc l
+    rla
+    ld [hl], b
+    ld hl, $70a8
+    and d
+    ld [hl], b
+    ld bc, $0170
+    ld [hl], b
+    ld bc, $74a8
+    halt
+    ld a, b
+    nop
+    ld e, a
+    ld [hl], h
+    sub c
+    ld [hl], h
+    sub c
+    ld [hl], h
+    jr DispatchDataZone_74a0
+
+    rst $38
+    rst $38
+    dec h
+    ld [hl], h
+    ld c, a
+    ld [hl], h
+    cp c
+    ld [hl], h
+    cp c
+    ld [hl], h
+    ld c, b
+    ld [hl], l
+    rst $38
+    rst $38
+    ld sp, $6f74
+    ld [hl], h
+    rst $28
+    ld [hl], h
+    rst $28
+    ld [hl], h
+    ld a, b
+    ld [hl], l
+    rst $38
+    rst $38
+    dec a
+    ld [hl], h
+    add l
+    ld [hl], h
+    and e
+    ld [hl], l
+    rst $38
+    rst $38
+    ld c, c
+    ld [hl], h
+    sbc l
+    and d
+    nop
+    add b
+    and d
+    ld b, b
+    ld b, h
+    ld bc, HeaderROMSize
+    ld b, h
+    ld bc, $a540
+    inc a
+    nop
+    sbc l
+    add d
+    nop
+    add b
+    and d
+    ld c, d
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, $a54a
+    ld b, h
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    and b
+    and d
+    ld d, d
+    ld d, h
+    ld bc, $0158
+    ld d, h
+    ld bc, $4052
+    ld [hl], $01
+    jr nc, @+$2a
+
+    ld bc, $0101
+    nop
+    and d
+    ld b, $06
+    ld bc, $0106
+    ld b, $01
+    ld b, $a5
+    ld b, $00
+    and d
+    ld a, [hl-]
+    ld bc, $a701
+    ld b, b
+    and e
+    ld a, [hl-]
+    and h
+    ld bc, $aa32
+    ld [hl], $44
+    ld b, h
+
+DispatchDataZone_74a0:
+    ld b, h
+    ld c, b
+    ld c, d
+    and l
+    ld bc, $3aa2
+    ld a, [hl-]
+    ld bc, $40a7
+    and e
+    ld a, [hl-]
+    and l
+    ld bc, $48aa
+    ld bc, $3601
+    ld a, [hl-]
+    inc a
+    and l
+    ld a, [hl-]
+    nop
+    and d
+    ld c, d
+    ld bc, $a701
+    ld d, d
+    and e
+    ld c, d
+    and d
+    ld b, h
+    ld c, [hl]
+    ld bc, $a454
+    ld b, h
+    xor d
+    ld c, b
+    ld d, h
+    ld d, h
+    ld d, h
+    ld e, b
+    ld e, h
+    and d
+    ld e, b
+    ld d, d
+    ld bc, $a44a
+    ld b, b
+    and d
+    ld c, d
+    ld c, d
+    ld bc, $52a7
+    and e
+    ld c, d
+    and d
+    ld b, h
+    ld c, [hl]
+    ld bc, $a454
+    ld b, h
+    xor d
+    ld c, b
+    ld bc, $4801
+    ld c, d
+    ld c, [hl]
+    and l
+    ld c, d
+    nop
+    and a
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    and a
+    inc a
+    ld b, h
+    and e
+    ld c, d
+    and a
+    ld b, b
+    ld c, b
+    and e
+    ld [hl], $a7
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    and a
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    and a
+    inc a
+    ld b, h
+    and e
+    ld c, d
+    and a
+    ld b, b
+    ld c, b
+    and e
+    ld [hl], $a7
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    nop
+    xor d
+    ld b, h
+    ld b, h
+    ld b, h
+    ld b, h
+    ld b, b
+    inc a
+    and a
+    ld b, b
+    ld [hl-], a
+    and e
+    ld bc, $36a2
+    ld bc, $3601
+    ld [hl], $3a
+    ld bc, $a53c
+    ld b, b
+    xor d
+    ld b, h
+    ld bc, $4444
+    ld c, b
+    ld c, d
+    and a
+    ld c, b
+    ld b, b
+    and e
+    ld bc, $44a7
+    ld b, b
+    and e
+    inc a
+    and d
+    ld bc, $013c
+    ld bc, $40a4
+    nop
+    xor d
+    ld d, h
+    ld d, h
+    ld d, h
+    ld d, h
+    ld d, d
+    ld c, [hl]
+    and a
+    ld d, d
+    ld c, d
+    and e
+    ld bc, $48a2
+    ld bc, $4801
+    ld c, b
+    ld c, d
+    ld bc, $a54e
+    ld d, d
+    xor d
+    ld d, h
+    ld bc, $5454
+    ld e, b
+    ld e, h
+    and a
+    ld e, b
+    ld d, d
+    and e
+    ld bc, $54a7
+    ld d, d
+    and e
+    ld c, [hl]
+    and d
+    ld bc, HeaderNewLicenseeCode
+    ld bc, $48a4
+    nop
+    and a
+    inc a
+    ld b, h
+    and e
+    ld c, d
+    and a
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    and a
+    ld b, b
+    ld c, b
+    and e
+    ld [hl], $a7
+    ld [hl-], a
+    ld a, [hl-]
+    and e
+    ld b, b
+    and a
+    inc a
+    ld b, h
+    and e
+    ld c, d
+    and a
+    ld a, [hl-]
+    ld b, b
+    and e
+    ld c, b
+    and a
+    inc a
+    ld b, h
+    and e
+    ld c, d
+    and d
+    ld bc, $0140
+    ld bc, $40a4
+    nop
+    and e
+    ld b, $a9
+    ld b, $01
+    ld b, $a3
+    dec bc
+    xor c
+    ld b, $01
+    ld b, $a3
+    ld b, $a9
+    ld b, $01
+    ld b, $a3
+    dec bc
+    xor c
+    ld b, $01
+    ld b, $00
+    ld [$2876], sp
+    halt
+    jr z, MusicSequence_Marker_1
+
+    rst $30
+    halt
+    rst $38
+    rst $38
+
+PaddingZone_003_75c6:
+    cp [hl]
+    ld [hl], l
+    db $f4
+    ld [hl], l
+    ld [hl], a
+    halt
+    ld [hl], a
+    halt
+    dec [hl]
+    ld [hl], a
+    rst $38
+    rst $38
+    jp z, $1c75
+
+    halt
+    or l
+    halt
+    or l
+    halt
+    or l
+    halt
+    sub $76
+    or l
+    halt
+    or l
+    halt
+    or l
+    halt
+    sub $76
+    ld [hl], e
+    ld [hl], a
+    rst $38
+    rst $38
+    sub $75
+    inc h
+    halt
+    cp l
+    ld [hl], a
+    rst $38
+    rst $38
+    xor $75
+    sbc l
+    add h
+    nop
+    nop
+    and d
+    ld [hl], b
+    ld [hl], b
+    ld [hl], b
+    ld bc, $016a
+    ld l, d
+    ld bc, $0166
+    ld h, [hl]
+    ld bc, $6aa4
+    nop
+    sbc l
+    ld [hl], h
+    nop
+    nop
+    and d
+    ld h, [hl]
+    ld h, [hl]
+    ld h, [hl]
+    ld bc, $0160
+    ld h, b
+    ld bc, $015c
+    ld e, h
+    ld bc, $60a4
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    jr nz, PaddingZone_003_75c6
+
+    ld bc, $0001
+    and l
+    ld bc, $0001
+    sbc l
+    add d
+    nop
+    nop
+    xor b
+    ld b, h
+    and e
+    ld c, b
+    and h
+    ld c, [hl]
+    ld c, b
+    and h
+    ld b, h
+    and e
+    ld c, b
+    ld b, h
+
+MusicSequence_Marker_1:
+    and h
+    ld b, b
+    and e
+    ld a, [hl-]
+    ld [hl], $a8
+    ld b, h
+    and e
+    ld c, b
+    and h
+    ld c, [hl]
+    and e
+    ld c, b
+    ld b, h
+    and d
+    ld e, b
+    ld e, h
+    and e
+    ld e, b
+    and d
+    ld d, d
+    ld e, b
+    and e
+    ld d, d
+    and d
+    ld c, [hl]
+    ld d, d
+    and e
+    ld c, [hl]
+    and d
+    ld c, b
+    ld b, h
+    and e
+    ld b, b
+
+MusicSequenceData_765a:
+    xor b
+    ld b, h
+    and e
+    ld c, b
+    and h
+    ld c, [hl]
+    ld c, b
+    and h
+
+MusicSequence_Marker_2:
+    ld b, h
+    and e
+    ld c, b
+    ld b, h
+    and h
+    ld b, b
+    and e
+    ld a, [hl-]
+    ld [hl], $a8
+    ld a, [hl-]
+    and e
+
+PaddingZone_003_766e:
+    ld a, $3a
+    ld [hl], $30
+    inc l
+    and l
+    jr nc, MusicSequence_Marker_4
+
+MusicSequence_Marker_3:
+    nop
+
+MusicSequence_Marker_4:
+    sbc l
+    ld [hl], b
+    nop
+    add c
+    xor b
+    ld c, [hl]
+    and e
+    ld d, d
+    and h
+    ld e, b
+    ld d, d
+    and h
+    ld c, [hl]
+    and e
+    ld d, d
+    ld c, [hl]
+    and h
+    ld c, b
+    and e
+    ld b, h
+    ld b, b
+    xor b
+    ld c, [hl]
+    and e
+
+MusicSequenceData_768f:
+    ld d, d
+    and h
+    ld e, b
+    and e
+    ld d, d
+    ld c, [hl]
+    and l
+    ld d, d
+
+MusicSequence_Marker_5:
+    ld bc, $4ea8
+    and e
+    ld d, d
+    and h
+    ld e, b
+    ld d, d
+    and h
+    ld c, [hl]
+    and e
+    ld d, d
+    ld c, [hl]
+    and h
+    ld c, b
+    and e
+    ld b, h
+    ld b, b
+    xor b
+    ld b, h
+    and e
+    ld c, b
+    ld b, h
+    ld b, b
+    ld a, [hl-]
+    ld [hl], $a5
+    ld a, [hl-]
+    ld bc, $a300
+    jr z, MusicSequenceData_765a
+
+    ld b, b
+    ld [hl], $a3
+    jr z, MusicSequenceData_76fd
+
+    and e
+    jr z, MusicSequence_Marker_2
+
+    ld b, b
+    ld [hl], $a3
+    jr z, MusicSequenceData_7705
+
+    and e
+    ld a, [de]
+    and d
+    ld [hl-], a
+    jr z, PaddingZone_003_766e
+
+    ld a, [de]
+    ld [hl-], a
+    and e
+    ld a, [de]
+    and d
+    ld [hl-], a
+    jr z, MusicSequence_Marker_3
+
+    ld a, [de]
+    ld [hl-], a
+    nop
+    and e
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and e
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and e
+    ld [hl+], a
+    and d
+    ld a, [hl-]
+    jr nc, MusicSequenceData_768f
+
+    ld [hl+], a
+    ld a, [hl-]
+    and e
+    ld [hl+], a
+    and d
+    ld a, [hl-]
+    jr nc, MusicSequence_Marker_5
+
+    ld [hl+], a
+    ld a, [hl-]
+    nop
+    xor b
+    ld e, h
+    and e
+    ld h, b
+    and h
+    ld h, [hl]
+
+MusicSequenceData_76fd:
+    and e
+    ld h, [hl]
+    and d
+    ld l, d
+    ld h, [hl]
+    and h
+    ld h, b
+    and e
+
+MusicSequenceData_7705:
+    ld h, [hl]
+    ld h, b
+    and e
+    ld e, h
+    and d
+    ld h, b
+    ld e, h
+    and e
+    ld e, b
+    and d
+    ld d, d
+    ld c, [hl]
+    and l
+    ld h, [hl]
+    xor b
+    ld h, [hl]
+    and e
+    ld h, b
+    and l
+    ld h, [hl]
+    ld bc, $52a8
+    and e
+    ld e, b
+    and h
+    ld e, h
+    ld e, b
+    xor b
+    ld d, d
+    and e
+    ld c, [hl]
+    and h
+    ld c, b
+    and e
+    ld b, h
+    ld b, b
+    xor b
+    ld b, h
+
+MusicSequenceData_772c:
+    and e
+    ld c, b
+    and h
+    ld c, [hl]
+    ld d, d
+    and l
+    ld e, b
+    ld bc, $a800
+    ld b, h
+    and e
+
+MusicSequenceData_7738:
+    ld c, b
+    and h
+    ld c, [hl]
+    and e
+    ld c, [hl]
+    and d
+    ld d, d
+    ld c, [hl]
+
+MusicSequenceData_7740:
+    and h
+    ld c, b
+    and e
+    ld c, [hl]
+    ld c, b
+    and e
+    ld b, h
+    and d
+    ld c, b
+    ld b, h
+    and e
+    ld b, b
+    and d
+    ld a, [hl-]
+    ld [hl], $a5
+    ld c, [hl]
+    xor b
+    ld c, [hl]
+    and e
+    ld c, b
+    and l
+    ld c, [hl]
+    ld bc, $52a8
+    and e
+    ld e, b
+    and h
+    ld e, h
+    ld e, b
+    xor b
+    ld d, d
+    and e
+    ld c, [hl]
+    and h
+    ld c, b
+    and e
+    ld b, h
+    ld b, b
+    xor b
+    ld b, h
+    and e
+    ld c, b
+    and h
+    ld c, [hl]
+    ld d, d
+    and l
+    ld e, b
+    ld bc, $a300
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and e
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and e
+    ld a, [de]
+    and d
+    ld [hl-], a
+    jr z, MusicSequenceData_772c
+
+    ld a, [de]
+    ld [hl-], a
+    and e
+    ld a, [de]
+    and d
+    ld [hl-], a
+    jr z, @-$5b
+
+    ld a, [de]
+    ld [hl-], a
+    and e
+    jr nc, MusicSequenceData_7738
+
+    ld c, b
+    ld h, $a3
+    jr nc, PaddingZone_003_77e3
+
+    and e
+    jr nc, MusicSequenceData_7740
+
+    ld c, b
+    ld h, $a3
+    jr nc, PaddingZone_003_77eb
+
+    and e
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and e
+    ld e, $a2
+    ld [hl], $2c
+    and e
+    ld e, $36
+    and l
+    ld [hl+], a
+    ld [hl+], a
+    ld a, [de]
+    ld a, [de]
+    ld e, $1e
+    ld [hl+], a
+    ld [hl+], a
+
+MusicSequenceData_77bc:
+    nop
+    and e
+    ld b, $a2
+    ld b, $06
+    and e
+    dec bc
+    and d
+    ld b, $06
+    and e
+    ld b, $a2
+    ld b, $06
+    and e
+    dec bc
+    and d
+    ld b, $06
+    nop
+    dec c
+    ld a, b
+    ld b, e
+    ld a, b
+    ld c, e
+    ld a, c
+    rst $38
+    rst $38
+    call nc, $fa77
+    ld [hl], a
+    add a
+    ld a, b
+    rla
+    ld a, c
+    rst $38
+
+PaddingZone_003_77e3:
+    rst $38
+    sbc $77
+    ld a, [de]
+    ld a, b
+    di
+    ld a, b
+    di
+
+PaddingZone_003_77eb:
+    ld a, b
+    ld a, b
+    ld a, c
+    rst $38
+    rst $38
+    add sp, $77
+    dec hl
+    ld a, b
+    xor b
+    ld a, c
+    rst $38
+    rst $38
+    db $f4
+    ld [hl], a
+    sbc l
+    sub d
+    nop
+    add b
+    and d
+    ld d, d
+    ld bc, $0150
+    ld c, [hl]
+    ld c, d
+    ld bc, $0101
+    and a
+    ld b, b
+    and h
+    jr z, PaddingZone_003_780d
+
+PaddingZone_003_780d:
+    sbc l
+    ld h, d
+    nop
+    add b
+    and l
+    ld bc, $01a2
+    and a
+    jr z, MusicSequenceData_77bc
+
+    stop
+    sbc l
+    scf
+    ld [hl], b
+    jr nz, @-$5c
+
+    ld [hl], b
+    ld bc, $016e
+    ld l, h
+    ld l, d
+    ld bc, $a401
+    ld bc, $0040
+    and [hl]
+    ld b, $a1
+    ld b, $a3
+    dec bc
+    and [hl]
+    ld b, $a1
+    ld b, $a3
+    dec bc
+    and d
+    ld bc, $0106
+    ld bc, $0ba6
+    and c
+    ld b, $a3
+    ld b, $00
+    and e
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    and l
+    ld bc, $01a3
+    ld l, [hl]
+    and h
+    ld l, [hl]
+    and e
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, $013a
+    ld a, [hl-]
+    ld bc, HeaderDestinationCode
+    ld c, d
+
+AudioDataProcessor:
+    ld bc, HeaderDestinationCode
+    ld c, d
+    and l
+    ld bc, $01a6
+    and c
+    ld l, [hl]
+    and e
+    ld bc, $56a4
+    nop
+    and e
+    ld d, d
+    ld bc, $4ea6
+    and c
+    ld c, d
+    and [hl]
+    ld bc, $52a1
+    xor b
+    ld bc, $4aa6
+    and c
+    ld c, [hl]
+    and d
+    ld d, d
+    ld bc, $0152
+
+MusicSequenceData_789d:
+    and e
+    ld c, [hl]
+    ld c, d
+    ld d, d
+    ld d, h
+    ld e, b
+    ld e, h
+    ld bc, $4a4a
+    ld b, h
+    ld b, b
+    and [hl]
+    ld bc, $4aa1
+    and h
+    ld bc, $3ca3
+    ld b, b
+    ld b, h
+    ld c, b
+    and e
+    ld bc, $a470
+    ld [hl], b
+    and e
+    ld d, d
+    ld bc, $4ea6
+    and c
+    ld c, d
+    and [hl]
+    ld bc, $52a1
+    xor b
+    ld bc, $4aa6
+    and c
+    ld c, [hl]
+    and d
+    ld d, d
+    ld bc, $0152
+    and e
+    ld c, [hl]
+    ld c, d
+    ld e, h
+    ld e, b
+    ld h, d
+    and [hl]
+    ld d, d
+    and c
+    ld c, [hl]
+    and e
+    ld bc, $4a4a
+    ld c, [hl]
+    ld d, d
+    and [hl]
+    ld bc, $4aa1
+    and h
+    ld bc, $54a3
+    ld d, d
+    ld c, d
+    ld c, [hl]
+    and [hl]
+    ld bc, $70a1
+    and e
+    ld bc, $58a4
+    nop
+    and e
+    ld [hl-], a
+    and [hl]
+    ld e, b
+    and c
+    jr z, MusicSequenceData_789d
+
+    ld [hl-], a
+    ld e, b
+    ld [hl-], a
+    ld e, d
+    ld [hl-], a
+    ld e, d
+    ld [hl-], a
+    ld e, h
+    ld [hl-], a
+    ld e, h
+    ld [hl-], a
+    ld e, [hl]
+    ld b, h
+    ld e, [hl]
+    inc a
+    ld e, h
+    inc a
+    ld e, h
+    ld a, [hl-]
+    ld e, b
+    ld a, [hl-]
+    ld e, b
+    ld c, [hl]
+    ld d, d
+    ld d, h
+    ld d, [hl]
+    and l
+    ld bc, $a300
+    ld bc, $605c
+    ld h, d
+    and e
+    ld h, b
+    and [hl]
+    ld bc, $58a1
+    and h
+    ld bc, $54a3
+    ld bc, $58a6
+    and c
+    ld d, h
+    and e
+    ld bc, $52a2
+    ld bc, $0154
+    ld d, [hl]
+    ld bc, $0158
+    and e
+    ld bc, $605c
+    ld h, d
+    and e
+    ld h, b
+    and [hl]
+    ld bc, $58a1
+    and h
+    ld bc, $68a3
+    ld h, [hl]
+    ld bc, $a562
+    ld bc, $a300
+    ld bc, $4e4a
+    ld b, h
+    ld c, [hl]
+    and [hl]
+    ld b, b
+    and c
+    ld c, b
+    and e
+    ld bc, $4440
+    inc a
+    and [hl]
+    ld c, b
+    and c
+    ld b, h
+    and e
+    ld [hl], $a5
+    ld bc, $01a3
+    ld c, d
+    ld c, [hl]
+    ld b, h
+    ld c, [hl]
+    and [hl]
+    ld b, b
+    and c
+    ld c, b
+    and e
+    ld bc, $3240
+    ld [hl-], a
+    ld bc, $0132
+    ld bc, $0101
+    nop
+    and e
+    inc a
+    ld c, d
+    inc a
+    ld c, d
+    ld a, [hl-]
+    ld c, d
+    ld a, [hl-]
+    ld c, d
+    ld [hl], $5c
+    ld [hl], $5c
+    and d
+    ld c, d
+    ld bc, HeaderGlobalChecksum
+    ld d, b
+    ld bc, $0152
+    and e
+    inc a
+    ld c, d
+    inc a
+    ld c, d
+    ld a, [hl-]
+    ld c, d
+    ld a, [hl-]
+    ld c, d
+    ld b, d
+    ld d, b
+    ld b, d
+    ld d, b
+    and c
+    ld e, b
+    ld bc, $0158
+    and d
+    ld d, h
+    ld bc, $0152
+    ld c, [hl]
+    ld bc, $a300
+    ld b, $a6
+    ld b, $a1
+    ld b, $a3
+    dec bc
+    and [hl]
+    ld b, $a1
+    ld b, $a3
+    ld b, $a6
+    ld b, $a1
+    ld b, $a3
+    dec bc
+    and [hl]
+    ld b, $a1
+    ld b, $00
+    nop
+    ld l, [hl]
+    ld [hl], b
+    pop bc
+    ld a, l
+    rst $00
+    ld a, l
+    nop
+    nop
+    call CheckWindowEnable
+    ld [hl], a
+    ld [hl], b
+    ld h, d
+    ld a, l
+    ld h, [hl]
+    ld a, l
+    ld l, b
+    ld a, l
+    nop
+    nop
+    nop
+    ld h, d
+    ld [hl], b
+    db $10
+    ld a, l
+    ld d, $7d
+    inc e
+    ld a, l
+    ld [hl+], a
+    ld a, l
+    nop
+    ld h, d
+    ld [hl], b
+    rla
+    ld a, h
+    dec l
+    ld a, h
+    ld b, c
+    ld a, h
+    ld b, l
+    ld a, h
+    nop
+    ld d, a
+    ld [hl], b
+    or d
+    ld a, e
+    nop
+    nop
+    or [hl]
+    ld a, e
+    nop
+    nop
+    nop
+    ld h, d
+    ld [hl], b
+    add sp, $7b
+    db $ec
+    ld a, e
+    nop
+    nop
+    nop
+    nop
+    nop
+    add d
+    ld [hl], b
+    ld b, c
+    ld a, e
+    ld c, e
+    ld a, e
+    nop
+    nop
+    nop
+    nop
+    nop
+    add d
+    ld [hl], b
+    rst $38
+    ld a, d
+    inc bc
+    ld a, e
+    dec b
+    ld a, e
+    nop
+    nop
+
+PaddingZone_003_7a19:
+    nop
+    ld [hl], a
+    ld [hl], b
+    rst $00
+    ld a, d
+    call $007a
+    nop
+    nop
+    nop
+    nop
+    ld [hl], a
+    ld [hl], b
+    cpl
+    ld a, d
+    scf
+    ld a, d
+    ccf
+    ld a, d
+    ld b, a
+    ld a, d
+    ld c, l
+    ld a, d
+    sub d
+    ld a, d
+    rst $38
+    rst $38
+    ld sp, $5e7a
+    ld a, d
+    and a
+    ld a, d
+    rst $38
+    rst $38
+    add hl, sp
+    ld a, d
+    ld l, a
+    ld a, d
+    or l
+    ld a, d
+    rst $38
+    rst $38
+    ld b, c
+    ld a, d
+    add b
+    ld a, d
+    rst $38
+    rst $38
+    ld b, a
+    ld a, d
+    sbc l
+    sub b
+    nop
+    nop
+    and l
+    ld bc, $201e
+    and h
+    ld [hl+], a
+    inc h
+    and e
+    ld h, $28
+    ld a, [hl+]
+    inc l
+    nop
+    sbc l
+    and b
+    nop
+    nop
+    and l
+    ld bc, $1210
+    and h
+    inc d
+    ld d, $a3
+    jr PaddingZone_003_7a86
+
+    inc e
+    ld e, $00
+    sbc l
+    scf
+    ld [hl], b
+    jr nz, PaddingZone_003_7a19
+
+    ld bc, $2a28
+    and h
+    inc l
+    ld l, $a3
+    jr nc, PaddingZone_003_7aaf
+
+    inc [hl]
+    ld [hl], $00
+    and c
+    ld b, $06
+    ld b, $06
+    dec bc
+
+PaddingZone_003_7a86:
+    ld b, $06
+    ld b, $06
+    ld b, $06
+    ld b, $0b
+    ld b, $06
+    ld b, $00
+    sbc l
+    ld h, b
+    nop
+    pop bc
+    and h
+    ld e, $2a
+    jr z, DispatchDataZone_7acf
+
+    and l
+    ld [hl-], a
+    ld bc, $1ea4
+    ld a, [hl+]
+    jr z, PaddingZone_003_7ad7
+
+    and l
+    ld [hl], $01
+    nop
+    sbc l
+    add e
+    nop
+    nop
+    and d
+    db $10
+    ld c, $0c
+
+PaddingZone_003_7aaf:
+    ld a, [bc]
+    ld [$0406], sp
+    ld [bc], a
+    nop
+    and c
+    jr z, @+$42
+
+    ld h, $3e
+    inc h
+    inc a
+    ld [hl+], a
+    ld a, [hl-]
+    jr nz, @+$3a
+
+    ld e, $36
+    inc e
+    inc [hl]
+    ld a, [de]
+    ld [hl-], a
+    nop
+    db $d3
+    ld a, d
+    rst $38
+    rst $38
+    rst $00
+    ld a, d
+    jp hl
+
+
+    ld a, d
+
+DispatchDataZone_7acf:
+    rst $38
+    rst $38
+    call $9d7a
+    add h
+    nop
+    add b
+
+PaddingZone_003_7ad7:
+    and d
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, d
+    ld b, b
+    ld b, [hl]
+    ld c, h
+    ld d, d
+    ld e, b
+    ld d, d
+    ld c, h
+    ld b, [hl]
+    nop
+    sbc l
+    ld [hl], h
+    nop
+    add b
+    and d
+    db $10
+    ld [de], a
+    db $10
+    ld [de], a
+    db $10
+    ld [de], a
+    db $10
+    ld [de], a
+    ld [hl+], a
+    jr z, PaddingZone_003_7b27
+
+    inc [hl]
+    ld a, [hl-]
+    inc [hl]
+    ld l, $28
+    nop
+    rlca
+    ld a, e
+    nop
+    nop
+    ld hl, $347b
+    ld a, e
+    sbc l
+    ld h, b
+    nop
+    add c
+    and e
+    inc a
+    ld c, d
+    ld d, h
+    ld c, d
+    ld b, b
+    ld c, d
+    inc a
+    ld a, [hl-]
+    ld a, [hl+]
+    sbc l
+    jr nc, PaddingZone_003_7b18
+
+PaddingZone_003_7b18:
+    add c
+    and c
+    ld a, [hl-]
+    inc a
+    ld a, [hl-]
+    ld [hl], $a4
+    ld a, [hl-]
+    nop
+    sbc l
+    add b
+    nop
+    add c
+    and e
+    ld b, h
+
+PaddingZone_003_7b27:
+    ld c, d
+    ld e, h
+    and h
+    ld e, b
+    and e
+    ld d, d
+    and h
+    ld c, d
+    and e
+    ld c, [hl]
+    and l
+    ld c, d
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    ld hl, $54a8
+    ld d, d
+    and h
+    ld b, d
+    and e
+    inc a
+    and l
+    ld [hl-], a
+    ld d, e
+    ld a, e
+    ld [hl], c
+    ld a, e
+    ld d, e
+    ld a, e
+    ld a, d
+    ld a, e
+    nop
+    nop
+    add d
+    ld a, e
+    and c
+    ld a, e
+    add d
+    ld a, e
+    xor d
+    ld a, e
+    sbc l
+    ld h, [hl]
+    nop
+    add c
+    and e
+    ld e, b
+    ld h, b
+    ld h, [hl]
+    ld h, b
+    ld d, [hl]
+    ld h, b
+    ld h, [hl]
+    ld h, b
+    ld d, h
+    ld h, b
+    ld h, [hl]
+    ld h, b
+    ld d, d
+    ld e, b
+    ld h, d
+    ld e, b
+    ld d, b
+    ld e, b
+    ld h, d
+    ld e, b
+    ld c, [hl]
+    ld e, b
+    ld h, b
+    ld e, b
+    nop
+    ld c, h
+    ld d, d
+    ld e, b
+    ld e, h
+    ld e, b
+    ld c, d
+    ld d, [hl]
+    ld c, [hl]
+    nop
+    ld d, d
+    ld e, b
+    ld e, h
+    ld d, [hl]
+    and h
+    ld h, b
+    ld b, b
+    nop
+    sbc l
+    ld h, [hl]
+    nop
+    add c
+    and h
+    ld a, b
+    and e
+    ld [hl], h
+    ld [hl], b
+    xor b
+    ld a, b
+    and d
+    ld [hl], b
+    ld [hl], h
+    and e
+    ld a, b
+    ld a, b
+    ld [hl], h
+    ld [hl], b
+    ld a, b
+    ld a, d
+    ld a, [hl]
+    add d
+    ld bc, $7070
+    ld l, b
+    and h
+    ld h, [hl]
+    ld a, b
+    nop
+    and e
+    ld l, d
+    ld [hl], b
+    ld [hl], h
+    ld a, b
+    and h
+    ld [hl], h
+    ld h, [hl]
+    nop
+    and e
+    ld a, d
+    ld l, d
+    ld l, [hl]
+    ld h, [hl]
+    and l
+    ld [hl], b
+    nop
+    cp b
+    ld a, e
+    nop
+    nop
+    jp z, $9d7b
+
+    ld d, b
+    nop
+    add b
+    and c
+    ld b, b
+    ld bc, $0140
+    ld b, b
+    ld bc, $42a3
+    and d
+    ld b, [hl]
+    and h
+    ld c, d
+    nop
+    sbc l
+    rla
+    ld [hl], b
+    and b
+    and d
+    ld a, b
+    ld a, b
+    ld a, b
+    and e
+    ld a, d
+    and d
+    ld a, [hl]
+    and c
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    add d
+    ld [hl], b
+    nop
+    xor $7b
+    nop
+    nop
+    inc bc
+    ld a, h
+    sbc l
+    ld [hl], e
+    nop
+    add b
+    and e
+    ld e, $a1
+    ld bc, $1ea3
+    and c
+    ld bc, $1ea3
+    and c
+    ld bc, $1ea3
+    and c
+    ld bc, $9d00
+    db $d3
+    nop
+    ret nz
+
+    and e
+    inc e
+    and c
+    ld bc, $1ca3
+    and c
+    ld bc, $1ca3
+    and c
+    ld bc, $1ca3
+    and c
+    ld bc, $7c4b
+    ld d, d
+    ld a, h
+    ld l, h
+    ld a, h
+    ld d, d
+    ld a, h
+    ld l, a
+    ld a, h
+    ld c, e
+    ld a, h
+    ld d, d
+    ld a, h
+    ld l, h
+    ld a, h
+    ld d, d
+    ld a, h
+    ld l, a
+    ld a, h
+    nop
+    nop
+    halt
+    ld a, h
+    ld a, l
+    ld a, h
+    sub l
+    ld a, h
+    ld a, l
+    ld a, h
+    sbc [hl]
+    ld a, h
+    halt
+    ld a, h
+    ld a, l
+    ld a, h
+    sub l
+    ld a, h
+    ld a, l
+    ld a, h
+    sbc [hl]
+    ld a, h
+    and l
+    ld a, h
+    and l
+    ld a, h
+    db $eb
+    ld a, h
+    rst $38
+    rst $38
+    ld b, l
+    ld a, h
+    sbc l
+    sub e
+
+AudioData_003_7c4d:
+    nop
+    add b
+    and e
+    ld bc, $a200
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, HeaderDestinationCode
+    ld c, d
+    ld bc, $0140
+    ld b, b
+    ld bc, $0140
+    ld b, b
+    nop
+    and l
+    ld bc, $0100
+    ld c, d
+    ld bc, $4a4a
+    ld bc, $9d00
+    jp $c000
+
+
+    and e
+    jr c, JoypadInputEntry_7c7d
+
+JoypadInputEntry_7c7d:
+    and h
+    ld b, d
+    and d
+    ld b, [hl]
+    ld c, h
+    ld c, d
+    ld b, [hl]
+    and e
+    ld d, b
+    ld d, b
+    and d
+    ld d, b
+    ld d, h
+    ld c, d
+    ld c, h
+    and e
+    ld b, [hl]
+    ld b, [hl]
+    and d
+    ld b, [hl]
+    ld c, h
+    ld c, d
+    ld b, [hl]
+    nop
+    ld b, d
+    ld e, d
+    ld e, b
+    ld d, h
+    ld d, b
+    ld c, h
+    ld c, d
+    ld b, [hl]
+    nop
+    ld b, d
+    ld d, b
+    ld b, [hl]
+    ld c, d
+    ld b, d
+    ld bc, $9d00
+    rla
+    ld [hl], b
+    jr nz, AudioData_003_7c4d
+
+    ld bc, $42a2
+    ld d, b
+    jr c, @+$52
+
+    ld b, d
+    ld d, b
+    jr c, @+$52
+
+    ld b, d
+    ld d, b
+    jr c, PaddingZone_003_7d08
+
+    ld b, d
+    ld d, b
+    jr c, PaddingZone_003_7d0c
+
+    jr c, PaddingZone_003_7d1c
+
+    ld b, [hl]
+    ld e, [hl]
+    jr c, AudioDispatchEntry_003_7d20
+
+    ld b, [hl]
+    ld e, [hl]
+    ld b, d
+    ld e, d
+    ld e, b
+    ld d, h
+    ld d, b
+    ld c, h
+    ld c, d
+    ld b, [hl]
+    ld b, d
+    ld d, b
+    jr c, AudioDispatchEntry_003_7d20
+
+    ld b, d
+    ld d, b
+    jr c, AudioDispatchEntry_003_7d24
+
+    ld b, d
+    ld d, b
+    jr c, AudioDispatchEntry_003_7d28
+
+    ld b, d
+    ld d, b
+    jr c, PaddingZone_003_7d2c
+
+    jr c, JoypadInputEntry_7d3c
+
+    ld b, [hl]
+    ld e, [hl]
+    jr c, PaddingZone_003_7d40
+
+    ld b, [hl]
+    ld e, [hl]
+    ld b, d
+    ld d, b
+    jr c, PaddingZone_003_7d38
+
+    ld b, d
+    ld bc, $a300
+    ld bc, $06a2
+    dec bc
+    ld b, $0b
+    ld b, $0b
+    dec bc
+    dec bc
+    ld b, $0b
+    ld b, $0b
+    ld b, $a1
+    dec bc
+    dec bc
+    and d
+    ld b, $0b
+    ld b, $0b
+    ld b, $0b
+    ld b, $0b
+    dec bc
+
+PaddingZone_003_7d08:
+    dec bc
+    dec bc
+    ld b, $0b
+
+PaddingZone_003_7d0c:
+    ld b, $0b
+    ld bc, $3400
+    ld a, l
+    rst $38
+    rst $38
+    db $10
+    ld a, l
+    jr z, PaddingZone_003_7d95
+
+    rst $38
+    rst $38
+    ld d, $7d
+
+PaddingZone_003_7d1c:
+    ld b, b
+    ld a, l
+    rst $38
+    rst $38
+
+AudioDispatchEntry_003_7d20:
+    inc e
+    ld a, l
+    ld d, l
+    ld a, l
+
+AudioDispatchEntry_003_7d24:
+    rst $38
+    rst $38
+    ld [hl+], a
+    ld a, l
+
+AudioDispatchEntry_003_7d28:
+    sbc l
+    ld d, h
+    nop
+    add b
+
+PaddingZone_003_7d2c:
+    and d
+    ld d, b
+    ld c, [hl]
+    ld c, h
+    ld c, d
+    ld c, b
+    ld b, [hl]
+    nop
+    sbc l
+    inc [hl]
+    nop
+    add b
+
+PaddingZone_003_7d38:
+    and d
+
+PaddingZone_003_7d39:
+    ld a, [hl-]
+    jr c, PaddingZone_003_7d72
+
+JoypadInputEntry_7d3c:
+    inc [hl]
+    ld [hl-], a
+    jr nc, PaddingZone_003_7d40
+
+PaddingZone_003_7d40:
+    sbc l
+    rla
+    ld [hl], b
+    jr nz, @-$56
+
+    ld b, h
+    and a
+    ld b, h
+    ld c, d
+    xor b
+    ld d, b
+    ld d, b
+    xor b
+    ld b, h
+    and a
+    ld b, h
+    ld c, d
+    xor b
+    ld d, b
+    ld d, b
+    nop
+    and d
+    ld b, $06
+    ld b, $a7
+    dec bc
+    and d
+    ld b, $06
+    ld b, $a7
+    dec bc
+    nop
+    ld a, l
+    ld a, l
+    nop
+    nop
+    ld l, d
+    ld a, l
+    sub d
+    ld a, l
+    sbc l
+    pop de
+    nop
+    add b
+    and a
+    ld [hl-], a
+    ld [hl], $3a
+
+PaddingZone_003_7d72:
+    inc a
+    ld b, b
+    ld b, h
+    ld c, b
+    ld c, d
+    ld c, [hl]
+    ld d, d
+    ld d, h
+    ld e, b
+    ld e, h
+    nop
+    sbc l
+    ld b, c
+    nop
+    add b
+    xor d
+    ld bc, $32a7
+    ld [hl], $3a
+    inc a
+    ld b, b
+    ld b, h
+    ld c, b
+    ld c, d
+    ld c, [hl]
+    ld d, d
+    ld d, h
+    ld e, b
+    ld e, h
+    nop
+    sbc l
+    scf
+    ld [hl], b
+
+PaddingZone_003_7d95:
+    jr nz, PaddingZone_003_7d39
+
+    ld c, d
+    ld bc, $4e52
+    ld bc, $5254
+    ld bc, $5458
+    ld bc, $585c
+    ld bc, $5c60
+    ld bc, $6062
+    ld bc, $6266
+    ld bc, $666a
+    ld bc, $6a6c
+    ld bc, $6c70
+    ld bc, $7074
+    ld bc, $7478
+    ld bc, $787a
+    ld bc, $d37e
+    ld a, l
+    rst $38
+    rst $38
+    pop bc
+    ld a, l
+    ld sp, hl
+    ld a, l
+    rst $38
+    rst $38
+    rst $00
+    ld a, l
+    ccf
+    ld a, [hl]
+    rst $38
+    rst $38
+    call $9d7d
+    sub c
+    nop
+    add b
+    and d
+    ld b, b
+    ld c, [hl]
+    ld b, b
+    ld c, [hl]
+    ld b, b
+    ld c, [hl]
+    ld b, b
+    ld c, [hl]
+    ld b, h
+    ld d, d
+    ld b, h
+    ld c, [hl]
+    ld b, h
+    ld d, d
+    ld b, h
+    ld c, [hl]
+    ld c, d
+    ld e, b
+    ld c, d
+    ld e, b
+    ld c, d
+    ld e, b
+    ld c, d
+    ld e, b
+    ld c, [hl]
+    ld c, [hl]
+    ld c, d
+    ld c, d
+    ld c, b
+    ld c, b
+    ld b, h
+    ld b, h
+    nop
+    sbc l
+    sub c
+    nop
+    add b
+    and c
+    ld h, b
+
+AudioStateUpdate:
+    ld h, [hl]
+    ld [hl], b
+    ld h, b
+    ld h, [hl]
+    ld [hl], b
+    ld h, b
+    ld h, [hl]
+    ld [hl], b
+    ld h, b
+    ld h, [hl]
+    ld [hl], b
+    ld h, b
+    ld h, [hl]
+    ld [hl], b
+    ld bc, $645c
+    ld [hl], b
+    ld e, h
+    ld h, h
+    ld [hl], b
+    ld e, h
+    ld h, h
+    ld [hl], b
+    ld e, h
+    ld h, h
+    ld [hl], b
+    ld e, h
+    ld h, h
+    ld [hl], b
+    ld bc, $6a62
+    ld [hl], b
+    ld h, d
+    ld l, d
+    ld [hl], b
+    ld h, d
+    ld l, d
+    ld [hl], b
+    ld h, d
+    ld l, d
+    ld [hl], b
+    ld h, d
+    ld l, d
+    ld [hl], b
+    ld bc, $5c6e
+    ld l, [hl]
+    ld e, h
+    ld l, d
+    ld [hl], b
+    ld l, d
+    ld e, b
+    ld h, [hl]
+    ld d, [hl]
+    ld h, [hl]
+    ld d, [hl]
+    ld h, d
+    ld l, d
+    ld h, d
+    ld d, d
+    nop
+    and d
+    ld b, $a1
+    ld b, $06
+    and d
+    ld b, $a1
+    ld b, $06
+    and d
+    ld b, $a1
+    ld b, $06
+    nop
+    nop
+    ld [hl], a
+    ld [hl], b
+    ld e, d
+    ld a, [hl]
+    ld l, b
+    ld a, [hl]
+    halt
+    ld a, [hl]
+    sub b
+    ld a, [hl]
+    sbc [hl]
+    ld a, [hl]
+    xor d
+    ld a, [hl]
+    call z, $cc7e
+    ld a, [hl]
+    ld sp, hl
+    ld a, [hl]
+    rst $38
+    rst $38
+    ld e, [hl]
+    ld a, [hl]
+    and l
+    ld a, [hl]
+    xor d
+    ld a, [hl]
+    call z, $cc7e
+    ld a, [hl]
+    ld sp, hl
+    ld a, [hl]
+    rst $38
+    rst $38
+    ld l, h
+    ld a, [hl]
+    inc h
+    ld a, a
+    add hl, hl
+    ld a, a
+    add hl, hl
+    ld a, a
+    dec sp
+    ld a, a
+    dec sp
+    ld a, a
+    ld c, h
+    ld a, a
+    ld c, h
+    ld a, a
+    ld l, [hl]
+    ld a, a
+    adc b
+    ld a, a
+    ld l, [hl]
+    ld a, a
+    sub c
+    ld a, a
+    rst $38
+    rst $38
+    add b
+    ld a, [hl]
+    or d
+    ld a, a
+    or d
+    ld a, a
+    or d
+    ld a, a
+    or d
+    ld a, a
+    db $db
+    ld a, a
+    rst $38
+    rst $38
+    sbc b
+    ld a, [hl]
+    sbc l
+    jr nc, PaddingZone_003_7ea1
+
+PaddingZone_003_7ea1:
+    add c
+    xor d
+    ld bc, $9d00
+    sub b
+    nop
+    add c
+    nop
+    and e
+    ld c, h
+    ld a, [hl-]
+    ld b, h
+    ld c, h
+    ld d, b
+    ld a, $48
+    ld d, b
+    ld d, d
+    ld b, b
+    ld c, d
+    ld d, d
+    ld d, [hl]
+    ld b, h
+    ld c, [hl]
+    ld d, [hl]
+    ld e, d
+    ld c, b
+    ld d, d
+    ld e, d
+    ld e, h
+    ld c, d
+    ld d, d
+    ld e, h
+    ld e, d
+    ld c, b
+    ld d, d
+    ld e, d
+    ld e, h
+    ld c, d
+    ld d, d
+    ld e, h
+    nop
+    and d
+    ld e, d
+    ld bc, $5201
+    ld bc, $4801
+    ld bc, $5601
+    ld bc, $015c
+    ld e, d
+    ld d, [hl]
+    and l
+    ld d, d
+    ld bc, $01a2
+    and d
+    ld e, d
+    ld bc, $5201
+    ld bc, $4801
+    ld bc, $52a4
+    and d
+    ld bc, $5250
+    and h
+    ld d, [hl]
+    and d
+    ld bc, $4ca4
+    ld d, b
+    ld bc, $a800
+    ld d, d
+    and d
+    ld d, b
+    ld d, d
+    and h
+    ld d, [hl]
+    ld c, b
+    xor b
+    ld e, d
+    and d
+    ld d, [hl]
+    ld e, d
+    and e
+    ld e, h
+    ld c, h
+    ld d, d
+    ld d, b
+    xor b
+    ld d, d
+    and d
+    ld d, b
+    ld d, d
+    and h
+    ld d, [hl]
+    ld c, b
+    xor b
+    ld e, d
+    and d
+    ld d, [hl]
+    ld e, d
+    and e
+    ld h, b
+    ld c, d
+    ld d, d
+    ld e, b
+    and h
+    ld e, h
+    ld h, d
+    and l
+    ld e, d
+    ld d, [hl]
+    nop
+    sbc l
+    scf
+    ld [hl], b
+    and b
+    nop
+    and d
+    ld b, h
+    ld b, h
+    ld e, h
+    ld e, h
+    ld b, h
+    ld b, h
+    ld e, h
+    ld e, h
+    ld b, h
+    ld b, h
+    ld e, h
+    ld e, h
+    ld b, h
+    ld b, h
+    ld e, h
+    ld e, h
+    nop
+    ld a, [hl-]
+    ld a, [hl-]
+    ld d, d
+    ld d, d
+    ld a, [hl-]
+    ld a, [hl-]
+    ld d, d
+    ld d, d
+    ld a, [hl-]
+    ld a, [hl-]
+    ld d, d
+    ld d, d
+    ld a, [hl-]
+    ld a, [hl-]
+    ld d, d
+    ld d, d
+    nop
+    and e
+    ld d, d
+    ld d, d
+    ld d, d
+    ld d, d
+    ld d, b
+    ld d, b
+    ld d, b
+    ld d, b
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, [hl]
+    ld c, h
+    ld c, h
+    ld c, h
+    ld c, h
+    ld b, h
+    ld b, h
+    ld b, h
+    ld b, h
+    ld b, d
+    ld b, d
+    ld b, d
+    ld b, d
+    ld a, $3e
+    ld a, $3e
+    ld c, b
+    ld c, b
+    ld c, b
+    ld c, b
+    nop
+    and d
+    inc l
+    inc l
+    ld b, h
+    ld b, h
+    inc l
+    inc l
+    ld b, h
+    ld b, h
+    inc l
+    inc l
+    ld b, h
+    ld b, h
+    inc l
+    inc l
+    ld b, h
+    ld b, h
+    ld a, [hl+]
+    ld a, [hl+]
+    ld b, d
+    ld b, d
+    ld a, [hl+]
+    ld a, [hl+]
+    ld b, d
+    ld b, d
+    nop
+    ld h, $26
+    ld a, $3e
+    jr nc, @+$32
+
+    ld c, b
+    ld c, b
+    nop
+    jr z, AudioDispatchData_003_00
+
+    ld b, b
+    ld b, b
+    jr z, AudioDispatchData_003_01
+
+    ld b, b
+    ld b, b
+    jr z, @+$2a
+
+    ld b, b
+    ld b, b
+    jr z, AudioDispatchData_003_02
+
+    ld b, b
+    ld b, b
+    jr nc, AudioDispatchData_003_03
+
+    ld a, [hl-]
+    ld b, d
+    jr nc, @+$32
+
+    ld a, [hl-]
+    ld b, d
+    jr nc, PaddingZone_003_7fdb
+
+    jr c, PaddingZone_003_7feb
+
+    jr nc, PaddingZone_003_7fdf
+
+    jr c, PaddingZone_003_7fef
+
+    nop
+    and c
+    ld b, $06
+    and d
+    dec bc
+    and c
+    ld b, $06
+    and d
+
+AudioDispatchData_003_00:
+    dec bc
+    and c
+    ld b, $06
+
+AudioDispatchData_003_01:
+    and d
+    dec bc
+    and c
+    ld b, $06
+    and d
+    dec bc
+    and c
+
+AudioDispatchData_003_02:
+    ld b, $06
+    and d
+    dec bc
+    and c
+    ld b, $06
+    and d
+    dec bc
+    and c
+    ld b, $06
+
+AudioDispatchData_003_03:
+    and d
+    dec bc
+    and c
+    ld b, $06
+    and d
+    dec bc
+    nop
+
+PaddingZone_003_7fdb:
+    and d
+    ld b, $06
+    db $10
+
+PaddingZone_003_7fdf:
+    ld b, $06
+    ld b, $10
+    ld b, $06
+    ld b, $10
+    ld b, $06
+    ld b, $10
+
+PaddingZone_003_7feb:
+    ld b, $00
+    rst $38
+    rst $38
+
+PaddingZone_003_7fef:
+    rst $38
+
+; Routine $7ff0 - Point d'entrée audio (trampoline vers ProcessAudioSnapshot)
+AudioEntryPoint::
+    jp ProcessAudioSnapshot
+
+
+    jp ResetAllAudioChannels
+
+
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
+    rst $38
diff --git a/tmp/constants.inc.txt b/tmp/constants.inc.txt
new file mode 100644
index 0000000..c403738
--- /dev/null
+++ b/tmp/constants.inc.txt
@@ -0,0 +1,1592 @@
+;* ============================================================================
+;* CONSTANTS.INC - Constantes spécifiques au projet
+;* ============================================================================
+;*
+;* Ce fichier contient les constantes propres au jeu, en complément de
+;* hardware.inc (constantes hardware standard Game Boy).
+;*
+;* CONVENTIONS DE NOMMAGE :
+;*   hXxxYyy     - Variable HRAM ($FF80-$FFFE)
+;*   wXxxYyy     - Variable WRAM ($C000-$DFFF)
+;*   _XXXX_END   - Adresse de fin de zone mémoire
+;*   XXX_YYY     - Constante de configuration
+;*   INIT_XXX    - Valeur d'initialisation
+;*   ROM_XXX     - Adresse en ROM
+;*
+;* ============================================================================
+
+; === Adresses de fin des zones mémoire ===
+; (Les adresses de début sont dans hardware.inc : _VRAM, _RAM, _OAMRAM, _HRAM)
+
+DEF _ROMX           EQU $4000   ; Début ROM switchable ($4000-$7FFF, 16KB)
+DEF _VRAM_END       EQU $9FFF   ; Fin VRAM ($8000-$9FFF, 8KB)
+DEF _WRAM_END       EQU $DFFF   ; Fin WRAM ($C000-$DFFF, 16KB)
+DEF _OAM_END        EQU $FEFF   ; Fin OAM + zone interdite ($FE00-$FEFF)
+DEF _HRAM_END       EQU $FFFE   ; Fin HRAM ($FF80-$FFFE, 127 octets)
+DEF hPendingCoin    EQU _HRAM_END ; Alias: flag pièce en attente de collection
+DEF _STACK_TOP      EQU $CFFF   ; Haut de pile (descend vers $C000)
+
+; === Tailles pour boucles de clear ===
+; Note: B=0 signifie 256 en décrémentation sur Game Boy
+
+DEF WRAM_BLOCKS     EQU $40     ; 64 blocs de 256 octets = 16KB
+DEF VRAM_BLOCKS     EQU $20     ; 32 blocs de 256 octets = 8KB
+DEF HRAM_SIZE       EQU $80     ; 128 octets ($FF80-$FFFE + 1)
+DEF DMA_ROUTINE_SIZE EQU $0C    ; 12 octets (routine DMA en HRAM)
+DEF DMA_SOURCE_HIGH  EQU $C0    ; Octet haut adresse source OAM ($C000)
+
+; === LCD ===
+
+DEF LY_VBLANK_SAFE  EQU $94     ; Ligne 148, sûre en plein VBlank
+                                ; (VBlank = lignes 144-153)
+
+; === Configuration interruptions ===
+; (IEF_VBLANK et IEF_STAT sont définis dans hardware.inc)
+
+DEF IE_VBLANK_STAT  EQU IEF_VBLANK | IEF_STAT  ; $03 - VBlank + LCD STAT
+DEF IE_VBLANK_STAT_TIMER EQU IEF_VBLANK | IEF_STAT | IEF_TIMER  ; $07 - VBlank + STAT + Timer
+
+; === Configuration Timer (TAC) ===
+; (TACF_* sont définis dans hardware.inc)
+DEF TAC_ENABLED_16KHZ EQU TACF_START | TACF_16KHZ  ; $07 - Timer actif à 16384 Hz
+
+; === Palettes ===
+
+DEF PALETTE_STANDARD    EQU $E4 ; %11100100 - noir, gris foncé, gris clair, blanc
+DEF PALETTE_SPRITE_ALT  EQU $54 ; %01010100 - palette alternative sprites
+
+; === Audio ===
+; (AUDENA_ON est défini dans hardware.inc)
+
+DEF AUDVOL_MAX      EQU $77     ; Volume max gauche ($7) et droite ($7)
+DEF AUDTERM_ALL     EQU $FF     ; Tous canaux (1-4) sur sorties L et R
+DEF AUDIO_BUFFER_FILL_VALUE EQU $b4 ; Valeur remplissage buffer audio
+DEF AUDIO_PARAM2_DEFAULT    EQU $70 ; Paramètre audio 2 par défaut
+
+; === ROM Banks ===
+
+DEF BANK_0          EQU $00     ; Bank 0 = bank fixe (vecteurs, init, main)
+DEF BANK_1          EQU $01     ; Bank 1 = données monde 2/4
+DEF BANK_2          EQU $02     ; Bank 2 = données monde 1
+DEF BANK_3          EQU $03     ; Bank 3 = données monde 3
+DEF BANK_AUDIO      EQU $03     ; Bank 3 = routines audio
+DEF BANK_DEMO       EQU $02     ; Bank 2 = démo automatique (Attract Mode)
+
+; === GameLoop - Constantes ===
+
+DEF SPECIAL_STATE_TRIGGER   EQU $03     ; wSpecialState = 3 déclenche reset
+DEF SPECIAL_STATE_RESET     EQU $FF     ; Valeur reset de wSpecialState
+DEF ROM_BANK3_MAIN_LOGIC    EQU $47F2   ; Routine principale en bank 3
+DEF GAMELOOP_TIMER_COUNT    EQU $02     ; Nombre de timers à décrémenter
+DEF ATTRACT_FRAME_MASK      EQU $0F     ; Masque décrémentation (16 frames)
+
+; === Variables HRAM ($FF80-$FFFE) ===
+; Convention: hXxxYyy (h minuscule + CamelCase)
+
+; --- Joypad ---
+DEF hJoypadState    EQU $FF80   ; État joypad (directions + boutons)
+DEF hJoypadDelta    EQU $FF81   ; Changement joypad (XOR ancien/nouveau)
+
+; --- Flags système ---
+DEF hVBlankFlag     EQU $FF85   ; Flag VBlank (0=attente, 1=VBlank reçu)
+DEF hPauseFlag      EQU $FFB2   ; Flag pause (0=normal, 1=pause)
+
+; --- Buffer animation (7 octets copiés depuis données anim) ---
+DEF hAnimBuffer     EQU $FF86   ; Début buffer animation (7 bytes)
+DEF hAnimOffsetX    EQU $FF87   ; Offset X animation (signé)
+DEF hAnimOffsetY    EQU $FF88   ; Offset Y animation (signé)
+DEF hAnimFrameIndex EQU $FF89   ; Index frame animation courante
+DEF hAnimFlags2     EQU $FF8A   ; Flags attributs supplémentaires
+DEF hAnimFlipFlags  EQU $FF8B   ; Flags flip (bit 5=Y, bit 6=X)
+DEF hAnimBaseAttr   EQU $FF8C   ; Attributs de base sprite
+
+; --- Paramètres de fonction ---
+DEF hParam1         EQU $FF8D   ; Paramètre de fonction 1
+DEF hParam2         EQU $FF8E   ; Paramètre de fonction 2
+DEF hParam3         EQU $FF8F   ; Paramètre de fonction 3
+
+; --- Animation sprites ---
+DEF hAnimObjX       EQU $FF90   ; Coordonnée X objet animation
+DEF hAnimObjY       EQU $FF91   ; Coordonnée Y objet animation
+DEF hAnimCalcX      EQU $FF92   ; Résultat calcul position X
+DEF hAnimCalcY      EQU $FF93   ; Résultat calcul position Y
+DEF hAnimAttr       EQU $FF94   ; Attributs sprite animation
+DEF hAnimHiddenFlag EQU $FF95   ; Flag sprite caché (!=0 → Y=$FF)
+DEF hAnimStructHigh EQU $FF96   ; Pointeur structure anim (haut)
+DEF hAnimStructLow  EQU $FF97   ; Pointeur structure anim (bas)
+
+; --- Variables animation (suite) ---
+DEF hLevelIndex     EQU $FF9A   ; Index/type de niveau (copie de wLevelType)
+DEF hAnimObjSubState EQU $FF9B  ; Sous-état objet animation
+DEF hAnimObjCount   EQU $FF9C   ; Compteur objets à traiter
+DEF hAnimScaleCounter EQU $FF9D ; Compteur scaling/zoom
+DEF hAnimStructBank EQU $FF9E   ; Bank structure animation
+DEF hUpdateLockFlag EQU $FF9F   ; Flag bloquant mise à jour graphique
+
+; --- Variables temporaires ---
+DEF hTemp0          EQU $FFA0   ; Variable temporaire 0
+DEF hTemp1          EQU $FFA1   ; Variable temporaire 1
+DEF hTemp2          EQU $FFA2   ; Variable temporaire 2
+DEF hTemp3          EQU $FFA3   ; Variable temporaire 3
+
+; --- Scrolling et affichage ---
+DEF hShadowSCX      EQU $FFA4   ; Shadow register SCX (effets raster)
+DEF hScrollColumn   EQU $FFE9   ; Colonne courante scrolling tilemap
+DEF hScrollPhase    EQU $FFEA   ; Phase mise à jour tilemap (1=active, 2=done)
+DEF SCROLL_PHASE_INACTIVE EQU $00  ; Scroll inactif
+DEF SCROLL_PHASE_ACTIVE   EQU $01  ; Scroll en cours de mise à jour
+DEF SCROLL_PHASE_DONE     EQU $02  ; Scroll terminé
+DEF SCROLL_PHASE_RESET    EQU $03  ; Reset scroll phase (ResetScrollPhase)
+
+; --- Timers ---
+DEF hTimer1         EQU $FFA6   ; Timer principal (décrémenté par GameLoop)
+DEF hTimer2         EQU $FFA7   ; Timer secondaire
+DEF hTimerAux       EQU $FF99   ; Timer auxiliaire (jeu)
+DEF hObjParamBuf0   EQU $FFA8   ; Buffer paramètres objet 0
+DEF hObjParamBuf1   EQU $FFA9   ; Buffer paramètres objet 1
+DEF hObjParamBuf2   EQU $FFAA   ; Buffer paramètres objet 2
+DEF hObjParamBuf3   EQU $FFAB   ; Buffer paramètres objet 3
+DEF hFrameCounter   EQU $FFAC   ; Compteur de frames
+
+; --- Sprite temporaire (OAM) ---
+DEF hSpriteY        EQU $FFAD   ; Coordonnée Y sprite temporaire
+DEF hSpriteX        EQU $FFAE   ; Coordonnée X sprite temporaire
+DEF hSpriteTile     EQU $FFAF   ; Tile sprite temporaire
+DEF hSpriteAttr     EQU $FFB0   ; Attributs sprite temporaire
+
+; --- État du jeu ---
+DEF hScoreNeedsUpdate EQU $FFB1 ; Flag mise à jour affichage score
+DEF hGameState      EQU $FFB3   ; État du jeu ($0E initial)
+DEF hAnimTileIndex  EQU $FFB4   ; Index animation tiles ($11 initial)
+DEF hSubState       EQU $FFB5   ; Sous-état de jeu
+
+; --- DMA ---
+DEF hDmaRoutine     EQU $FFB6   ; Début routine DMA copiée en HRAM
+
+; --- Audio (système son) ---
+DEF hSoundId        EQU $FFC0   ; ID du son à jouer
+DEF hSoundFlag      EQU $FFC1   ; Flag son
+DEF hSoundParam1    EQU $FFC2   ; Paramètre son 1
+DEF hSoundParam2    EQU $FFC3   ; Paramètre son 2
+DEF hSoundCh1       EQU $FFC4   ; Canal son 1
+DEF hSoundCh2       EQU $FFC5   ; Canal son 2
+DEF hSoundCh3       EQU $FFC6   ; Canal son 3
+DEF hSoundCh4       EQU $FFC7   ; Canal son 4
+DEF hSoundVar1      EQU $FFC8   ; Variable son 1
+DEF hSoundVar2      EQU $FFC9   ; Variable son 2
+DEF hSoundVar3      EQU $FFCA   ; Variable son 3
+DEF hSoundVar4      EQU $FFCB   ; Variable son 4
+DEF hSoundVar5      EQU $FFCC   ; Variable son 5
+
+; --- Audio étendu (enveloppes et état) ---
+DEF hAudioControl   EQU $FFD0   ; Contrôle audio principal
+DEF hAudioStatus    EQU $FFD1   ; Status audio
+DEF hAudioCh1Param  EQU $FFD2   ; Paramètre canal audio 1
+DEF hAudioCh2Param  EQU $FFD3   ; Paramètre canal audio 2
+DEF hAudioEnvPos    EQU $FFD5   ; Position enveloppe audio
+DEF hAudioEnvDiv    EQU $FFD6   ; Diviseur enveloppe
+DEF hAudioEnvRate   EQU $FFD7   ; Taux enveloppe
+DEF hAudioEnvCounter EQU $FFD8  ; Compteur enveloppe
+DEF hAudioEnvParam1 EQU $FFD9   ; Paramètre enveloppe 1
+DEF hAudioEnvParam2 EQU $FFDA   ; Paramètre enveloppe 2
+DEF hAudioMixerSnapshot EQU $FFDE ; Sauvegarde NR51 (pause)
+DEF hSavedAudio     EQU $FFDF   ; État audio sauvegardé (pause)
+
+; --- Pointeurs et copie ---
+DEF hVramPtrLow     EQU $FFE0   ; Pointeur VRAM (octet bas)
+DEF hSavedBank      EQU $FFE1   ; Bank sauvegardée (temporaire)
+DEF hCopyDstLow     EQU $FFE2   ; Destination copie (bas)
+DEF hCopyDstHigh    EQU $FFE3   ; Destination copie (haut)
+
+; --- Tilemap et rendu ---
+DEF hRenderContext  EQU $FFE4   ; Contexte de rendu (init à 0)
+DEF hTilemapScrollX EQU $FFE5   ; Offset X tilemap
+DEF hTilemapScrollY EQU $FFE6   ; Offset Y tilemap
+DEF hTilemapOffsetX EQU $FFE7   ; Décalage X tilemap
+DEF hTilemapOffsetY EQU $FFE8   ; Décalage Y tilemap
+DEF hPtrLow         EQU $FFEB   ; Pointeur générique (bas)
+DEF hPtrHigh        EQU $FFEC   ; Pointeur générique (haut)
+DEF hPtrBank        EQU $FFED   ; Bank du pointeur
+DEF hBlockHitType  EQU $FFEE   ; Type collision bloc (0=rien, 1/2/4/$c0=actions)
+
+; --- Rendu tilemap (état machine) ---
+DEF hCurrentTile    EQU $FFF0   ; Tile courant en rendu
+DEF hRenderX        EQU $FFF1   ; Position X rendu
+DEF hRenderY        EQU $FFF2   ; Position Y rendu
+DEF hRenderAttr     EQU $FFF3   ; Attributs rendu
+DEF hRenderCounter  EQU $FFF4   ; Compteur rendu
+DEF hRenderMode     EQU $FFF5   ; Mode rendu
+DEF hDestY          EQU $FFF6   ; Position Y destination (pipe/transition)
+DEF hDestX          EQU $FFF7   ; Position X destination (pipe/transition)
+
+; --- VBlank et OAM ---
+DEF hVBlankSelector EQU $FFF8   ; Sélecteur routine VBlank
+DEF hVBlankMode     EQU $FFF9   ; Mode VBlank
+DEF hCoinCount     EQU $FFFA   ; Compteur DMA
+DEF hOAMIndex       EQU $FFFB   ; Index entrée OAM
+DEF hOAMAddrLow     EQU $FFFC   ; Adresse OAM (bas)
+DEF hCurrentBank    EQU $FFFD   ; Bank ROM courante
+
+; === Variables WRAM ($C000-$DFFF) ===
+; Convention: wXxxYyy (w minuscule + CamelCase)
+
+; --- OAM et sprites ($C000-$C0A0) ---
+DEF wOamBuffer      EQU $C000   ; Buffer OAM pour DMA (160 octets)
+DEF wOamAttrY       EQU $C001   ; Attribut Y OAM
+DEF wOamSprite1Y    EQU $C004   ; Position Y sprite 1 (OAM slot 1)
+DEF wOamSprite2     EQU $C008   ; Début données sprite 2 (OAM slot 2)
+DEF wOamVar09       EQU $C009   ; Variable OAM +09
+DEF wOamVar0C       EQU $C00C   ; Variable OAM +0C
+DEF wOamVar1C       EQU $C01C   ; Variable OAM +1C
+DEF wOamVar2C       EQU $C02C   ; Variable OAM +2C
+DEF wOamVar2D       EQU $C02D   ; Variable OAM +2D
+DEF wOamVar2E       EQU $C02E   ; Variable OAM +2E
+DEF wSpriteTemp     EQU $C030   ; Buffer sprite temporaire
+DEF wSpriteVar31    EQU $C031   ; Variable sprite +01
+DEF wSpriteVar32    EQU $C032   ; Variable sprite +02
+DEF wSpriteVar36    EQU $C036   ; Variable sprite +06
+DEF wJumpTarget43   EQU $C043   ; Cible de saut en WRAM
+DEF wSpriteVar50    EQU $C050   ; Variable sprite +20
+DEF SPRITE_BUFFER_END_LOW EQU $a0 ; Octet bas fin buffer sprite ($C0A0)
+DEF wTilemapBuf70   EQU $C070   ; Buffer tilemap +00
+DEF wTilemapBuf71   EQU $C071   ; Buffer tilemap +01
+DEF wTilemapBuf75   EQU $C075   ; Buffer tilemap +05
+DEF wTilemapBuf79   EQU $C079   ; Buffer tilemap +09
+DEF wTilemapBuf7D   EQU $C07D   ; Buffer tilemap +0D
+DEF wTilemapBuf81   EQU $C081   ; Buffer tilemap +11
+DEF wTilemapBuf85   EQU $C085   ; Buffer tilemap +15
+
+; --- Variables de jeu ($C0A0-$C0FF) ---
+DEF wScoreBCDHigh   EQU $C0A0   ; Score BCD (octet haut)
+DEF wScoreBCDMid    EQU $C0A1   ; Score BCD (octet milieu)
+DEF wScoreBCD       EQU $C0A2   ; Score en BCD (3 octets, octet bas)
+DEF wUpdateCounter  EQU $C0A3   ; Flag mise à jour compteur
+DEF wROMBankInit    EQU $C0A4   ; Bank ROM init ($03 initial)
+DEF wGameConfigA5   EQU $C0A5   ; Configuration jeu
+DEF wGameConfigA6   EQU $C0A6   ; Configuration jeu
+DEF wAnimTileIdx    EQU $C0A8   ; Index tile animation ($11 initial)
+DEF wGameVarA9      EQU $C0A9   ; Variable jeu A9
+DEF wGameVarAA      EQU $C0AA   ; Variable jeu AA
+DEF wPlayerVarAB    EQU $C0AB   ; Variable joueur
+DEF wGameVarAC      EQU $C0AC   ; Variable jeu AC
+DEF wPlayerVarAD    EQU $C0AD   ; Variable joueur
+DEF wGameVarAE      EQU $C0AE   ; Variable jeu AE
+DEF wScrollBuffer       EQU $C0B0   ; Buffer colonne tilemap (16 octets)
+DEF SCROLL_BUFFER_SIZE  EQU $10     ; Taille buffer scroll (16 octets)
+DEF wScorePrevious  EQU $C0C2   ; Score précédent (comparaison)
+DEF wLevelConfig    EQU $C0CE   ; Configuration niveau
+DEF wCollisionFlag  EQU $C0D2   ; Flag collision
+DEF wPlayerInvuln   EQU $C0D3   ; Flag invulnérabilité joueur
+DEF wAttractModeTimer   EQU $C0D7   ; Timer pour l'Attract Mode (démo auto)
+DEF wLevelVarD8     EQU $C0D8   ; Variable niveau
+DEF wLevelVarD9     EQU $C0D9   ; Variable niveau D9
+DEF wLevelVarDA     EQU $C0DA   ; Variable niveau
+DEF wLevelVarDB     EQU $C0DB   ; Variable niveau DB
+DEF wCurrentROMBank EQU $C0DC   ; Bank ROM courante ($02 initial)
+DEF wLevelVarDD     EQU $C0DD   ; Variable niveau DD
+DEF wAudioSaveDE    EQU $C0DE   ; Sauvegarde audio
+DEF wLevelInitFlag  EQU $C0DF   ; Flag init niveau
+DEF wLevelType      EQU $C0E1   ; Type de niveau (init à 0)
+DEF wCoinUpdateDone EQU $C0E2   ; Flag: bloque score update après coin update
+DEF wGameVarFE      EQU $C0FE   ; Variable jeu FE
+DEF wGameVarFF      EQU $C0FF   ; Variable jeu FF
+
+; --- Structure joueur ($C200-$C217) ---
+DEF wPlayerData     EQU $C200   ; Données joueur (structure)
+DEF wPlayerY        EQU $C200   ; Position Y joueur
+DEF wPlayerX        EQU $C201   ; Position X joueur
+DEF wPlayerState    EQU $C202   ; État joueur
+DEF wPlayerDir      EQU $C203   ; Direction joueur
+DEF wPlayerFlag     EQU $C204   ; Flag joueur actif
+DEF wPlayerUnk05    EQU $C205   ; Variable joueur
+DEF wPlayerUnk06    EQU $C206   ; Variable joueur 06
+DEF wPlayerUnk07    EQU $C207   ; Variable joueur
+DEF wPlayerUnk08    EQU $C208   ; Variable joueur 08
+DEF wPlayerUnk09    EQU $C209   ; Variable joueur 09
+DEF wPlayerUnk0A    EQU $C20A   ; Variable joueur 0A
+DEF wPlayerUnk0B    EQU $C20B   ; Variable joueur
+DEF wPlayerUnk0C    EQU $C20C   ; Variable joueur
+DEF wPlayerUnk0D    EQU $C20D   ; Variable joueur 0D
+DEF wPlayerUnk0E    EQU $C20E   ; Variable joueur
+DEF wPlayerUnk0F    EQU $C20F   ; Variable joueur 0F
+DEF wPlayerUnk10    EQU $C210   ; Variable joueur
+DEF wPlayerUnk11    EQU $C211   ; Variable joueur 11
+DEF wPlayerUnk12    EQU $C212   ; Variable joueur 12
+DEF wPlayerUnk13    EQU $C213   ; Variable joueur
+
+; --- Stack WRAM ($C149) ---
+DEF wStackWRAM      EQU $C149   ; Stack pointer en WRAM
+
+; --- Slots objets ($C208-$C25F) ---
+DEF OBJECT_SLOT_SIZE EQU $10    ; Taille d'un slot objet (16 octets)
+DEF OBJECT_SLOT_COUNT EQU 5     ; Nombre de slots objets
+DEF wObject1        EQU $C208   ; Slot objet 1
+DEF wObject2        EQU $C218   ; Slot objet 2
+DEF wObject2Unk08   EQU $C220   ; Variable objet 2 (offset +$08)
+DEF wObject2State   EQU $C222   ; État objet 2 (offset +$0A)
+DEF wObject3        EQU $C228   ; Slot objet 3
+DEF wObject3Unk08   EQU $C230   ; Variable objet 3 (offset +$08)
+DEF wObject4        EQU $C238   ; Slot objet 4
+DEF wObject4Unk08   EQU $C240   ; Variable objet 4 (offset +$08)
+DEF wObject4Unk09   EQU $C241   ; Variable objet 4 (offset +$09)
+DEF wObject4Unk0A   EQU $C242   ; Variable objet 4 (offset +$0A)
+DEF wObject5        EQU $C248   ; Slot objet 5
+
+; --- Buffer enregistrement démo ($C300) ---
+DEF wDemoRecordBuffer EQU $C300   ; Buffer enregistrement inputs démo
+
+; --- Buffer animation ---
+DEF wAnimBuffer     EQU $C600   ; Buffer animation
+
+; --- Buffer tilemap ($C800-$CA3F) ---
+DEF wTilemapBuffer      EQU $C800   ; Début buffer tilemap
+DEF wTilemapBufferEnd   EQU $CA3F   ; Fin buffer tilemap (576 octets)
+DEF TILEMAP_BUFFER_SIZE EQU $0240   ; Taille buffer tilemap (576 octets)
+
+; === Variables extended WRAM ($D000-$DFFF) ===
+
+; --- Zone données ($D000-$D100) ---
+DEF wAudioData      EQU $D000   ; Données audio
+DEF wAudioQueueType EQU $D002   ; Type de son en queue
+DEF wAudioQueueId   EQU $D003   ; ID son en queue
+DEF wAudioCondition EQU $D007   ; Condition audio
+DEF wAudioState0    EQU $D010   ; État audio 0
+DEF wAudioState1    EQU $D011   ; État audio 1
+DEF wAudioState2    EQU $D013   ; État audio 2
+DEF wAnimFlag       EQU $D014   ; Flag animation active
+DEF wObjectBuffer   EQU $D100   ; Buffer objets (10 × 16 bytes)
+DEF OBJECT_BUFFER_COUNT EQU 10  ; Nombre de slots dans wObjectBuffer
+DEF OBJECT_BUFFER_END_LOW EQU $a0 ; Octet bas fin buffer ($D1A0 = $D100 + 10×16)
+DEF wObjBufferVar03 EQU $D103   ; Variable buffer objets +03
+DEF wObjBufferVar3D EQU $D13D   ; Variable buffer objets +3D
+DEF wRoutineWRAM    EQU $D14C   ; Routine copiée en WRAM
+DEF wStackInit      EQU $D157   ; Stack pointer initial
+DEF wAudioBuffer    EQU $D190   ; Buffer audio
+DEF wAudioBufVar2   EQU $D192   ; Buffer audio +2
+DEF wAudioBufVar3   EQU $D193   ; Buffer audio +3
+
+; --- Zone niveau ($DA00-$DA29) ---
+DEF wLevelData      EQU $DA00   ; Type de niveau
+DEF wLevelBCD1      EQU $DA01   ; Données niveau BCD 1
+DEF wLevelBCD2      EQU $DA02   ; Données niveau BCD 2
+DEF wLevelParam03   EQU $DA03   ; Paramètre niveau 03
+DEF wLevelParam04   EQU $DA04   ; Paramètre niveau 04
+DEF wLevelParam05   EQU $DA05   ; Paramètre niveau 05
+DEF wLevelParam06   EQU $DA06   ; Paramètre niveau 06
+DEF wLevelParam07   EQU $DA07   ; Paramètre niveau 07
+DEF wLevelParam08   EQU $DA08   ; Paramètre niveau 08
+DEF wLevelParam09   EQU $DA09   ; Paramètre niveau 09
+DEF wLevelParam0A   EQU $DA0A   ; Paramètre niveau 0A
+DEF wLevelParam0B   EQU $DA0B   ; Paramètre niveau 0B
+DEF wLevelParam0C   EQU $DA0C   ; Paramètre niveau 0C
+DEF wLevelParam0D   EQU $DA0D   ; Paramètre niveau 0D
+DEF wLevelParam0E   EQU $DA0E   ; Paramètre niveau 0E
+DEF wLevelParam0F   EQU $DA0F   ; Paramètre niveau 0F
+DEF wLevelDifficulty EQU $DA14  ; Difficulté niveau
+DEF wLivesCounter   EQU $DA15   ; Compteur vies (BCD)
+DEF wLevelParam16   EQU $DA16   ; Paramètre niveau 16
+DEF wLevelBonus     EQU $DA17   ; Bonus niveau
+DEF wLevelParam18   EQU $DA18   ; Paramètre niveau 18
+DEF wLevelParam19   EQU $DA19   ; Paramètre niveau 19
+DEF wLevelParam1A   EQU $DA1A   ; Paramètre niveau 1A
+DEF wLevelParam1B   EQU $DA1B   ; Paramètre niveau 1B
+DEF wLevelParam1C   EQU $DA1C   ; Paramètre niveau 1C
+DEF wSpecialState   EQU $DA1D   ; Trigger état spécial
+DEF wLevelParam1E   EQU $DA1E   ; Paramètre niveau 1E
+DEF wLevelParam1F   EQU $DA1F   ; Paramètre niveau 1F
+DEF wLevelParam20   EQU $DA20   ; Paramètre niveau 20
+DEF wLevelParam21   EQU $DA21   ; Paramètre niveau 21
+DEF wLevelParam22   EQU $DA22   ; Paramètre niveau 22
+DEF wLevelParam23   EQU $DA23   ; Paramètre niveau 23
+DEF wLevelParam24   EQU $DA24   ; Paramètre niveau 24
+DEF wLevelParam25   EQU $DA25   ; Paramètre niveau 25
+DEF wLevelParam26   EQU $DA26   ; Paramètre niveau 26
+DEF wLevelParam27   EQU $DA27   ; Paramètre niveau 27
+DEF wLevelParam28   EQU $DA28   ; Paramètre niveau 28
+DEF wLevelParam29   EQU $DA29   ; Paramètre niveau 29
+
+; --- Zone état complexe ($DF00-$DF4F) ---
+DEF wComplexState   EQU $DF00   ; Début zone état complexe
+DEF wComplexState1E EQU $DF1E   ; État complexe 1E
+DEF wComplexState1F EQU $DF1F   ; État complexe 1F
+DEF wComplexState2E EQU $DF2E   ; État complexe 2E
+DEF wComplexState2F EQU $DF2F   ; État complexe 2F
+DEF wComplexState38 EQU $DF38   ; État complexe 38
+DEF wComplexState3E EQU $DF3E   ; État complexe 3E
+DEF wComplexState3F EQU $DF3F   ; État complexe 3F
+DEF wComplexState46 EQU $DF46   ; Fin zone état complexe
+DEF wComplexState4F EQU $DF4F   ; État complexe 4F
+
+; --- Zone état jeu ($DFE0-$DFF9) ---
+DEF wStateBuffer    EQU $DFE0   ; Buffer état jeu (début)
+DEF wStateDisplay   EQU $DFE1   ; Mode affichage état
+DEF wStateVar2      EQU $DFE2   ; Variable état 2
+DEF wStateVar3      EQU $DFE3   ; Variable état 3
+DEF wStateGraphics  EQU $DFE4   ; Flags graphiques état
+DEF wStateVar5      EQU $DFE5   ; Variable état 5
+DEF wStateVar6      EQU $DFE6   ; Variable état 6
+DEF wStateVar7      EQU $DFE7   ; Variable état 7
+DEF wStateRender    EQU $DFE8   ; Mode rendu état
+DEF wStateVar9      EQU $DFE9   ; Variable état 9
+DEF wStateVarA      EQU $DFEA   ; Variable état A
+DEF wStateVarB      EQU $DFEB   ; Variable état B
+DEF wStateVarC      EQU $DFEC   ; Variable état C
+DEF wStateVarD      EQU $DFED   ; Variable état D
+DEF wStateVarE      EQU $DFEE   ; Variable état E
+DEF wStateVarF      EQU $DFEF   ; Variable état F
+DEF wStateVar10     EQU $DFF0   ; Variable état 10
+DEF wStateVar11     EQU $DFF1   ; Variable état 11
+DEF wStateVar12     EQU $DFF2   ; Variable état 12
+DEF wStateVar13     EQU $DFF3   ; Variable état 13
+DEF wStateVar14     EQU $DFF4   ; Variable état 14
+DEF wStateVar15     EQU $DFF5   ; Variable état 15
+DEF wStateVar16     EQU $DFF6   ; Variable état 16
+DEF wStateVar17     EQU $DFF7   ; Variable état 17
+DEF wStateFinal     EQU $DFF8   ; Flag final état
+DEF wStateEnd       EQU $DFF9   ; Marqueur fin état
+
+; === Adresses ROM ===
+
+DEF ROM_DMA_ROUTINE EQU $3F7D   ; Source routine DMA en ROM (12 octets)
+DEF ROM_INIT_BANK3  EQU $7FF3   ; Routine d'initialisation en bank 3
+
+; --- Tables audio ---
+DEF ROM_AUDIO_CONFIG    EQU $336C   ; Configurations son (3 octets/son)
+DEF ROM_AUDIO_POINTERS  EQU $3495   ; Pointeurs vers données audio (2 octets/son)
+DEF ROM_AUDIO_INDEX_TABLE EQU $401a ; Table index audio en bank 1 (2 octets/entrée)
+DEF ROM_AUDIO_CHANNEL_TABLE_1 EQU $2fd9 ; Table sélection canal audio (option 1)
+DEF ROM_AUDIO_CHANNEL_TABLE_2 EQU $30ab ; Table sélection canal audio (option 2)
+
+; --- Tables tilemap (bank 3) ---
+DEF ROM_TILEMAP_POINTERS_A EQU $651C ; Table pointeurs tilemap A (bank 3)
+DEF ROM_TILEMAP_POINTERS_B EQU $6536 ; Table pointeurs tilemap B (bank 3)
+
+; --- Tables style (par niveau) ---
+DEF ROM_STYLE_LVL_0     EQU $030C   ; Niveaux 0-6
+DEF ROM_STYLE_LVL_7     EQU $0734   ; Niveaux 7-10
+DEF ROM_STYLE_LVL_11    EQU $0B5C   ; Niveaux 11-14
+DEF ROM_STYLE_LVL_15    EQU $0F84   ; Niveaux 15-18
+DEF ROM_STYLE_LVL_19    EQU $13AC   ; Niveaux 19-22
+DEF ROM_STYLE_LVL_23    EQU $17D4   ; Niveaux 23+
+
+; --- Tables animation ---
+DEF ROM_ANIM_TILES      EQU $3FAF   ; Frames animation tiles
+
+; --- Données initiales ---
+DEF ROM_TILEMAP_INIT    EQU $0783   ; Tilemap initial (9 octets)
+DEF ROM_MENU_SPRITES    EQU $0446   ; Sprites menu sélection (10 octets)
+DEF ROM_HUD_TILEMAP     EQU $3F87   ; Tilemap HUD (données compressées)
+DEF ROM_CREDITS_TEXT    EQU $154E   ; Texte des crédits
+
+; --- Données graphiques (tiles/tilemaps) ---
+DEF ROM_TILES_MAIN      EQU $791A   ; Tiles principaux ($0500 octets)
+DEF ROM_TILES_AUX       EQU $7E1A   ; Tiles auxiliaires ($0170 octets)
+DEF ROM_TILES_LEVEL_1   EQU $4862   ; Tiles niveau type 1 ($0010 octets)
+DEF ROM_TILES_LEVEL_2   EQU $4E72   ; Tiles niveau type 2 ($0010 octets)
+DEF ROM_TILES_OBJECTS   EQU $5032   ; Tiles objets ($02C0 octets)
+
+; --- Tailles de copies mémoire ---
+DEF SIZE_TILES_MAIN     EQU $0500   ; 1280 octets
+DEF SIZE_TILES_AUX      EQU $0170   ; 368 octets
+DEF SIZE_TILES_LEVEL    EQU $0010   ; 16 octets
+DEF SIZE_TILES_OBJECTS  EQU $02C0   ; 704 octets
+DEF SIZE_TILES_SPRITES  EQU $02A0   ; 672 octets
+DEF SIZE_MENU_SPRITES   EQU $0A    ; 10 octets
+DEF SIZE_GAME_TILES_A   EQU $0800   ; 2048 octets (tiles de jeu part A)
+DEF SIZE_GAME_TILES_B   EQU $1000   ; 4096 octets (tiles de jeu part B)
+DEF VRAM_WORLD_OVERFLOW EQU $7230   ; Offset overflow check ($8A00 + $7230 = $FC30, overflow à $10000)
+DEF WORLD_ANIM_OFFSET   EQU $02C1   ; Offset vers buffer animation dans données monde
+
+; --- Données graphiques (tiles de jeu) ---
+DEF ROM_GAME_TILES_A    EQU $5032   ; Tiles de jeu partie A
+DEF ROM_GAME_TILES_B    EQU $4032   ; Tiles de jeu partie B
+DEF ROM_ANIM_BUFFER     EQU $5603   ; Buffer animation (8 octets)
+
+; --- Palettes mondes ---
+DEF ROM_WORLD1_PALETTE  EQU $4402   ; Palette monde 1 (et 2)
+DEF ROM_WORLD3_PALETTE  EQU $4BC2   ; Palette monde 3
+
+; --- Données objets ---
+; ROM_OBJECT_INIT_DATA défini comme label dans bank_000.asm ($2164)
+
+; === Adresses VRAM ===
+; --- Destinations copie tiles ---
+DEF VRAM_TILES_MAIN     EQU $9300   ; Destination tiles principaux
+DEF VRAM_TILES_AUX      EQU $8800   ; Destination tiles auxiliaires
+DEF VRAM_TILES_LEVEL    EQU $8AC0   ; Destination tiles niveau
+DEF VRAM_TILES_OBJECTS  EQU $9000   ; Destination tiles objets
+DEF VRAM_TILES_SPRITES  EQU $8000   ; Destination tiles sprites
+DEF VRAM_WORLD_TILES    EQU $8A00   ; Destination tiles monde (State08_WorldProgress)
+DEF VRAM_WORLD_PALETTE  EQU $9310   ; Destination palette monde (State08_WorldProgress)
+
+; --- Tilemap BG ---
+DEF VRAM_BG_BASE        EQU $9800   ; Base tilemap BG (_SCRN0)
+DEF VRAM_HUD_MARIO      EQU $9804   ; Position "MARIO" HUD
+DEF VRAM_HUD_COINS      EQU $9822   ; Position icône pièces HUD
+DEF VRAM_HUD_WORLD      EQU $982F   ; Position "WORLD" HUD
+DEF VRAM_MENU_DEST      EQU $99C6   ; Destination sprites menu
+DEF VRAM_HIGHSCORE      EQU $9969   ; Position high score
+
+; --- HUD et score ---
+DEF VRAM_SCORE_POS1     EQU $9806   ; Score HUD position 1
+DEF VRAM_SCORE_POS2     EQU $9807   ; Score HUD position 2 (vies unités)
+DEF VRAM_HUD_LINE       EQU $9820   ; Ligne HUD
+DEF VRAM_COIN_TENS      EQU $9829   ; Compteur pièces HUD (dizaines)
+DEF VRAM_COIN_UNITS     EQU $982A   ; Compteur pièces HUD (unités)
+DEF VRAM_WORLD_NUMBER   EQU $982B   ; Numéro monde HUD (après pièces)
+DEF VRAM_LEVEL_BCD      EQU $9833   ; Affichage niveau BCD (3 chiffres)
+DEF VRAM_LIVES_DISPLAY  EQU $988B   ; Affichage compteur vies HUD
+DEF VRAM_ANIM_DEST      EQU $95D1   ; Destination tiles animation
+DEF VRAM_FADE_START     EQU $8DD0   ; Début zone VRAM pour effet fade
+DEF VRAM_FADE_SIZE      EQU $0220   ; Taille zone fade (544 octets)
+DEF VRAM_FADE_WRAP      EQU $9690   ; Adresse après wrap zone fade
+DEF VRAM_FADE_BOUND_HI  EQU $8F     ; Octet haut limite zone fade
+
+; --- VRAM Crédits ---
+DEF VRAM_CREDITS_ROW1       EQU $9a42   ; Tilemap ligne 1 crédits
+DEF VRAM_CREDITS_ROW2       EQU $9a87   ; Tilemap ligne 2 crédits
+DEF VRAM_CREDITS_LIMIT1     EQU $54     ; Limite colonne VRAM (fin ligne 1)
+DEF VRAM_CREDITS_LIMIT2     EQU $93     ; Limite colonne VRAM (fin ligne 2)
+
+; --- VRAM Écran fin (State13_DrawEndBorder) ---
+DEF VRAM_BORDER_BOTTOM_ROW  EQU $9a20   ; Ligne bas bordure écran fin
+DEF VRAM_END_TEXT_ROW1      EQU $9845   ; Ligne texte 1 écran fin (PUSH GAME)
+DEF VRAM_END_TEXT_ROW2      EQU $9887   ; Ligne texte 2 écran fin
+DEF VRAM_END_COPY_START     EQU $98d2   ; Début copie données écran fin
+DEF VRAM_END_COPY_END_LOW   EQU $52     ; Octet bas adresse fin boucle copie
+DEF VRAM_END_COPY_STRIDE    EQU $0060   ; Stride copie (3 lignes = 96 octets)
+
+; === Tiles spéciaux ===
+
+DEF TILE_EMPTY          EQU $2C   ; Tile vide/espace (fond, leading zero)
+DEF TILE_DIGIT_0        EQU $00   ; Tile chiffre "0" (index 0 dans tileset)
+
+; --- Tiles HUD ---
+DEF TILE_HUD_BORDER     EQU $3C   ; Bordure HUD (barre horizontale)
+DEF TILE_HUD_MARIO_M    EQU $94   ; Lettre "M" de MARIO
+DEF TILE_HUD_MARIO_A    EQU $95   ; Lettre "A" de MARIO (aussi première)
+DEF TILE_HUD_MARIO_R    EQU $96   ; Lettre "R" de MARIO
+DEF TILE_HUD_MARIO_I    EQU $8C   ; Lettre "I" de MARIO (aussi icône)
+DEF TILE_HUD_WORLD_W    EQU $3F   ; Lettre "W" de WORLD
+DEF TILE_HUD_WORLD_O    EQU $4C   ; Lettre "O" de WORLD
+DEF TILE_HUD_WORLD_R    EQU $4D   ; Lettre "R" de WORLD
+
+; --- Tiles écran texte/bordure ---
+DEF TILE_TEXT_CORNER    EQU $2B   ; Coin de bordure texte (angle)
+DEF TILE_TEXT_FILL      EQU $2D   ; Remplissage bordure texte (ligne)
+DEF TEXT_LINE_WIDTH     EQU $12   ; Largeur ligne texte (18 tiles)
+
+; --- Tiles bordure écran fin (State13_DrawEndBorder) ---
+DEF TILE_BORDER_TOP_LEFT     EQU $f5   ; Coin supérieur gauche bordure
+DEF TILE_BORDER_HORIZONTAL   EQU $9f   ; Bordure horizontale
+DEF TILE_BORDER_TOP_RIGHT    EQU $fc   ; Coin supérieur droit bordure
+DEF TILE_BORDER_VERTICAL     EQU $f8   ; Bordure verticale
+DEF TILE_BORDER_BOTTOM_LEFT  EQU $ff   ; Coin inférieur gauche bordure
+DEF TILE_BORDER_BOTTOM_RIGHT EQU $e9   ; Coin inférieur droit bordure
+DEF TILE_CREDITS_SPECIAL     EQU $e4   ; Tile spécial ligne crédits
+
+; --- Dimensions bordure écran fin ---
+DEF BORDER_COLUMN_HEIGHT     EQU $10   ; Hauteur colonne bordure (16 tiles)
+DEF BORDER_COLUMN_COUNT      EQU $02   ; Nombre de colonnes bordure (2)
+
+; --- Animation structures ---
+DEF ANIM_STRUCT_STRIDE  EQU $10   ; Taille structure animation (16 octets)
+
+; --- Commandes spéciales animation ---
+DEF ANIM_BUFFER_SIZE       EQU $07   ; Taille buffer animation - 1 (7 octets)
+DEF ANIM_CMD_END           EQU $FF   ; Commande fin frame/clear hidden
+DEF ANIM_CMD_FLIP_ATTR     EQU $FD   ; Commande toggle flip bit $10
+DEF ANIM_CMD_SKIP_XY       EQU $FE   ; Commande skip coordonnées X,Y
+DEF ANIM_FLAG_HIDDEN       EQU $80   ; Flag sprite caché
+DEF ANIM_ATTR_FLIP_BIT     EQU $10   ; Bit XOR pour flip horizontal
+DEF SPRITE_SIZE_8X8        EQU $08   ; Taille sprite 8x8 pixels
+
+; === Valeurs de gameplay ===
+
+DEF POINTS_PER_COIN     EQU $0100 ; Points par pièce (100 en BCD)
+DEF SCORE_BONUS_10      EQU $0010 ; Bonus 10 points (score)
+DEF SCORE_BONUS_50      EQU $0050 ; Bonus 50 points (score)
+
+; Collision et scroll
+DEF COLLISION_THRESHOLD EQU $07   ; Seuil collision pour scroll (7)
+
+; Bornes de position X joueur (vérification zone centrale)
+DEF PLAYER_X_LEFT       EQU $60   ; Position X limite gauche zone centrale (96px)
+DEF PLAYER_X_RIGHT      EQU $A0   ; Position X limite droite zone centrale (160px)
+
+; Direction joueur
+DEF PLAYER_DIR_LEFT     EQU $18   ; Direction gauche
+
+; === Valeurs d'initialisation ===
+
+DEF INIT_GAME_STATE     EQU $0E ; État jeu initial (hGameState)
+DEF GAME_STATE_TITLE    EQU $00 ; Écran titre (attente Start / timeout)
+DEF GAME_STATE_DEMO     EQU $0E ; Lancement démo automatique (Attract Mode)
+DEF GAME_STATE_WINDOW   EQU $3A ; État spécial window (animation écran)
+DEF INIT_ANIM_TILE_IDX  EQU $11 ; Valeur initiale hAnimTileIndex et wAnimTileIdx
+DEF INIT_UNKNOWN_DC     EQU $02 ; Valeur initiale wCurrentROMBank (et bank switch)
+DEF INIT_UNKNOWN_A4     EQU $03 ; Valeur initiale wROMBankInit (et bank switch)
+
+; === Marqueurs de slots ===
+
+DEF SLOT_EMPTY          EQU $FF ; Marqueur slot vide/inactif dans les tables
+
+; === Marqueurs système ===
+
+DEF UPDATE_DECREMENT    EQU $FF ; Marqueur décrémentation (wUpdateCounter)
+
+; === États de jeu (hGameState) ===
+
+; États de transition initialisation (post-reset)
+DEF GAME_STATE_RESET        EQU $01 ; Post-timer reset (après game over)
+DEF GAME_STATE_PREPARE_RENDER EQU $02 ; Préparation rendu (LCD off, clear)
+DEF GAME_STATE_SETUP_TRANSITION EQU $03 ; Setup sprites transition
+DEF GAME_STATE_ANIMATION    EQU $04 ; Animation transition en cours
+DEF GAME_STATE_SPECIAL_LEVEL EQU $05 ; Gestion niveau spécial
+DEF GAME_STATE_POST_LEVEL   EQU $06 ; Transition post-niveau
+DEF GAME_STATE_WAIT_PROCESS EQU $07 ; Attente + traitement bank 3
+
+; États gameplay
+DEF GAME_STATE_CENTER   EQU $08 ; État transition - joueur au centre
+DEF GAME_STATE_GAMEPLAY EQU $0D ; État gameplay actif (jeu en cours)
+
+; États tuyaux (pipe navigation)
+DEF GAME_STATE_PIPE_ENTER_RIGHT EQU $09 ; Entrée tuyau par la droite
+DEF GAME_STATE_PIPE_LOAD    EQU $0A ; Chargement sous-niveau (après pipe)
+DEF GAME_STATE_PIPE_DOWN    EQU $0B ; Descente dans tuyau vertical
+DEF GAME_STATE_PIPE_EXIT    EQU $0C ; Sortie tuyau vers la gauche
+
+DEF GAME_STATE_LEVEL_SELECT EQU $0F ; État sélection niveau (State0F)
+DEF GAME_STATE_LEVEL_START  EQU $11 ; État démarrage niveau (State11)
+DEF GAME_STATE_OUTER    EQU $12 ; État transition - joueur en périphérie
+
+; États écran bonus/fin
+DEF GAME_STATE_DRAW_BORDER  EQU $13 ; Dessin bordure écran fin
+DEF GAME_STATE_BONUS_SELECT EQU $14 ; Sélection bonus (post-bordure)
+DEF GAME_STATE_BONUS_COPY   EQU $15 ; Copie données tilemap bonus
+
+DEF GAME_STATE_SPECIAL  EQU $1C ; État niveau spécial
+DEF GAME_STATE_INIT27   EQU $27 ; État initialisation spéciale
+
+; États crédits/fin de jeu ($30-$38)
+DEF GAME_STATE_WALK_LEFT        EQU $30 ; Marche vers la gauche
+DEF GAME_STATE_H_SCROLL         EQU $31 ; Scroll horizontal
+DEF GAME_STATE_CREDITS_SCROLL   EQU $32 ; Scroll crédits
+DEF GAME_STATE_CREDITS_TEXT     EQU $33 ; Affichage texte crédits
+DEF GAME_STATE_CREDITS_WAIT     EQU $34 ; Attente compteur crédits
+DEF GAME_STATE_WAIT_TIMER       EQU $35 ; Attente timer
+DEF GAME_STATE_CREDITS_FINAL    EQU $36 ; Transition finale crédits
+DEF GAME_STATE_SPRITE_FINAL     EQU $37 ; Animation sprite finale
+DEF GAME_STATE_CREDITS_ANIM     EQU $38 ; Animation crédits
+
+; États game over
+DEF GAME_STATE_GAME_OVER    EQU $39 ; Écran GAME OVER
+
+; === Conversion BCD ===
+
+DEF BCD_TO_ASCII        EQU $30 ; Offset pour convertir BCD → caractère ASCII ('0')
+DEF BCD_MAX_DIGIT       EQU $99 ; Valeur max d'un octet BCD (99)
+
+; === Configuration LCD ===
+
+; LCDC standard du jeu : LCD ON + WIN 9C00 + OBJ ON + BG ON
+; $C3 = %11000011 = LCDCF_ON | LCDCF_WIN9C00 | LCDCF_OBJON | LCDCF_BGON
+DEF LCDC_GAME_STANDARD  EQU $C3
+
+; LCDC écran fin niveau : LCD ON + OBJ ON + BG ON (sans window)
+; $83 = %10000011 = LCDCF_ON | LCDCF_OBJON | LCDCF_BGON
+DEF LCDC_END_SCREEN     EQU $83
+
+; Lignes LCD pour les effets scanline
+DEF LYC_TOP_SCREEN      EQU $0F ; Ligne 15, haut écran (après HUD)
+DEF LYC_CREDITS_LINE    EQU $60 ; Ligne 96, interruption LYC pour crédits
+DEF WY_WINDOW_DONE      EQU $40 ; Position finale window (ligne 64)
+DEF LY_WINDOW_MAX       EQU $87 ; Ligne max pour animation window (135)
+DEF LYC_SCANLINE_STRIDE EQU $08 ; Stride scanline (8 lignes = 1 tile)
+
+; === Dimensions tilemap ===
+
+DEF TILE_SIZE_PIXELS    EQU $08 ; 8 pixels = 1 tile (dimensions standard Game Boy)
+DEF TILE_ALIGN_MASK     EQU $f8 ; Masque alignement tile (efface bits 0-2)
+DEF TILEMAP_ROW_WIDTH   EQU $14 ; 20 tiles = largeur écran visible (160px / 8px)
+DEF TILEMAP_STRIDE      EQU $20 ; 32 tiles = largeur complète tilemap (256px / 8px)
+DEF TILEMAP_COLUMN_MASK EQU $1f ; Masque colonnes tilemap (TILEMAP_STRIDE - 1)
+DEF TILEMAP_INIT_SIZE   EQU $09 ; Taille données init tilemap (9 octets)
+DEF HUD_LINE_COUNT      EQU $02 ; Nombre de lignes HUD à copier
+DEF SCRN_SIZE           EQU $0400 ; 1024 octets = taille tilemap complète (32×32 tiles)
+DEF SCRN_SIZE_MINUS_1   EQU $03FF ; SCRN_SIZE - 1 (pour adressage depuis fin)
+DEF TILEMAP_FILL_LOOPS  EQU $03   ; Nombre de boucles pour remplir tilemap (3 × 255 = 765 tiles)
+
+; === Audio/Sound ===
+
+DEF MAX_AUDIO_SLOTS     EQU $14 ; 20 slots audio maximum
+DEF AUDIO_SLOT_SIZE     EQU $0D ; 13 octets par slot audio
+
+; === Tailles OAM ===
+
+DEF OAM_BUFFER_SIZE     EQU $9F ; 159 octets (40 sprites × 4 - 1)
+DEF OAM_BUFFER_FULL     EQU $A0 ; 160 octets (40 sprites × 4, taille complète)
+
+; === Joypad ===
+
+; Masque pour isoler les directions D-pad (bits 0-3 de hJoypadState)
+DEF JOYPAD_DPAD_MASK    EQU $0F ; Masque 4 bits bas (R/L/U/D)
+; Valeur quand toutes les directions sont pressées (combo soft reset)
+DEF JOYPAD_ALL_DPAD     EQU $0F ; R+L+U+D simultanés
+
+; === Attract Mode / Menu ===
+
+DEF ATTRACT_MODE_TIMEOUT EQU $28 ; Timer attract mode (40 frames)
+DEF ATTRACT_MODE_LONG    EQU $50 ; Timer attract mode long (80 frames)
+
+; === Positions sprites menu sélection niveau ===
+
+DEF SPRITE_Y_MENU       EQU $78 ; Position Y sprites menu (120 pixels)
+DEF SPRITE_X_LEFT       EQU $78 ; Position X gauche (120 pixels)
+DEF SPRITE_X_CENTER     EQU $80 ; Position X centre (128 pixels)
+DEF SPRITE_X_RIGHT      EQU $88 ; Position X droite (136 pixels)
+DEF TILE_LEVEL_SELECT   EQU $29 ; Tile indicateur sélection niveau
+
+; === DMA ===
+
+DEF DMA_WAIT_CYCLES     EQU $28 ; Cycles d'attente DMA (40 cycles)
+
+; === Types d'objets OAM ===
+; Utilisés dans UpdateAnimatedObjectState_ObjectHitDispatch pour identifier
+; le type d'objet avec lequel le joueur interagit
+
+DEF OBJ_TYPE_COIN       EQU $29 ; Pièce à collecter
+DEF OBJ_TYPE_SPECIAL    EQU $2B ; Objet spécial (transition)
+DEF OBJ_TYPE_DOOR       EQU $2E ; Porte/portail (transition zone)
+DEF OBJ_TYPE_ENEMY      EQU $34 ; Ennemi
+
+; === Indices de tiles animation (Monde.Niveau) ===
+; Format: $XY où X = monde (1-4), Y = niveau dans le monde (1-3)
+; Utilisés pour sélectionner le contexte de rendu selon le niveau
+
+DEF LEVEL_INDEX_SPECIAL EQU $03 ; Niveau 3 (nibble bas) = niveau spécial/boss
+DEF ANIM_TILE_W1_L1     EQU $11 ; Monde 1, Niveau 1
+DEF ANIM_TILE_W1_L2     EQU $12 ; Monde 1, Niveau 2
+DEF ANIM_TILE_W1_L3     EQU $13 ; Monde 1, Niveau 3
+DEF ANIM_TILE_W2_L1     EQU $21 ; Monde 2, Niveau 1
+DEF ANIM_TILE_W2_L2     EQU $22 ; Monde 2, Niveau 2
+DEF ANIM_TILE_W2_L3     EQU $23 ; Monde 2, Niveau 3
+DEF ANIM_TILE_W3_L1     EQU $31 ; Monde 3, Niveau 1
+DEF ANIM_TILE_W3_L2     EQU $32 ; Monde 3, Niveau 2
+DEF ANIM_TILE_W3_L3     EQU $33 ; Monde 3, Niveau 3
+DEF ANIM_TILE_W4_L1     EQU $41 ; Monde 4, Niveau 1
+DEF ANIM_TILE_W4_L2     EQU $42 ; Monde 4, Niveau 2
+
+; === Commandes/tokens tilemap ===
+; Valeurs spéciales dans les données tilemap qui déclenchent des comportements
+
+DEF TILEMAP_CMD_SKIP    EQU $FD ; Marqueur skip/continuation (pas de copie tile)
+DEF TILEMAP_CMD_SCROLL  EQU $70 ; Déclenche mise à jour scrolling
+DEF TILEMAP_CMD_LOAD1   EQU $80 ; Charge tilemap niveau (type 1)
+DEF TILEMAP_CMD_LOAD2   EQU $5F ; Charge tilemap niveau (type 2)
+DEF TILEMAP_CMD_LOAD3   EQU $81 ; Charge tilemap niveau (type 3)
+DEF TILEMAP_CMD_WATER   EQU $82 ; Tile eau (collision spéciale)
+DEF TILEMAP_CMD_BLOCK   EQU $83 ; Tile bloc collision (son + détection)
+DEF TILEMAP_CMD_PIPE    EQU $F4 ; Tile tuyau/pipe (entrée zone spéciale)
+DEF TILEMAP_CMD_E1      EQU $E1 ; Tile collision spéciale E1 (transition/warp)
+DEF TILEMAP_CMD_DANGER  EQU $ED ; Tile danger (collision fatale si vulnérable)
+DEF TILEMAP_CMD_SLIDE   EQU $77 ; Tile glissade/slide (collision spéciale)
+DEF TILEMAP_CMD_BOUNCE  EQU $F2 ; Tile rebond/bloc collision (son + effet)
+DEF TILEMAP_CMD_END     EQU $FE ; Marqueur fin de section tilemap
+
+; Seuil pour distinguer les tiles commandes (>= $60) des tiles normaux (< $60)
+DEF TILEMAP_CMD_THRESHOLD EQU $60 ; Seuil: >= $60 = tile spécial/commande
+
+; === Offsets collision joueur ===
+; Utilisés pour les calculs de collision tête du joueur
+
+DEF SPRITE_COLLISION_OFFSET_Y EQU $0A ; Offset Y collision sprite (10 pixels vers haut)
+DEF HEAD_COLLISION_OFFSET_Y  EQU $0B ; Offset Y tête joueur (11 pixels vers haut)
+DEF HEAD_COLLISION_ADJUST_X  EQU $FE ; Ajustement X hitbox (-2 en complément à 2)
+DEF SPRITE_COLLISION_WIDTH   EQU $04 ; Largeur hitbox sprite (4 pixels)
+
+; === Seuils de groupes de niveaux ===
+; Utilisés pour sélectionner la table de style selon le numéro de niveau
+; Les niveaux sont groupés : 0-6, 7-10, 11-14, 15-18, 19-22, 23+
+
+DEF LEVEL_GROUP_7_START  EQU $07 ; Premier niveau du groupe 2 (niveaux 7-10)
+DEF LEVEL_GROUP_11_START EQU $0B ; Premier niveau du groupe 3 (niveaux 11-14)
+DEF LEVEL_GROUP_15_START EQU $0F ; Premier niveau du groupe 4 (niveaux 15-18)
+DEF LEVEL_GROUP_19_START EQU $13 ; Premier niveau du groupe 5 (niveaux 19-22)
+DEF LEVEL_GROUP_23_START EQU $17 ; Premier niveau du groupe 6 (niveaux 23+)
+
+; === Indices OAM pour collision ===
+; Utilisés dans UpdateAnimatedObjectState pour identifier les objets par leur index OAM
+
+DEF OAM_ADDR_LOW_PLAYER  EQU $90 ; Adresse basse OAM joueur (hOAMAddrLow)
+DEF OAM_INDEX_COIN       EQU $33 ; Index OAM pièce (hOAMIndex = 51)
+
+; === Contextes de rendu ===
+; Utilisés pour déterminer le mode de rendu graphique selon l'état du jeu
+
+DEF RENDER_CONTEXT_GAMEPLAY EQU $05 ; Contexte gameplay standard
+DEF RENDER_CONTEXT_SPECIAL  EQU $0B ; Contexte niveau spécial
+DEF RENDER_CONTEXT_MAX      EQU $0C ; Valeur max contexte (wrap-around)
+
+; === Score BCD ===
+
+DEF SCORE_BCD_SIZE          EQU $03 ; Taille du score en BCD (3 octets = 6 chiffres)
+
+; === ROM Banks ===
+
+DEF ROM_BANK_COUNT          EQU $03 ; Nombre de banks switchables (1-3, bank 0 fixe)
+
+; === Seuils de niveaux ===
+
+DEF LEVEL_THRESHOLD_SPRITES EQU $02 ; Seuil niveau pour affichage sprites menu
+
+; === OAM Sprites écran titre/menu ===
+; Positions des sprites dans le buffer OAM pour l'écran titre
+
+DEF OAM_TITLE_SPRITE_Y      EQU $80 ; Position Y sprite titre (128 pixels)
+DEF OAM_TITLE_SPRITE_X      EQU $88 ; Position X sprite titre (136 pixels)
+DEF OAM_TITLE_SPRITE2_Y     EQU $80 ; Position Y second sprite titre
+DEF OAM_TITLE_SPRITE2_X     EQU $28 ; Position X second sprite titre (40 pixels)
+DEF OAM_TITLE_TILE          EQU $ac ; Tile sprite écran titre
+
+; === Masques et toggles ===
+
+DEF TOGGLE_SPRITE_Y_MASK    EQU $f8 ; Masque XOR pour toggle position Y sprite
+
+; === Types de collision bloc (hBlockHitType) ===
+; Valeurs spéciales utilisées pour les interactions joueur/blocs
+
+DEF BLOCK_HIT_NONE          EQU $00 ; Pas de collision
+DEF BLOCK_HIT_SOFT          EQU $01 ; Bloc cassable (soft block)
+DEF BLOCK_HIT_COIN          EQU $02 ; Bloc pièce (coin block)
+DEF BLOCK_HIT_ITEM          EQU $04 ; Bloc item (mushroom/flower)
+DEF BLOCK_HIT_TYPE_SPECIAL  EQU $c0 ; Type spécial (annule l'animation objet)
+
+; === Window/LCD positions ===
+
+DEF WY_INIT_GAME            EQU $85 ; Position Window Y initiale gameplay (133)
+DEF WX_INIT_GAME            EQU $60 ; Position Window X initiale gameplay (96)
+DEF WY_GAME_OVER            EQU $8F ; Position Window Y écran Game Over (143)
+DEF WX_GAME_OVER            EQU $07 ; Position Window X écran Game Over (7)
+
+; === Scroll/Tilemap initiaux ===
+
+DEF SCROLL_COLUMN_INIT      EQU $5b ; Colonne scroll initiale (91)
+DEF SCRN1_CLEAR_SIZE        EQU $5f ; Taille clear _SCRN1 (95 octets)
+DEF LEVEL_DATA_INIT         EQU $28 ; Valeur initiale wLevelData (timer niveau)
+DEF LEVEL_BCD2_INIT         EQU $04 ; Valeur initiale wLevelBCD2
+
+; === Tables ROM (adresses lookup) ===
+; (Utiliser directement les labels des tables au lieu de constantes EQU)
+
+; === Directions joueur (wPlayerDir) ===
+; Bits bas utilisés pour le mode gameplay
+
+DEF PLAYER_MODE_GAMEPLAY    EQU $0a ; Mode gameplay standard
+DEF PLAYER_MODE_SPECIAL     EQU $0c ; Mode niveau spécial
+
+; === Tailles de buffer ===
+
+DEF ANIM_BUFFER_COPY_SIZE   EQU $08 ; Taille copie buffer animation (8 octets)
+
+; === Offsets structure objets ===
+
+DEF OBJ_FIELD_STATE_OFFSET  EQU $0A ; Offset vers le champ état/type (10 octets)
+
+; === Données niveau ROM ===
+
+DEF ROM_LEVEL_INIT_DATA     EQU $2114 ; Table données initialisation niveau (voir LevelInitData)
+DEF LEVEL_INIT_DATA_SIZE    EQU $51   ; Taille données init niveau (81 octets)
+
+; === Variables scroll et tilemap ===
+
+DEF SCROLL_VAR_COUNT        EQU $06   ; Nombre de variables scroll à initialiser (6 octets)
+DEF SCROLL_COLUMN_DEFAULT   EQU $40   ; Colonne scroll par défaut (64 tiles)
+DEF SCROLL_COLUMN_MAX       EQU $60   ; Colonne scroll max avant wrap (96 tiles)
+DEF TILEMAP_VISIBLE_COLS    EQU $14   ; Colonnes tilemap visibles (20 = écran)
+DEF TILEMAP_BUFFER_COLS     EQU $1b   ; Colonnes tilemap avec buffer (27)
+
+; === Direction joueur étendu ===
+
+DEF PLAYER_DIR_RIGHT        EQU $10   ; Direction droite (complément de PLAYER_DIR_LEFT=$18)
+DEF PLAYER_DIR_RIGHT_SUBMODE EQU $05  ; Sous-mode direction droite (nibble bas)
+
+; === Animation ===
+
+DEF ANIM_SCALE_MAX          EQU $03   ; Compteur scaling max (3 frames)
+DEF ANIM_BANK_SPECIAL       EQU $50   ; Bank animation spéciale
+DEF ANIM_BANK_OBJECT        EQU $10   ; Bank animation objets
+
+; === State Buffer ===
+
+DEF STATE_BUFFER_ANIM       EQU $03   ; Buffer état animation
+DEF STATE_BUFFER_OBJECT     EQU $04   ; Buffer état objet
+
+; === Timer AUX états ===
+
+DEF TIMER_AUX_ACTIVE        EQU $01   ; Timer AUX actif (vérification)
+DEF TIMER_AUX_PIPE_MODE     EQU $02   ; Timer AUX mode pipe/transition
+DEF TIMER_AUX_DAMAGE_MAX    EQU $03   ; Timer AUX seuil dégâts
+DEF TIMER_AUX_COMPLETE      EQU $04   ; Timer AUX terminé
+
+; === Limites position X joueur (zone de scroll) ===
+
+DEF PLAYER_X_SCROLL_MIN     EQU $b4   ; Position X minimum pour déclencher scroll (180 pixels)
+DEF PLAYER_X_SCROLL_MAX     EQU $c0   ; Position X maximum pour déclencher scroll (192 pixels)
+
+; === Valeurs timer checkpoint ===
+
+DEF TIMER_CHECKPOINT_LONG   EQU $90   ; Timer checkpoint long (144 frames)
+DEF TIMER_CHECKPOINT_SHORT  EQU $40   ; Timer checkpoint court (64 frames)
+
+; === Masques direction joueur ===
+
+DEF PLAYER_DIR_ANIM_BIT     EQU $10   ; Bit animation direction (XOR pour alterner)
+
+; === Seuils état joueur pour scroll caméra ===
+
+DEF PLAYER_STATE_SCROLL_THRESHOLD EQU $51 ; Seuil état déclenchant scroll caméra (81)
+DEF PLAYER_STATE_SCROLL_LIMIT     EQU $50 ; Position état joueur après scroll (80)
+
+; === Animation compteur objets ===
+
+DEF ANIM_OBJ_COUNT_VALUE    EQU $32   ; Valeur compteur objets animation (50)
+
+; === Offset calcul position ===
+
+DEF PLAYER_ANIM_OFFSET      EQU $fc   ; Offset calcul animation joueur (-4)
+DEF PLAYER_X_OFFSET         EQU $10   ; Offset soustrait de X joueur (16 pixels)
+DEF OBJECT_COLLISION_RANGE  EQU $14   ; Distance max collision objet (20 pixels)
+
+; === Initialisation structure joueur ===
+
+DEF PLAYER_STATE_CLEAR      EQU $00   ; État joueur reset
+DEF PLAYER_ANIM_DEFAULT     EQU $0d   ; Frame animation par défaut (13)
+DEF PLAYER_FLAG_ACTIVE      EQU $01   ; Flag joueur actif
+DEF PLAYER_VAR_AB_INIT      EQU $0c   ; Valeur initiale wPlayerVarAB (12)
+
+; === Masques direction ===
+
+DEF PLAYER_DIR_HIGH_MASK    EQU $f0   ; Masque bits hauts direction
+DEF PLAYER_DIR_MODE_RESET   EQU $01   ; Mode direction initial/reset
+DEF PLAYER_DIR_MODE_INTERACT EQU $04  ; Mode interaction direction (seuil)
+DEF PLAYER_ANIM_STATE_PIPE  EQU $23   ; État animation pipe (35 = frame lente)
+
+; === Style niveau ===
+
+DEF LEVEL_STYLE_SPECIAL     EQU $03   ; Style niveau spécial (non décrémenté)
+
+; === Masques génériques ===
+
+DEF NIBBLE_LOW_MASK         EQU $0f   ; Masque 4 bits bas (nibble inférieur)
+DEF NIBBLE_HIGH_MASK        EQU $f0   ; Masque 4 bits hauts (nibble supérieur)
+
+; === Masques bitwise individuels ===
+
+DEF BIT_0_MASK              EQU $01   ; Masque bit 0 uniquement
+DEF BIT_1_MASK              EQU $02   ; Masque bit 1 uniquement
+DEF BIT_2_MASK              EQU $04   ; Masque bit 2 uniquement
+DEF BIT_3_MASK              EQU $08   ; Masque bit 3 uniquement
+DEF BIT_6_MASK              EQU $40   ; Masque bit 6 uniquement
+DEF BIT_7_MASK              EQU $80   ; Masque bit 7 uniquement
+DEF BITS_2_3_MASK           EQU $0c   ; Masque bits 2-3
+DEF BITS_2_3_CLEAR_MASK     EQU $f3   ; Efface bits 2-3 (inverse de $0c)
+DEF BITS_4_5_MASK           EQU $30   ; Masque bits 4-5
+
+; === États audio (bits 4-5 de hSoundCh4) ===
+; Après masquage avec BITS_4_5_MASK ($30), les valeurs possibles sont :
+
+DEF AUDIO_STATE_00          EQU $00   ; État audio 0 (bits 4-5 = 00)
+DEF AUDIO_STATE_10          EQU $10   ; État audio 1 (bits 4-5 = 01)
+DEF AUDIO_STATE_30          EQU $30   ; État audio 3 (bits 4-5 = 11)
+DEF BITS_6_7_MASK           EQU $c0   ; Masque bits 6-7 (audio direction)
+DEF BITS_5_7_MASK           EQU $e0   ; Masque bits 5-7 (audio type)
+DEF CLEAR_BIT_0_MASK        EQU $fe   ; Efface bit 0 (inverse de $01)
+DEF CLEAR_BIT_1_MASK        EQU $fd   ; Efface bit 1 (inverse de $02)
+
+; === Masques joypad combinés ===
+; (Les constantes individuelles PADF_* sont dans hardware.inc)
+
+DEF JOYPAD_LR_MASK          EQU PADF_LEFT | PADF_RIGHT    ; $30 - Masque gauche/droite
+DEF JOYPAD_SELECT_START_MASK EQU PADF_SELECT | PADF_START ; $0c - Masque Select/Start
+
+; === Animation tiles - Calcul index monde/niveau ===
+; Format hAnimTileIndex: $XY où X=monde (1-4), Y=niveau (1-3)
+; Quand Y atteint 4 (inexistant), on passe au monde suivant niveau 1
+
+DEF ANIM_TILE_LEVELS_PER_WORLD EQU $04 ; Seuil wrap niveau (3 niveaux → wrap à 4)
+DEF ANIM_TILE_WORLD_OFFSET     EQU $0d ; Offset pour passer au monde suivant ($10-$03=13)
+
+; === Invulnérabilité joueur ===
+
+DEF PLAYER_INVULN_TIMER        EQU $f8   ; Timer invulnérabilité (-8, compte vers 0)
+
+; === État rendu (wStateRender) ===
+
+DEF STATE_RENDER_ACTIVE        EQU $01   ; Mode rendu actif (1)
+DEF STATE_RENDER_DAMAGE        EQU $0c   ; Mode rendu après collision ennemi (12)
+DEF STATE_RENDER_INIT          EQU $02   ; Mode rendu initialisation
+DEF STATE_RENDER_SPECIAL       EQU $04   ; Mode rendu spécial (fin de niveau)
+DEF STATE_RENDER_CUTSCENE      EQU $0f   ; Mode rendu cutscene fin niveau
+DEF STATE_RENDER_STATE_BUFFER  EQU $0b   ; Mode rendu via wStateBuffer
+
+; === Flags pause audio (hSavedAudio) ===
+
+DEF PAUSE_ENTER                EQU $01   ; Entrée en pause (audio → mute)
+DEF PAUSE_EXIT                 EQU $02   ; Sortie de pause (audio → restore)
+
+; === Timers gameplay ===
+
+DEF TIMER_STATE07_WAIT         EQU $40   ; Timer attente état $07 (64 frames)
+DEF TIMER_GAMEPLAY_DELAY       EQU $50   ; Timer délai gameplay (80 frames)
+DEF TIMER_SPECIAL_PATH         EQU $90   ; Timer chemin spécial (144 frames)
+
+; === États de jeu additionnels ===
+
+DEF GAME_STATE_WINDOW_UPDATE   EQU $3b   ; État mise à jour window ($3B)
+
+; === Niveau monde 4-3 ===
+
+DEF ANIM_TILE_W4_L3            EQU $43   ; Monde 4, Niveau 3 (fin du jeu)
+
+; === VRAM Tilemap ===
+
+DEF VRAM_TILEMAP_HIGH          EQU $98   ; Octet haut adresse tilemap BG ($9800)
+DEF VRAM_SCRN1_HIGH            EQU $99   ; Octet haut adresse _SCRN1 ($9900)
+DEF VRAM_TILEMAP_OFFSET        EQU $0120 ; Offset pour calcul scroll (288 bytes = 9 lignes)
+
+; === Scroll initial ===
+
+DEF TILEMAP_SCROLL_X_INIT      EQU $03   ; Valeur initiale hTilemapScrollX
+DEF SCROLL_ALIGN_MASK          EQU $fc   ; Masque alignement 4 pixels (efface bits 0-1)
+
+; === Collision - Offsets et seuils ===
+
+DEF COLLISION_OFFSET_6         EQU $06   ; Offset collision ±6 pixels (demi-tile)
+DEF COLLISION_THRESHOLD_7      EQU $07   ; Seuil collision 7 pixels
+DEF COLLISION_MARGIN_3         EQU $03   ; Marge collision 3 pixels
+DEF COLLISION_KNOCKBACK        EQU $0a   ; Distance knockback (10 pixels)
+DEF COLLISION_ADJUST_NEG       EQU $fe   ; Ajustement collision négatif (-2)
+DEF COLLISION_ADJUST_POS       EQU $02   ; Ajustement collision positif (+2)
+
+; === Conversion adresse tile ↔ position sprite ===
+
+DEF TILE_ADDR_Y_BASE           EQU $84   ; Base pour conversion adresse tile → Y sprite
+DEF SPRITE_BITS_SHIFT          EQU $04   ; Nombre de bits à shifter (4)
+
+; === Identifiants Monde (pour sélection banque/tiles) ===
+
+DEF WORLD_1                    EQU $01   ; Monde 1
+DEF WORLD_2                    EQU $02   ; Monde 2
+DEF WORLD_3                    EQU $03   ; Monde 3
+DEF WORLD_4                    EQU $04   ; Monde 4
+
+; === Timers animations/cutscenes ===
+
+DEF TIMER_ANIM_STEP            EQU $08   ; Timer step animation (8 frames)
+DEF TIMER_ANIM_TRANSITION      EQU $10   ; Timer transition animation (16 frames)
+DEF TIMER_ANIM_WALK            EQU $20   ; Timer marche animation (32 frames)
+DEF TIMER_CUTSCENE             EQU $a1   ; Timer cutscene fin niveau (161 frames)
+DEF TIMER_TRANSITION_LEVEL     EQU $26   ; Timer transition niveau (38 frames)
+DEF TIMER_CREDITS_LONG         EQU $f0   ; Timer long crédits (240 frames)
+DEF TIMER_WINDOW_SETUP         EQU $a0   ; Timer setup window (160 frames)
+
+; === Positions cutscene joueur ===
+
+DEF CUTSCENE_PLAYER_X          EQU $7e   ; Position X joueur cutscene (126 pixels)
+DEF CUTSCENE_PLAYER_Y          EQU $b0   ; Position Y joueur cutscene (176 pixels)
+DEF CUTSCENE_INIT_VALUE        EQU $00   ; Valeur init cutscene (wPlayerUnk12)
+DEF CUTSCENE_TILE_ATTR         EQU $22   ; Attribut/tile cutscene (wPlayerUnk13)
+DEF CUTSCENE_PARAM             EQU $20   ; Paramètre cutscene (wPlayerUnk15)
+
+; === Seuils position état ===
+
+DEF PLAYER_POS_THRESHOLD       EQU $c0   ; Seuil position Y joueur ($C0 = 192)
+DEF PLAYER_Y_INIT              EQU $80   ; Position Y joueur initial (128 pixels)
+
+; === État buffer (wStateBuffer) ===
+
+DEF STATE_BUFFER_COIN          EQU $05   ; État buffer après collecte pièce
+
+; === OAM et animation ===
+
+DEF OAM_ADDR_INIT              EQU $05   ; Adresse OAM initiale colonne
+DEF OAM_COPY_SIZE              EQU $10   ; Taille copie données OAM (16 octets)
+DEF OAM_SPRITE_LOOP_3          EQU $03   ; Nombre de sprites dans boucle OAM (3)
+DEF OAM_SPRITE_LOOP_8          EQU $08   ; Nombre de sprites dans boucle OAM (8)
+DEF OAM_Y_OFFSCREEN_LIMIT      EQU $A9   ; Limite Y pour considérer sprite hors écran (169px)
+
+; === Masques animation ===
+
+DEF ANIM_SUBSTATE_MASK         EQU $c0   ; Masque bits hauts sous-état animation
+DEF ANIM_HEIGHT_MASK           EQU $70   ; Masque hauteur objet animation
+DEF ANIM_COUNTER_MASK          EQU $3f   ; Masque compteur animation (bits 0-5)
+DEF CLEAR_BIT7_MASK            EQU $7f   ; Masque pour effacer le bit 7 (garde bits 0-6)
+DEF FRAME_MASK_2               EQU $01   ; Masque pour exécuter toutes les 2 frames (counter & 1)
+DEF FRAME_MASK_4               EQU $03   ; Masque pour exécuter toutes les 4 frames (counter & 3)
+DEF FRAME_MASK_8               EQU $07   ; Masque pour exécuter toutes les 8 frames (counter & 7)
+DEF SPRITE_HEIGHT_INDEX_MASK   EQU $07   ; Masque index hauteur sprite (bits 0-2, valeurs 0-7)
+DEF AUDIO_POSITION_MASK        EQU $1f   ; Masque position audio (bits 0-4, valeurs 0-31)
+
+; === Flags et valeurs de retour génériques ===
+
+DEF FLAG_TRUE                  EQU $01   ; Flag actif / valeur vraie
+DEF FLAG_FALSE                 EQU $00   ; Flag inactif / valeur fausse
+DEF RETURN_TRUE                EQU $01   ; Valeur de retour vraie
+DEF RETURN_FALSE               EQU $00   ; Valeur de retour fausse
+
+; === Flags animation ===
+
+DEF FLAG_ANIM_DONE             EQU $ff   ; Animation terminée (wPlayerVarAD)
+DEF FLAG_UPDATE_NEEDED         EQU $01   ; Flag mise à jour nécessaire
+
+; === Bank spéciale ===
+
+DEF BANK_NONE                  EQU $ff   ; Pas de bank spécifique (hPtrBank)
+
+; === Cutscene fin de jeu (États $2A-$31) ===
+
+; Positions sprite princesse (State2B)
+DEF PRINCESS_SPRITE_Y          EQU $70   ; Position Y sprite princesse (112 pixels)
+DEF PRINCESS_SPRITE_X          EQU $3a   ; Position X sprite princesse (58 pixels)
+DEF PRINCESS_SPRITE_TILE       EQU $84   ; Tile sprite princesse
+DEF PRINCESS_DESCENT_END       EQU $44   ; Position Y fin descente princesse (68 pixels)
+
+; Oscillation sprite (State2C)
+DEF OSCIL_CLEAR_THRESHOLD      EQU $20   ; Seuil déclenchant clear écran (32)
+DEF OSCIL_DIR_CHANGE_LOW       EQU $30   ; Seuil changement direction bas (48)
+DEF OSCIL_DIR_CHANGE_HIGH      EQU $50   ; Seuil changement direction haut (80)
+DEF OSCIL_RESET_VALUE          EQU $f0   ; Valeur reset oscillation (240)
+
+; Clear écran cutscene (State2C)
+DEF CUTSCENE_CLEAR_SIZE        EQU $6d   ; Taille zone à effacer (109 octets)
+DEF VRAM_CUTSCENE_TEXT         EQU $98a5 ; Adresse début texte cutscene
+
+; Marche cutscene (State2E-$30)
+DEF CUTSCENE_COUNTER_INIT      EQU $c0   ; Compteur animation initial (192)
+DEF CUTSCENE_POS_THRESHOLD_1   EQU $50   ; Seuil position 1 (80)
+DEF CUTSCENE_POS_THRESHOLD_2   EQU $40   ; Seuil position 2 (64)
+DEF CUTSCENE_WALK_END_X        EQU $58   ; Position X fin marche gauche (88 pixels)
+
+; Transfert données sprite (State2F)
+DEF SPRITE_DATA_COPY_SIZE      EQU $06   ; Taille copie données sprite (6 octets)
+DEF PLAYER_DIR_CUTSCENE        EQU $26   ; Direction joueur cutscene
+DEF SPRITE_ANIM_RESET          EQU $f0   ; Valeur reset animation sprite
+
+; État rendu cutscene
+DEF STATE_RENDER_FINAL         EQU $11   ; Mode rendu écran final
+
+; === Marqueurs de contrôle texte ===
+; Utilisés dans WriteCharToVRAM pour contrôler l'affichage du texte
+
+DEF TEXT_CMD_NEWLINE           EQU $fe   ; Marqueur nouvelle ligne/offset
+DEF TEXT_CMD_END               EQU $ff   ; Marqueur fin de texte
+
+; === Valeurs d'animation/cutscene ===
+
+DEF PLAYER_ANIM_INITIAL        EQU $80   ; Position/animation initiale joueur ($80)
+DEF OAM_INDEX_CUTSCENE         EQU $08   ; Index OAM cutscene (8 sprites)
+DEF SPRITE_CONFIG_COUNT        EQU $03   ; Compteur configuration sprite (3)
+DEF STATE_BUFFER_SPECIAL       EQU $0a   ; Valeur spéciale wStateBuffer
+
+; === Adresses tables sprites cutscene ===
+
+DEF ROM_SPRITE_CONFIG_1        EQU $102c ; Table sprites config normale
+DEF ROM_SPRITE_CONFIG_2        EQU $103c ; Table sprites config alternative
+
+; === Timers cutscene spécifiques ===
+
+DEF TIMER_CUTSCENE_6           EQU $06   ; Timer cutscene court (6 frames)
+DEF TIMER_CUTSCENE_LONG        EQU $ff   ; Timer cutscene très long (255 frames)
+
+; === VRAM/Tilemap cutscene ===
+
+DEF VRAM_TILEMAP_WRAP_HIGH     EQU $99   ; Octet haut wrap tilemap ($9900)
+DEF VRAM_DEST_CUTSCENE_HIGH    EQU $bf   ; Octet haut destination cutscene
+
+; === Animation tiles - Identifiants mondes (nibble haut de hAnimTileIndex) ===
+
+DEF ANIM_TILE_WORLD_4_NIBBLE   EQU $40   ; Monde 4 (nibble haut = $4X)
+
+; === Tiles et attributs sprites transition (State03_SetupTransition) ===
+; Tiles utilisés pour l'effet visuel de transition entre états
+
+DEF TILE_TRANSITION_A          EQU $0f   ; Tile sprite transition A
+DEF TILE_TRANSITION_B          EQU $1f   ; Tile sprite transition B
+DEF OAM_ATTR_NORMAL            EQU $00   ; Attribut OAM: pas de flip
+DEF OAM_ATTR_X_FLIP            EQU $20   ; Attribut OAM: flip horizontal (bit 5)
+DEF OAM_ATTR_Y_FLIP            EQU $40   ; Attribut OAM: flip vertical (bit 6)
+DEF OAM_ATTR_XY_FLIP           EQU $60   ; Attribut OAM: flip X+Y (bits 5+6)
+
+; === Offset calcul sprite position ===
+
+DEF SPRITE_X_OFFSET_NEG        EQU $f8   ; Offset X sprite négatif (-8)
+
+; === Animation State04_AnimTransition ===
+; Table et constantes pour l'animation de transition d'état
+
+DEF ROM_ANIM_TRANSITION_TABLE  EQU $0c10 ; Table vitesses animation transition
+DEF ANIM_TRANSITION_END_MARKER EQU $7f   ; Marqueur fin animation (valeur max)
+DEF ANIM_TRANSITION_DEFAULT    EQU $02   ; Incrément animation par défaut
+DEF OAM_ENTRY_SIZE             EQU $04   ; Taille d'une entrée OAM (4 octets: Y, X, Tile, Attr)
+DEF SPRITE_Y_THRESHOLD_EXIT    EQU $b4   ; Seuil Y sprite pour sortie animation (180 pixels)
+
+; === Timer texte cutscene ===
+
+DEF TIMER_TEXT_CHAR            EQU $0c   ; Timer entre caractères texte (12 frames)
+DEF CUTSCENE_TEXT_OFFSET       EQU $a5   ; Offset colonne texte cutscene ($98A5)
+
+; === Encodage caractères texte (tiles) ===
+; Pattern: lettre = $0A + (position dans alphabet)
+; Utilisé pour les textes "THANK YOU MARIO!", "BONUS GAME", etc.
+
+DEF TEXT_CHAR_A                EQU $0a   ; Caractère 'A'
+DEF TEXT_CHAR_B                EQU $0b   ; Caractère 'B'
+DEF TEXT_CHAR_D                EQU $0d   ; Caractère 'D'
+DEF TEXT_CHAR_E                EQU $0e   ; Caractère 'E'
+DEF TEXT_CHAR_G                EQU $10   ; Caractère 'G'
+DEF TEXT_CHAR_H                EQU $11   ; Caractère 'H'
+DEF TEXT_CHAR_I                EQU $12   ; Caractère 'I'
+DEF TEXT_CHAR_K                EQU $14   ; Caractère 'K'
+DEF TEXT_CHAR_M                EQU $16   ; Caractère 'M'
+DEF TEXT_CHAR_N                EQU $17   ; Caractère 'N'
+DEF TEXT_CHAR_O                EQU $18   ; Caractère 'O'
+DEF TEXT_CHAR_Q                EQU $1a   ; Caractère 'Q'
+DEF TEXT_CHAR_R                EQU $1b   ; Caractère 'R'
+DEF TEXT_CHAR_S                EQU $1c   ; Caractère 'S'
+DEF TEXT_CHAR_T                EQU $1d   ; Caractère 'T'
+DEF TEXT_CHAR_U                EQU $1e   ; Caractère 'U'
+DEF TEXT_CHAR_V                EQU $1f   ; Caractère 'V'
+DEF TEXT_CHAR_Y                EQU $22   ; Caractère 'Y'
+DEF TEXT_CHAR_EXCLAIM          EQU $23   ; Caractère '!' (style 1)
+DEF TEXT_CHAR_EXCLAIM_ALT      EQU $28   ; Caractère '!' (style 2)
+DEF TEXT_CHAR_PAREN            EQU $29   ; Caractère '(' ou ')'
+DEF TEXT_CHAR_SPACE            EQU $2c   ; Caractère espace
+DEF TEXT_CHAR_NEWLINE          EQU $fe   ; Saut de ligne
+DEF TEXT_CHAR_END              EQU $ff   ; Fin de texte
+DEF TEXT_CHAR_HEART            EQU $73   ; Icône coeur
+
+; === Animation princesse (State26) ===
+
+DEF PRINCESS_ANIM_THRESHOLD    EQU $d0   ; Seuil Y animation princesse (208 pixels)
+DEF PRINCESS_INIT_VALUE        EQU $20   ; Valeur initiale animation princesse
+DEF PRINCESS_NEXT_VALUE        EQU $21   ; Valeur suivante animation princesse
+DEF TIMER_PRINCESS_PAUSE       EQU $40   ; Timer pause animation princesse (64 frames)
+
+; === Animation oscillation (State27) ===
+
+DEF OSCIL_TIMER_INIT           EQU $20   ; Timer init oscillation (32 frames)
+DEF OSCIL_OFFSET_NEG           EQU $fc   ; Offset oscillation négatif (-4)
+DEF OSCIL_OFFSET_POS           EQU $04   ; Offset oscillation positif (+4)
+DEF OSCIL_TIMER_THRESHOLD      EQU $80   ; Seuil timer oscillation (128)
+DEF OSCIL_TIMER_END            EQU $3f   ; Timer fin oscillation (63 frames)
+
+; === État $2A - Affichage texte fin ===
+
+DEF VRAM_COPY_LINE_OFFSET      EQU $02   ; Offset ligne copie VRAM (ligne 2)
+DEF CUTSCENE_COUNTER_23        EQU $23   ; Compteur cutscene animation (35 frames)
+
+; === État $29 - Setup écran fin ===
+
+DEF SCRN1_FIN_CLEAR_SIZE       EQU $0100 ; Taille clear _SCRN1 fin (256 octets)
+DEF END_SCREEN_PLAYER_Y        EQU $38   ; Position Y joueur écran fin (56)
+DEF END_SCREEN_PLAYER_X        EQU $10   ; Position X joueur écran fin (16)
+DEF END_SCREEN_PLAYER_POS      EQU $78   ; Position joueur écran fin (120)
+DEF OAM_CLEAR_SIZE_END         EQU $0c   ; Taille clear OAM fin (12 octets)
+
+; === Commandes audio (queue processing) ===
+; Commandes spéciales dans les données audio ($f0-$fd)
+
+DEF AUDIO_CMD_F0               EQU $f0   ; Commande audio F0 (special processing)
+DEF AUDIO_CMD_F1               EQU $f1   ; Commande audio F1 (save/load slot)
+DEF AUDIO_CMD_F8               EQU $f8   ; Commande audio F8 (set channel 3)
+DEF AUDIO_CMD_F2               EQU $f2   ; Commande audio F2 (set channel 4)
+DEF AUDIO_CMD_F3               EQU $f3   ; Commande audio F3 (init sound)
+DEF AUDIO_CMD_F4               EQU $f4   ; Commande audio F4 (set var2)
+DEF AUDIO_CMD_F5               EQU $f5   ; Commande audio F5 (random timing)
+DEF AUDIO_CMD_F6               EQU $f6   ; Commande audio F6 (player position check)
+DEF AUDIO_CMD_F7               EQU $f7   ; Commande audio F7 (destroy all objects)
+DEF AUDIO_CMD_F9               EQU $f9   ; Commande audio F9 (set state final)
+DEF AUDIO_CMD_FA               EQU $fa   ; Commande audio FA (set state buffer)
+DEF AUDIO_CMD_FB               EQU $fb   ; Commande audio FB (player distance check)
+DEF AUDIO_CMD_FC               EQU $fc   ; Commande audio FC (set sound params)
+DEF AUDIO_CMD_FD               EQU $fd   ; Commande audio FD (set state render)
+
+; === Index slots audio ===
+
+DEF AUDIO_SLOT_10              EQU $0a   ; Index slot audio 10 (pour save/load)
+
+; === Seuils audio (ProcessAudioSlots, FindAudioTableEntry) ===
+
+DEF AUDIO_PARAM2_LIMIT         EQU $e0   ; Seuil param2 désactivation slot ($E0 = 224)
+DEF AUDIO_PARAM1_LIMIT         EQU $c0   ; Seuil param1 désactivation slot ($C0 = 192)
+DEF AUDIO_OBJECT_END_LOW       EQU $90   ; Octet bas fin itération objets ($D190)
+
+; === Calcul distance joueur audio (AUDIO_CMD_F6) ===
+
+DEF PLAYER_DISTANCE_OFFSET     EQU $14   ; Offset calcul distance audio (+20)
+DEF PLAYER_DISTANCE_RANGE      EQU $20   ; Plage distance audio (32 = -20 à +12)
+
+; === Valeurs canaux son ===
+
+DEF SOUND_CHANNEL_BOTH_BITS    EQU $0c   ; Bits 2-3 actifs (les deux canaux)
+
+; === Seuils positions crédits (CheckTilemapCompletion) ===
+; Ces valeurs représentent les positions finales des 6 buffers tilemap
+; avant de passer à l'état InitializeCreditsMode
+
+DEF CREDITS_POS_BUF71          EQU $3c   ; Position finale wTilemapBuf71 (60)
+DEF CREDITS_POS_BUF75          EQU $44   ; Position finale wTilemapBuf75 (68)
+DEF CREDITS_POS_BUF79          EQU $4c   ; Position finale wTilemapBuf79 (76)
+DEF CREDITS_POS_BUF7D          EQU $5c   ; Position finale wTilemapBuf7D (92)
+DEF CREDITS_POS_BUF81          EQU $64   ; Position finale wTilemapBuf81 (100)
+DEF CREDITS_POS_BUF85          EQU $6c   ; Position finale wTilemapBuf85 (108)
+
+; === Seuils état joueur (pipes/transitions) ===
+
+DEF PLAYER_STATE_PIPE_THRESHOLD EQU $4c  ; Seuil état joueur pour sortie pipe (76)
+
+; === Constantes initialisation niveau (InitLevelData wLevelParam*) ===
+
+DEF LEVEL_PARAM_COPY_COLS       EQU $04   ; Nombre colonnes copie tilemap (4)
+DEF LEVEL_PARAM_COPY_ROWS       EQU $11   ; Nombre lignes copie tilemap (17)
+
+; === Adresses VRAM hautes (limites de boucle) ===
+
+DEF VRAM_COPY_LIMIT_HIGH       EQU $97   ; Octet haut limite copie VRAM ($9700)
+
+; === Tailles copie mémoire (State37/crédits) ===
+
+DEF TILEMAP_END_DATA_SIZE      EQU $18   ; Taille données tilemap fin (24 octets)
+DEF SPRITE_CONFIG_COPY_SIZE    EQU $05   ; Taille copie config sprite (5 octets)
+
+; === Valeurs scroll crédits/écran final ===
+
+DEF OAM_INDEX_FINAL_SETUP      EQU $21   ; Index OAM setup écran final (33)
+DEF SCROLL_COLUMN_FINAL        EQU $54   ; Colonne scroll écran final (84)
+
+; === Timers écran final ===
+
+DEF TIMER_CREDITS_SETUP        EQU $90   ; Timer setup crédits (144 frames)
+
+; === Adresses ROM tables données (écran final) ===
+; Tables de configuration sprites pour écran final ($1376-$1384)
+
+DEF ROM_SPRITE_END_DATA_1      EQU $1376 ; Table config sprite joueur final
+DEF ROM_SPRITE_END_DATA_2      EQU $137b ; Table config sprite objet 2 final
+DEF ROM_SPRITE_END_DATA_3      EQU $1380 ; Table config sprite objet 3 final
+DEF ROM_TILEMAP_END_DATA       EQU $14bb ; Table données tilemap écran final
+DEF ROM_TEXT_GAME_OVER         EQU $1cce ; Données texte "GAME OVER" (17 octets)
+DEF TEXT_GAME_OVER_SIZE        EQU $11   ; Taille texte Game Over (17 octets)
+DEF TEXT_WINDOW_DATA_SIZE      EQU $09   ; Taille données window (9 octets)
+
+; === Collision - Offsets et ajustements ===
+
+DEF COLLISION_OFFSET_4         EQU $04   ; Offset collision 4 pixels
+DEF COLLISION_OFFSET_8         EQU $08   ; Offset collision 8 pixels
+DEF PLAYER_X_SUB_OFFSET        EQU $0b   ; Offset soustrait de X joueur (11 pixels)
+
+; === États joueur (wPlayerUnk07) ===
+
+DEF PLAYER_UNK07_GROUNDED      EQU $01   ; Joueur au sol
+DEF PLAYER_UNK07_FALLING       EQU $02   ; Joueur en chute
+
+; === Valeurs OAM sprites ===
+
+DEF OAM_SPRITE_TILE_81         EQU $81   ; Tile sprite effet spécial
+DEF OAM_SPRITE_TILE_82         EQU $82   ; Tile sprite eau/effet
+
+; === Constantes de boucle/compteur ===
+
+DEF INIT_OBJECTS_LOOP_COUNT    EQU $04   ; Nombre d'objets à initialiser (4)
+DEF OBJECT_STRUCT_SIZE         EQU $10   ; Taille structure objet (16 octets)
+DEF OBJECT_OFFSET_00           EQU $00   ; Offset +0 dans structure objet (état/ID)
+DEF OBJECT_OFFSET_04           EQU $04   ; Offset +4 dans structure objet
+DEF OBJECT_OFFSET_09           EQU $09   ; Offset +9 dans structure objet (flag état)
+DEF OBJECT_OFFSET_0B           EQU $0B   ; Offset +11 dans structure objet
+DEF OBJECT_INIT_X_OFFSET       EQU $f3   ; Offset X pour init objets (-13 en signé)
+DEF OBJECT_INIT_Y_OFFSET       EQU $02   ; Offset Y pour init objets (+2)
+
+; === Valeurs wStateBuffer ===
+
+DEF STATE_BUFFER_DEFAULT       EQU $07   ; Valeur par défaut wStateBuffer
+
+; === IDs Sons (pour PlaySound) ===
+
+DEF SFX_OBJECT_COMPLETE        EQU $27   ; Son fin traitement objets
+DEF SFX_BLOCK_HIT              EQU $28   ; Son collision bloc
+DEF SFX_BLOCK_HIT_ALT          EQU $2d   ; Son collision bloc alternatif
+
+; === Collision pieds/tête joueur ===
+
+DEF FEET_COLLISION_OFFSET_Y    EQU $fd   ; Offset Y pieds joueur (-3)
+DEF FEET_COLLISION_ADJUST_X    EQU $02   ; Ajustement X pieds joueur (+2)
+DEF COLLISION_ADJUST_X_NEG4    EQU $fc   ; Ajustement X collision (-4)
+DEF PIPE_OFFSET_Y              EQU $18   ; Offset Y calcul pipe (+24)
+DEF TILE_ALIGN_OFFSET          EQU $06   ; Offset alignement tile
+
+; === Flags joueur (wPlayerFlag) ===
+
+DEF PLAYER_FLAG_PIPE_MODE      EQU $80   ; Flag mode pipe/transition
+
+; === Valeurs OAM sprite ===
+
+DEF OAM_SPRITE_HIDDEN          EQU $80   ; Y position cachée (hors écran)
+
+; === Compteurs de boucle (clear/init) ===
+
+DEF OAM_CLEAR_LOOP_COUNT       EQU $0b   ; Compteur clear OAM (11 octets)
+DEF OAM_CLEAR_LOOP_COUNT_F     EQU $0f   ; Compteur clear OAM (15 octets)
+DEF OAM_VAR_BUFFER_SIZE        EQU $34   ; Taille buffer OAM variables (52 octets)
+
+; === États objets (wObject*) ===
+
+DEF OBJECT_STATE_INACTIVE      EQU $0b   ; État objet inactif/désactivé
+
+; === Valeurs d'état (wStateFinal) ===
+
+DEF STATE_FINAL_COMPLETE       EQU $02   ; État final: transition complète
+
+; === Offsets mouvement/ajustement ===
+
+DEF MOVEMENT_OFFSET_4          EQU $04   ; Offset mouvement (4 pixels)
+
+; === Tables ROM Audio/Objets ===
+; Note: ROM_OBJECT_SOUND_TABLE est défini comme label dans bank_000.asm ($317d)
+
+; === Valeurs de retour spéciales ===
+
+DEF RETURN_COLLISION_FOUND     EQU $ff   ; Collision détectée (retour fonction)
+DEF RETURN_ANIM_CONTINUE       EQU $fe   ; Animation en cours (retour fonction)
+
+; === Seuils animation objets ===
+
+DEF ANIM_COUNTER_TRIGGER_50    EQU $32   ; Seuil déclencheur animation (50)
+DEF ANIM_COUNTER_TRIGGER_8     EQU $08   ; Seuil déclencheur animation (8)
+DEF ANIM_COUNTER_TRIGGER_26    EQU $1a   ; Seuil déclencheur animation (26)
+DEF ANIM_COUNTER_TRIGGER_97    EQU $61   ; Seuil déclencheur animation (97)
+DEF ANIM_COUNTER_TRIGGER_96    EQU $60   ; Seuil déclencheur animation (96)
+
+; === Offset structure objet ===
+
+DEF OBJ_FIELD_ANIM_COUNTER     EQU $0c   ; Offset vers compteur animation (12 octets)
+
+; === Tiles niveau/eau ===
+
+DEF TILE_WATER_REPLACED        EQU $7f   ; Tile après destruction bloc eau
+DEF BLOCK_STATE_EMPTY          EQU $03   ; État bloc après collecte pièce
+
+; === State Render (mode rendu) ===
+
+DEF STATE_RENDER_GAME_OVER     EQU $10   ; Mode rendu écran Game Over (16)
+
+; === Configuration max ===
+
+DEF CONFIG_VALUE_MAX           EQU $0a   ; Valeur max configuration (10)
+DEF CONFIG_VALUE_CLAMP         EQU $09   ; Valeur clamped configuration (9)
+
+; === Tilemap ===
+
+DEF TILEMAP_DEFAULT_COUNT      EQU $10   ; Nombre tiles par défaut (16)
+
+; === Scroll position ===
+
+DEF SCROLL_THRESHOLD_OSCIL     EQU $50   ; Seuil scroll pour oscillation (80)
+
+; === Seuils tiles collision ===
+; Valeurs utilisées pour classifier les tiles lors des vérifications de collision
+
+DEF TILE_SPECIAL_THRESHOLD     EQU $f0   ; Seuil tiles spéciaux (>= $F0 = vide/traversable)
+
+; === Configuration collision latérale (CheckPlayerSideCollision) ===
+; Ces valeurs configurent la détection de collision sur les côtés du joueur
+; Format combiné pour ld de: D (octet haut) = offset Y, E (octet bas) = compteur
+
+DEF COLLISION_SIDE_CONFIG_1    EQU $0701 ; D=$07 offset Y, E=$01 (1 itération, mode normal)
+DEF COLLISION_SIDE_CONFIG_2    EQU $0702 ; D=$07 offset Y, E=$02 (2 itérations, mode pipe)
+DEF COLLISION_SIDE_X_NEG       EQU $fa   ; Offset X négatif collision (-6)
+DEF COLLISION_SIDE_X_POS       EQU $06   ; Offset X positif collision (+6)
+DEF COLLISION_LOOP_RESET       EQU $fc   ; Reset offset Y boucle collision (-4)
+
+; === Animation crédits (UpdateCreditsStars) ===
+; Constantes pour l'animation des étoiles pendant les crédits
+
+DEF CREDITS_STAR_COUNT         EQU $03   ; Nombre d'étoiles à animer (3)
+DEF CREDITS_ANIM_LOW_THRESH    EQU $01   ; Seuil bas animation (1)
+DEF CREDITS_ANIM_RESET         EQU $fe   ; Valeur reset animation (254)
+DEF CREDITS_ANIM_HIGH_THRESH   EQU $e0   ; Seuil haut animation (224)
+DEF CREDITS_POS_RANDOM_THRESH  EQU $68   ; Seuil position aléatoire (104)
+
+; === Tables ROM monde (SearchByteLoop) ===
+
+DEF ROM_WORLD_TILE_TABLE       EQU $1a8a ; Table tiles par monde
+DEF TABLE_END_MARKER           EQU $fd   ; Marqueur fin de table
+DEF TILE_COMMON_SPECIAL        EQU $7c   ; Tile spécial commun à tous les mondes
+
+; === Constantes mouvement joueur ===
+; Utilisées dans ProcessAnimationState pour gérer l'accélération/décélération
+
+DEF PLAYER_ACCEL_COUNTER_MAX   EQU $06   ; Compteur max accélération mouvement (6 étapes)
+DEF PLAYER_STATE_DEAD          EQU $00   ; État joueur mort (déclenche reset jeu)
+DEF PLAYER_STATE_ALIVE_MIN     EQU $01   ; État joueur vivant minimum (< ce seuil = mort)
+DEF PLAYER_STATE_CRITICAL      EQU $f0   ; Seuil état critique (>= déclenche reset jeu)
+DEF PLAYER_STATE_OSCIL_THRESH  EQU $0f   ; Seuil état joueur pour oscillation ($0F = 15)
+DEF PLAYER_STATE_MIN           EQU $10   ; État joueur minimum (16, bloque mouvement gauche)
+DEF PLAYER_STATE_MAX           EQU $a0   ; État joueur maximum (160, bloque mouvement droite)
+DEF PLAYER_DIR_CHECK_LEFT      EQU $20   ; Valeur wPlayerUnk0D = direction gauche confirmée
+DEF PLAYER_ACCEL_TIMER_LEFT    EQU $10   ; Timer accélération mouvement gauche (16 frames)
+DEF PLAYER_ACCEL_TIMER_RIGHT   EQU $20   ; Timer accélération mouvement droite (32 frames)
+
+; === États de menu wPlayerUnk0C ===
+DEF MENU_STATE_IDLE            EQU $20   ; État menu idle (32 frames)
+DEF MENU_STATE_ACTIVE          EQU $30   ; État menu actif après appui A (48 frames)
+
+; === Audio slots ===
+
+DEF AUDIO_SLOT_LOOP_COUNT      EQU $0a   ; Nombre de slots audio à traiter (10)
+
+; === Valeurs d'initialisation paramètres niveau (InitLevelData) ===
+; Ces constantes définissent les valeurs initiales pour wLevelData ($DA00-$DA29)
+
+DEF LEVEL_PARAM_INIT_20        EQU $20   ; Valeur init paramètres niveau (32)
+DEF LEVEL_PARAM_INIT_F6        EQU $f6   ; Valeur init paramètres niveau (-10)
+DEF LEVEL_PARAM_INIT_30        EQU $30   ; Valeur init paramètres niveau (48)
+DEF LEVEL_PARAM_INIT_02        EQU $02   ; Difficulté initiale niveau (2)
+DEF LEVEL_PARAM_INIT_40        EQU $40   ; Timer/compteur niveau initial (64)
+DEF LEVEL_PARAM_LOOP_9         EQU $09   ; Boucle init 9 octets
+DEF LEVEL_PARAM_LOOP_8         EQU $08   ; Boucle init 8 octets
+
+; === Valeur wStateRender (State12_EndLevelSetup) ===
+
+DEF STATE_RENDER_END_SETUP     EQU $09   ; Mode rendu fin de niveau setup
+
+; === Limites position Y sprites (collision/animation) ===
+; Utilisés pour les calculs de mouvement vertical des sprites
+
+DEF SPRITE_Y_LIMIT_MAX         EQU $a2   ; Limite Y max sprite montant (162 pixels)
+DEF SPRITE_Y_LIMIT_UPPER       EQU $a8   ; Limite Y haute sprite descendant (168 pixels)
+DEF SPRITE_Y_LIMIT_MIN         EQU $10   ; Limite Y min sprite (16 pixels = haut écran)
+DEF SPRITE_Y_LIMIT_LOW         EQU $04   ; Limite Y basse sprite (4 pixels)
+DEF PLAYER_X_MAX_LIMIT         EQU $94   ; Limite X max position joueur (148 pixels)
+
+; === Ajustements position sprite (IncrementY/DecrementY) ===
+
+DEF SPRITE_Y_ADJUST_3          EQU $03   ; Ajustement Y sprite +3 pixels
+DEF SPRITE_Y_ADJUST_4          EQU $04   ; Ajustement Y sprite +4 pixels
+
+; === Offsets collision bounding box ===
+; Utilisés pour calculer les coins de la hitbox lors des tests de collision
+
+DEF COLLISION_OFFSET_3         EQU $03   ; Offset collision 3 pixels (centre)
+DEF COLLISION_OFFSET_5         EQU $05   ; Offset collision 5 pixels (coin)
+
+; === Offsets position pipe/transition ===
+
+DEF PIPE_EXIT_X_OFFSET         EQU $12   ; Offset X sortie tuyau (18 pixels)
+DEF SCROLL_Y_CALC_OFFSET       EQU $0c   ; Offset calcul Y scroll (12 pixels)
+
+; === Audio - Bases de calcul position ===
+
+DEF AUDIO_STATE_ENTRY_SIZE     EQU $03   ; Taille entrée table état audio (seuil+position+flags)
+DEF AUDIO_PARAM_BASE_Y         EQU $10   ; Base calcul Y audio (16 pixels)
+DEF AUDIO_PARAM_BASE_X         EQU $d0   ; Base calcul X audio (208 pixels)
diff --git a/tmp/game.asm.txt b/tmp/game.asm.txt
new file mode 100644
index 0000000..d17671e
--- /dev/null
+++ b/tmp/game.asm.txt
@@ -0,0 +1,7 @@
+INCLUDE "hardware.inc"
+INCLUDE "constants.inc"
+INCLUDE "macros.inc"
+INCLUDE "bank_000.asm"
+INCLUDE "bank_001.asm"
+INCLUDE "bank_002.asm"
+INCLUDE "bank_003.asm"
\ No newline at end of file
diff --git a/tmp/hardware.inc.txt b/tmp/hardware.inc.txt
new file mode 100644
index 0000000..874ba3c
--- /dev/null
+++ b/tmp/hardware.inc.txt
@@ -0,0 +1,1075 @@
+;*
+;* Gameboy Hardware definitions
+;*
+;* Based on Jones' hardware.inc
+;* And based on Carsten Sorensen's ideas.
+;*
+;* Rev 1.1 - 15-Jul-97 : Added define check
+;* Rev 1.2 - 18-Jul-97 : Added revision check macro
+;* Rev 1.3 - 19-Jul-97 : Modified for RGBASM V1.05
+;* Rev 1.4 - 27-Jul-97 : Modified for new subroutine prefixes
+;* Rev 1.5 - 15-Aug-97 : Added _HRAM, PAD, CART defines
+;*                     :  and Nintendo Logo
+;* Rev 1.6 - 30-Nov-97 : Added rDIV, rTIMA, rTMA, & rTAC
+;* Rev 1.7 - 31-Jan-98 : Added _SCRN0, _SCRN1
+;* Rev 1.8 - 15-Feb-98 : Added rSB, rSC
+;* Rev 1.9 - 16-Feb-98 : Converted I/O registers to $FFXX format
+;* Rev 2.0 -           : Added GBC registers
+;* Rev 2.1 -           : Added MBC5 & cart RAM enable/disable defines
+;* Rev 2.2 -           : Fixed NR42,NR43, & NR44 equates
+;* Rev 2.3 -           : Fixed incorrect _HRAM equate
+;* Rev 2.4 - 27-Apr-13 : Added some cart defines (AntonioND)
+;* Rev 2.5 - 03-May-15 : Fixed format (AntonioND)
+;* Rev 2.6 - 09-Apr-16 : Added GBC OAM and cart defines (AntonioND)
+;* Rev 2.7 - 19-Jan-19 : Added rPCMXX (ISSOtm)
+;* Rev 2.8 - 03-Feb-19 : Added audio registers flags (Álvaro Cuesta)
+;* Rev 2.9 - 28-Feb-20 : Added utility rP1 constants
+;* Rev 3.0 - 27-Aug-20 : Register ordering, byte-based sizes, OAM additions, general cleanup (Blitter Object)
+;* Rev 4.0 - 03-May-21 : Updated to use RGBDS 0.5.0 syntax, changed IEF_LCDC to IEF_STAT (Eievui)
+;* Rev 4.1 - 16-Aug-21 : Added more flags, bit number defines, and offset constants for OAM and window positions (rondnelson99)
+;* Rev 4.2 - 04-Sep-21 : Added CH3- and CH4-specific audio registers flags (ISSOtm)
+;* Rev 4.3 - 07-Nov-21 : Deprecate VRAM address constants (Eievui)
+;* Rev 4.4 - 11-Jan-22 : Deprecate VRAM CART_SRAM_2KB constant (avivace)
+;* Rev 4.5 - 03-Mar-22 : Added bit number definitions for OCPS, BCPS and LCDC (sukus)
+;* Rev 4.6 - 15-Jun-22 : Added MBC3 registers and special values
+;* Rev 4.7.0 - 27-Jun-22 : Added alternate names for some constants
+;* Rev 4.7.1 - 05-Jul-22 : Added RPB_LED_ON constant
+;* Rev 4.8.0 - 25-Oct-22 : Changed background addressing constants (zlago)
+
+
+; NOTE: REVISION NUMBER CHANGES MUST BE REFLECTED
+; IN `rev_Check_hardware_inc` BELOW!
+
+IF __RGBDS_MAJOR__ == 0 && __RGBDS_MINOR__ < 5
+    FAIL "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later."
+ENDC
+
+; If all of these are already defined, don't do it again.
+
+    IF !DEF(HARDWARE_INC)
+DEF HARDWARE_INC EQU 1
+
+; Usage: rev_Check_hardware_inc <min_ver>
+; Examples: rev_Check_hardware_inc 4.1.2
+;           rev_Check_hardware_inc 4.1 (equivalent to 4.1.0)
+;           rev_Check_hardware_inc 4 (equivalent to 4.0.0)
+MACRO rev_Check_hardware_inc
+    DEF CUR_VER equs "4,8,0"    ; ** UPDATE THIS LINE WHEN CHANGING THE REVISION NUMBER **
+
+    DEF MIN_VER equs STRRPL("\1", ".", ",")
+    DEF INTERNAL_CHK equs """MACRO ___internal
+    IF \\1 != \\4 || \\2 < \\5 || (\\2 == \\5 && \\3 < \\6)
+    	FAIL "Version \\1.\\2.\\3 of 'hardware.inc' is incompatible with requested version \\4.\\5.\\6"
+    ENDC
+\nENDM"""
+    INTERNAL_CHK
+    ___internal {CUR_VER}, {MIN_VER},0,0
+    PURGE CUR_VER, MIN_VER, INTERNAL_CHK, ___internal
+ENDM
+
+
+;***************************************************************************
+;*
+;* General memory region constants
+;*
+;***************************************************************************
+
+DEF _VRAM        EQU $8000 ; $8000->$9FFF
+DEF _SCRN0       EQU $9800 ; $9800->$9BFF
+DEF _SCRN1       EQU $9C00 ; $9C00->$9FFF
+DEF _SRAM        EQU $A000 ; $A000->$BFFF
+DEF _RAM         EQU $C000 ; $C000->$CFFF / $C000->$DFFF
+DEF _RAMBANK     EQU $D000 ; $D000->$DFFF
+DEF _OAMRAM      EQU $FE00 ; $FE00->$FE9F
+DEF _IO          EQU $FF00 ; $FF00->$FF7F,$FFFF
+DEF _AUD3WAVERAM EQU $FF30 ; $FF30->$FF3F
+DEF _HRAM        EQU $FF80 ; $FF80->$FFFE
+
+
+;***************************************************************************
+;*
+;* MBC registers
+;*
+;***************************************************************************
+
+; *** Common ***
+
+; --
+; -- RAMG ($0000-$1FFF)
+; -- Controls whether access to SRAM (and the MBC3 RTC registers) is allowed (W)
+; --
+DEF rRAMG EQU $0000
+
+DEF CART_SRAM_ENABLE  EQU $0A
+DEF CART_SRAM_DISABLE EQU $00
+
+
+; --
+; -- ROMB0 ($2000-$3FFF)
+; -- Selects which ROM bank is mapped to the ROMX space ($4000-$7FFF) (W)
+; --
+; -- The range of accepted values, as well as the behavior of writing $00,
+; -- varies depending on the MBC.
+; --
+DEF rROMB0 EQU $2000
+
+; --
+; -- RAMB ($4000-$5FFF)
+; -- Selects which SRAM bank is mapped to the SRAM space ($A000-$BFFF) (W)
+; --
+; -- The range of accepted values varies depending on the cartridge configuration.
+; --
+DEF rRAMB EQU $4000
+
+
+; *** MBC3-specific registers ***
+
+; Write one of these to rRAMG to map the corresponding RTC register to all SRAM space
+DEF RTC_S  EQU $08 ; Seconds  (0-59)
+DEF RTC_M  EQU $09 ; Minutes  (0-59)
+DEF RTC_H  EQU $0A ; Hours    (0-23)
+DEF RTC_DL EQU $0B ; Lower 8 bits of Day Counter ($00-$FF)
+DEF RTC_DH EQU $0C ; Bit 7 - Day Counter Carry Bit (1=Counter Overflow)
+                   ; Bit 6 - Halt (0=Active, 1=Stop Timer)
+                   ; Bit 0 - Most significant bit of Day Counter (Bit 8)
+
+
+; --
+; -- RTCLATCH ($6000-$7FFF)
+; -- Write $00 then $01 to latch the current time into the RTC registers (W)
+; --
+DEF rRTCLATCH EQU $6000
+
+
+; *** MBC5-specific register ***
+
+; --
+; -- ROMB1 ($3000-$3FFF)
+; -- A 9th bit that "extends" ROMB0 if more than 256 banks are present (W)
+; --
+; -- Also note that rROMB0 thus only spans $2000-$2FFF.
+; --
+DEF rROMB1 EQU $3000
+
+
+; Bit 3 of RAMB enables the rumble motor (if any)
+DEF CART_RUMBLE_ON EQU 1 << 3
+
+
+;***************************************************************************
+;*
+;* Memory-mapped registers
+;*
+;***************************************************************************
+
+; --
+; -- P1 ($FF00)
+; -- Register for reading joy pad info. (R/W)
+; --
+DEF rP1 EQU $FF00
+
+DEF P1F_5 EQU %00100000 ; P15 out port, set to 0 to get buttons
+DEF P1F_4 EQU %00010000 ; P14 out port, set to 0 to get dpad
+DEF P1F_3 EQU %00001000 ; P13 in port
+DEF P1F_2 EQU %00000100 ; P12 in port
+DEF P1F_1 EQU %00000010 ; P11 in port
+DEF P1F_0 EQU %00000001 ; P10 in port
+
+DEF P1F_GET_DPAD EQU P1F_5
+DEF P1F_GET_BTN  EQU P1F_4
+DEF P1F_GET_NONE EQU P1F_4 | P1F_5
+
+
+; --
+; -- SB ($FF01)
+; -- Serial Transfer Data (R/W)
+; --
+DEF rSB EQU $FF01
+
+
+; --
+; -- SC ($FF02)
+; -- Serial I/O Control (R/W)
+; --
+DEF rSC EQU $FF02
+
+DEF SCF_START  EQU %10000000 ; Transfer Start Flag (1=Transfer in progress, or requested)
+DEF SCF_SPEED  EQU %00000010 ; Clock Speed (0=Normal, 1=Fast) ** CGB Mode Only **
+DEF SCF_SOURCE EQU %00000001 ; Shift Clock (0=External Clock, 1=Internal Clock)
+
+DEF SCB_START  EQU 7
+DEF SCB_SPEED  EQU 1
+DEF SCB_SOURCE EQU 0
+
+; --
+; -- DIV ($FF04)
+; -- Divider register (R/W)
+; --
+DEF rDIV EQU $FF04
+
+
+; --
+; -- TIMA ($FF05)
+; -- Timer counter (R/W)
+; --
+DEF rTIMA EQU $FF05
+
+
+; --
+; -- TMA ($FF06)
+; -- Timer modulo (R/W)
+; --
+DEF rTMA EQU $FF06
+
+
+; --
+; -- TAC ($FF07)
+; -- Timer control (R/W)
+; --
+DEF rTAC EQU $FF07
+
+DEF TACF_START  EQU %00000100
+DEF TACF_STOP   EQU %00000000
+DEF TACF_4KHZ   EQU %00000000
+DEF TACF_16KHZ  EQU %00000011
+DEF TACF_65KHZ  EQU %00000010
+DEF TACF_262KHZ EQU %00000001
+
+DEF TACB_START  EQU 2
+
+
+; --
+; -- IF ($FF0F)
+; -- Interrupt Flag (R/W)
+; --
+DEF rIF EQU $FF0F
+
+
+; --
+; -- AUD1SWEEP/NR10 ($FF10)
+; -- Sweep register (R/W)
+; --
+; -- Bit 6-4 - Sweep Time
+; -- Bit 3   - Sweep Increase/Decrease
+; --           0: Addition    (frequency increases???)
+; --           1: Subtraction (frequency increases???)
+; -- Bit 2-0 - Number of sweep shift (# 0-7)
+; -- Sweep Time: (n*7.8ms)
+; --
+DEF rNR10 EQU $FF10
+DEF rAUD1SWEEP EQU rNR10
+
+DEF AUD1SWEEP_UP   EQU %00000000
+DEF AUD1SWEEP_DOWN EQU %00001000
+
+
+; --
+; -- AUD1LEN/NR11 ($FF11)
+; -- Sound length/Wave pattern duty (R/W)
+; --
+; -- Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)
+; -- Bit 5-0 - Sound length data (# 0-63)
+; --
+DEF rNR11 EQU $FF11
+DEF rAUD1LEN EQU rNR11
+
+
+; --
+; -- AUD1ENV/NR12 ($FF12)
+; -- Envelope (R/W)
+; --
+; -- Bit 7-4 - Initial value of envelope
+; -- Bit 3   - Envelope UP/DOWN
+; --           0: Decrease
+; --           1: Range of increase
+; -- Bit 2-0 - Number of envelope sweep (# 0-7)
+; --
+DEF rNR12 EQU $FF12
+DEF rAUD1ENV EQU rNR12
+
+
+; --
+; -- AUD1LOW/NR13 ($FF13)
+; -- Frequency low byte (W)
+; --
+DEF rNR13 EQU $FF13
+DEF rAUD1LOW EQU rNR13
+
+
+; --
+; -- AUD1HIGH/NR14 ($FF14)
+; -- Frequency high byte (W)
+; --
+; -- Bit 7   - Initial (when set, sound restarts)
+; -- Bit 6   - Counter/consecutive selection
+; -- Bit 2-0 - Frequency's higher 3 bits
+; --
+DEF rNR14 EQU $FF14
+DEF rAUD1HIGH EQU rNR14
+
+
+; --
+; -- AUD2LEN/NR21 ($FF16)
+; -- Sound Length; Wave Pattern Duty (R/W)
+; --
+; -- see AUD1LEN for info
+; --
+DEF rNR21 EQU $FF16
+DEF rAUD2LEN EQU rNR21
+
+
+; --
+; -- AUD2ENV/NR22 ($FF17)
+; -- Envelope (R/W)
+; --
+; -- see AUD1ENV for info
+; --
+DEF rNR22 EQU $FF17
+DEF rAUD2ENV EQU rNR22
+
+
+; --
+; -- AUD2LOW/NR23 ($FF18)
+; -- Frequency low byte (W)
+; --
+DEF rNR23 EQU $FF18
+DEF rAUD2LOW EQU rNR23
+
+
+; --
+; -- AUD2HIGH/NR24 ($FF19)
+; -- Frequency high byte (W)
+; --
+; -- see AUD1HIGH for info
+; --
+DEF rNR24 EQU $FF19
+DEF rAUD2HIGH EQU rNR24
+
+
+; --
+; -- AUD3ENA/NR30 ($FF1A)
+; -- Sound on/off (R/W)
+; --
+; -- Bit 7   - Sound ON/OFF (1=ON,0=OFF)
+; --
+DEF rNR30 EQU $FF1A
+DEF rAUD3ENA EQU rNR30
+
+DEF AUD3ENA_OFF EQU %00000000
+DEF AUD3ENA_ON  EQU %10000000
+
+
+; --
+; -- AUD3LEN/NR31 ($FF1B)
+; -- Sound length (R/W)
+; --
+; -- Bit 7-0 - Sound length
+; --
+DEF rNR31 EQU $FF1B
+DEF rAUD3LEN EQU rNR31
+
+
+; --
+; -- AUD3LEVEL/NR32 ($FF1C)
+; -- Select output level
+; --
+; -- Bit 6-5 - Select output level
+; --           00: 0/1 (mute)
+; --           01: 1/1
+; --           10: 1/2
+; --           11: 1/4
+; --
+DEF rNR32 EQU $FF1C
+DEF rAUD3LEVEL EQU rNR32
+
+DEF AUD3LEVEL_MUTE EQU %00000000
+DEF AUD3LEVEL_100  EQU %00100000
+DEF AUD3LEVEL_50   EQU %01000000
+DEF AUD3LEVEL_25   EQU %01100000
+
+
+; --
+; -- AUD3LOW/NR33 ($FF1D)
+; -- Frequency low byte (W)
+; --
+; -- see AUD1LOW for info
+; --
+DEF rNR33 EQU $FF1D
+DEF rAUD3LOW EQU rNR33
+
+
+; --
+; -- AUD3HIGH/NR34 ($FF1E)
+; -- Frequency high byte (W)
+; --
+; -- see AUD1HIGH for info
+; --
+DEF rNR34 EQU $FF1E
+DEF rAUD3HIGH EQU rNR34
+
+
+; --
+; -- AUD4LEN/NR41 ($FF20)
+; -- Sound length (R/W)
+; --
+; -- Bit 5-0 - Sound length data (# 0-63)
+; --
+DEF rNR41 EQU $FF20
+DEF rAUD4LEN EQU rNR41
+
+
+; --
+; -- AUD4ENV/NR42 ($FF21)
+; -- Envelope (R/W)
+; --
+; -- see AUD1ENV for info
+; --
+DEF rNR42 EQU $FF21
+DEF rAUD4ENV EQU rNR42
+
+
+; --
+; -- AUD4POLY/NR43 ($FF22)
+; -- Polynomial counter (R/W)
+; --
+; -- Bit 7-4 - Selection of the shift clock frequency of the (scf)
+; --           polynomial counter (0000-1101)
+; --           freq=drf*1/2^scf (not sure)
+; -- Bit 3 -   Selection of the polynomial counter's step
+; --           0: 15 steps
+; --           1: 7 steps
+; -- Bit 2-0 - Selection of the dividing ratio of frequencies (drf)
+; --           000: f/4   001: f/8   010: f/16  011: f/24
+; --           100: f/32  101: f/40  110: f/48  111: f/56  (f=4.194304 Mhz)
+; --
+DEF rNR43 EQU $FF22
+DEF rAUD4POLY EQU rNR43
+
+DEF AUD4POLY_15STEP EQU %00000000
+DEF AUD4POLY_7STEP  EQU %00001000
+
+
+; --
+; -- AUD4GO/NR44 ($FF23)
+; --
+; -- Bit 7 -   Initial (when set, sound restarts)
+; -- Bit 6 -   Counter/consecutive selection
+; --
+DEF rNR44 EQU $FF23
+DEF rAUD4GO EQU rNR44
+
+
+; --
+; -- AUDVOL/NR50 ($FF24)
+; -- Channel control / ON-OFF / Volume (R/W)
+; --
+; -- Bit 7   - Vin->SO2 ON/OFF (left)
+; -- Bit 6-4 - SO2 output level (left speaker) (# 0-7)
+; -- Bit 3   - Vin->SO1 ON/OFF (right)
+; -- Bit 2-0 - SO1 output level (right speaker) (# 0-7)
+; --
+DEF rNR50 EQU $FF24
+DEF rAUDVOL EQU rNR50
+
+DEF AUDVOL_VIN_LEFT  EQU %10000000 ; SO2
+DEF AUDVOL_VIN_RIGHT EQU %00001000 ; SO1
+
+
+; --
+; -- AUDTERM/NR51 ($FF25)
+; -- Selection of Sound output terminal (R/W)
+; --
+; -- Bit 7   - Output channel 4 to SO2 terminal (left)
+; -- Bit 6   - Output channel 3 to SO2 terminal (left)
+; -- Bit 5   - Output channel 2 to SO2 terminal (left)
+; -- Bit 4   - Output channel 1 to SO2 terminal (left)
+; -- Bit 3   - Output channel 4 to SO1 terminal (right)
+; -- Bit 2   - Output channel 3 to SO1 terminal (right)
+; -- Bit 1   - Output channel 2 to SO1 terminal (right)
+; -- Bit 0   - Output channel 1 to SO1 terminal (right)
+; --
+DEF rNR51 EQU $FF25
+DEF rAUDTERM EQU rNR51
+
+; SO2
+DEF AUDTERM_4_LEFT  EQU %10000000
+DEF AUDTERM_3_LEFT  EQU %01000000
+DEF AUDTERM_2_LEFT  EQU %00100000
+DEF AUDTERM_1_LEFT  EQU %00010000
+; SO1
+DEF AUDTERM_4_RIGHT EQU %00001000
+DEF AUDTERM_3_RIGHT EQU %00000100
+DEF AUDTERM_2_RIGHT EQU %00000010
+DEF AUDTERM_1_RIGHT EQU %00000001
+
+
+; --
+; -- AUDENA/NR52 ($FF26)
+; -- Sound on/off (R/W)
+; --
+; -- Bit 7   - All sound on/off (sets all audio regs to 0!)
+; -- Bit 3   - Sound 4 ON flag (read only)
+; -- Bit 2   - Sound 3 ON flag (read only)
+; -- Bit 1   - Sound 2 ON flag (read only)
+; -- Bit 0   - Sound 1 ON flag (read only)
+; --
+DEF rNR52 EQU $FF26
+DEF rAUDENA EQU rNR52
+
+DEF AUDENA_ON    EQU %10000000
+DEF AUDENA_OFF   EQU %00000000  ; sets all audio regs to 0!
+
+
+; --
+; -- LCDC ($FF40)
+; -- LCD Control (R/W)
+; --
+DEF rLCDC EQU $FF40
+
+DEF LCDCF_OFF     EQU %00000000 ; LCD Control Operation
+DEF LCDCF_ON      EQU %10000000 ; LCD Control Operation
+DEF LCDCF_WIN9800 EQU %00000000 ; Window Tile Map Display Select
+DEF LCDCF_WIN9C00 EQU %01000000 ; Window Tile Map Display Select
+DEF LCDCF_WINOFF  EQU %00000000 ; Window Display
+DEF LCDCF_WINON   EQU %00100000 ; Window Display
+DEF LCDCF_BLK21   EQU %00000000 ; BG & Window Tile Data Select
+DEF LCDCF_BLK01   EQU %00010000 ; BG & Window Tile Data Select
+DEF LCDCF_BG9800  EQU %00000000 ; BG Tile Map Display Select
+DEF LCDCF_BG9C00  EQU %00001000 ; BG Tile Map Display Select
+DEF LCDCF_OBJ8    EQU %00000000 ; OBJ Construction
+DEF LCDCF_OBJ16   EQU %00000100 ; OBJ Construction
+DEF LCDCF_OBJOFF  EQU %00000000 ; OBJ Display
+DEF LCDCF_OBJON   EQU %00000010 ; OBJ Display
+DEF LCDCF_BGOFF   EQU %00000000 ; BG Display
+DEF LCDCF_BGON    EQU %00000001 ; BG Display
+
+DEF LCDCB_ON      EQU 7 ; LCD Control Operation
+DEF LCDCB_WIN9C00 EQU 6 ; Window Tile Map Display Select
+DEF LCDCB_WINON   EQU 5 ; Window Display
+DEF LCDCB_BLKS    EQU 4 ; BG & Window Tile Data Select
+DEF LCDCB_BG9C00  EQU 3 ; BG Tile Map Display Select
+DEF LCDCB_OBJ16   EQU 2 ; OBJ Construction
+DEF LCDCB_OBJON   EQU 1 ; OBJ Display
+DEF LCDCB_BGON    EQU 0 ; BG Display
+; "Window Character Data Select" follows BG
+
+
+; --
+; -- STAT ($FF41)
+; -- LCDC Status   (R/W)
+; --
+DEF rSTAT EQU $FF41
+
+DEF STATF_LYC     EQU  %01000000 ; LYC=LY Coincidence (Selectable)
+DEF STATF_MODE10  EQU  %00100000 ; Mode 10
+DEF STATF_MODE01  EQU  %00010000 ; Mode 01 (V-Blank)
+DEF STATF_MODE00  EQU  %00001000 ; Mode 00 (H-Blank)
+DEF STATF_LYCF    EQU  %00000100 ; Coincidence Flag
+DEF STATF_HBL     EQU  %00000000 ; H-Blank
+DEF STATF_VBL     EQU  %00000001 ; V-Blank
+DEF STATF_OAM     EQU  %00000010 ; OAM-RAM is used by system
+DEF STATF_LCD     EQU  %00000011 ; Both OAM and VRAM used by system
+DEF STATF_BUSY    EQU  %00000010 ; When set, VRAM access is unsafe
+
+DEF STATB_LYC     EQU  6
+DEF STATB_MODE10  EQU  5
+DEF STATB_MODE01  EQU  4
+DEF STATB_MODE00  EQU  3
+DEF STATB_LYCF    EQU  2
+DEF STATB_BUSY    EQU  1
+
+; --
+; -- SCY ($FF42)
+; -- Scroll Y (R/W)
+; --
+DEF rSCY EQU $FF42
+
+
+; --
+; -- SCX ($FF43)
+; -- Scroll X (R/W)
+; --
+DEF rSCX EQU $FF43
+
+
+; --
+; -- LY ($FF44)
+; -- LCDC Y-Coordinate (R)
+; --
+; -- Values range from 0->153. 144->153 is the VBlank period.
+; --
+DEF rLY EQU $FF44
+
+
+; --
+; -- LYC ($FF45)
+; -- LY Compare (R/W)
+; --
+; -- When LY==LYC, STATF_LYCF will be set in STAT
+; --
+DEF rLYC EQU $FF45
+
+
+; --
+; -- DMA ($FF46)
+; -- DMA Transfer and Start Address (W)
+; --
+DEF rDMA EQU $FF46
+
+
+; --
+; -- BGP ($FF47)
+; -- BG Palette Data (W)
+; --
+; -- Bit 7-6 - Intensity for %11
+; -- Bit 5-4 - Intensity for %10
+; -- Bit 3-2 - Intensity for %01
+; -- Bit 1-0 - Intensity for %00
+; --
+DEF rBGP EQU $FF47
+
+
+; --
+; -- OBP0 ($FF48)
+; -- Object Palette 0 Data (W)
+; --
+; -- See BGP for info
+; --
+DEF rOBP0 EQU $FF48
+
+
+; --
+; -- OBP1 ($FF49)
+; -- Object Palette 1 Data (W)
+; --
+; -- See BGP for info
+; --
+DEF rOBP1 EQU $FF49
+
+
+; --
+; -- WY ($FF4A)
+; -- Window Y Position (R/W)
+; --
+; -- 0 <= WY <= 143
+; -- When WY = 0, the window is displayed from the top edge of the LCD screen.
+; --
+DEF rWY EQU $FF4A
+
+
+; --
+; -- WX ($FF4B)
+; -- Window X Position (R/W)
+; --
+; -- 7 <= WX <= 166
+; -- When WX = 7, the window is displayed from the left edge of the LCD screen.
+; -- Values of 0-6 and 166 are unreliable due to hardware bugs.
+; --
+DEF rWX EQU $FF4B
+
+DEF WX_OFS EQU 7 ; add this to a screen position to get a WX position
+
+
+; --
+; -- SPEED ($FF4D)
+; -- Select CPU Speed (R/W)
+; --
+DEF rKEY1 EQU $FF4D
+DEF rSPD  EQU rKEY1
+
+DEF KEY1F_DBLSPEED EQU %10000000 ; 0=Normal Speed, 1=Double Speed (R)
+DEF KEY1F_PREPARE  EQU %00000001 ; 0=No, 1=Prepare (R/W)
+
+
+; --
+; -- VBK ($FF4F)
+; -- Select Video RAM Bank (R/W)
+; --
+; -- Bit 0 - Bank Specification (0: Specify Bank 0; 1: Specify Bank 1)
+; --
+DEF rVBK EQU $FF4F
+
+
+; --
+; -- HDMA1 ($FF51)
+; -- High byte for Horizontal Blanking/General Purpose DMA source address (W)
+; -- CGB Mode Only
+; --
+DEF rHDMA1 EQU $FF51
+
+
+; --
+; -- HDMA2 ($FF52)
+; -- Low byte for Horizontal Blanking/General Purpose DMA source address (W)
+; -- CGB Mode Only
+; --
+DEF rHDMA2 EQU $FF52
+
+
+; --
+; -- HDMA3 ($FF53)
+; -- High byte for Horizontal Blanking/General Purpose DMA destination address (W)
+; -- CGB Mode Only
+; --
+DEF rHDMA3 EQU $FF53
+
+
+; --
+; -- HDMA4 ($FF54)
+; -- Low byte for Horizontal Blanking/General Purpose DMA destination address (W)
+; -- CGB Mode Only
+; --
+DEF rHDMA4 EQU $FF54
+
+
+; --
+; -- HDMA5 ($FF55)
+; -- Transfer length (in tiles minus 1)/mode/start for Horizontal Blanking, General Purpose DMA (R/W)
+; -- CGB Mode Only
+; --
+DEF rHDMA5 EQU $FF55
+
+DEF HDMA5F_MODE_GP  EQU %00000000 ; General Purpose DMA (W)
+DEF HDMA5F_MODE_HBL EQU %10000000 ; HBlank DMA (W)
+DEF HDMA5B_MODE EQU 7 ; DMA mode select (W)
+
+; -- Once DMA has started, use HDMA5F_BUSY to check when the transfer is complete
+DEF HDMA5F_BUSY EQU %10000000 ; 0=Busy (DMA still in progress), 1=Transfer complete (R)
+
+
+; --
+; -- RP ($FF56)
+; -- Infrared Communications Port (R/W)
+; -- CGB Mode Only
+; --
+DEF rRP EQU $FF56
+
+DEF RPF_ENREAD   EQU %11000000
+DEF RPF_DATAIN   EQU %00000010 ; 0=Receiving IR Signal, 1=Normal
+DEF RPF_WRITE_HI EQU %00000001
+DEF RPF_WRITE_LO EQU %00000000
+
+DEF RPB_LED_ON   EQU 0
+DEF RPB_DATAIN   EQU 1
+
+
+; --
+; -- BCPS/BGPI ($FF68)
+; -- Background Color Palette Specification (aka Background Palette Index) (R/W)
+; --
+DEF rBCPS EQU $FF68
+DEF rBGPI EQU rBCPS
+
+DEF BCPSF_AUTOINC EQU %10000000 ; Auto Increment (0=Disabled, 1=Increment after Writing)
+DEF BCPSB_AUTOINC EQU 7
+DEF BGPIF_AUTOINC EQU BCPSF_AUTOINC
+DEF BGPIB_AUTOINC EQU BCPSB_AUTOINC
+
+
+; --
+; -- BCPD/BGPD ($FF69)
+; -- Background Color Palette Data (aka Background Palette Data) (R/W)
+; --
+DEF rBCPD EQU $FF69
+DEF rBGPD EQU rBCPD
+
+
+; --
+; -- OCPS/OBPI ($FF6A)
+; -- Object Color Palette Specification (aka Object Background Palette Index) (R/W)
+; --
+DEF rOCPS EQU $FF6A
+DEF rOBPI EQU rOCPS
+
+DEF OCPSF_AUTOINC EQU %10000000 ; Auto Increment (0=Disabled, 1=Increment after Writing)
+DEF OCPSB_AUTOINC EQU 7
+DEF OBPIF_AUTOINC EQU OCPSF_AUTOINC
+DEF OBPIB_AUTOINC EQU OCPSB_AUTOINC
+
+
+; --
+; -- OCPD/OBPD ($FF6B)
+; -- Object Color Palette Data (aka Object Background Palette Data) (R/W)
+; --
+DEF rOCPD EQU $FF6B
+DEF rOBPD EQU rOCPD
+
+
+; --
+; -- SMBK/SVBK ($FF70)
+; -- Select Main RAM Bank (R/W)
+; --
+; -- Bit 2-0 - Bank Specification (0,1: Specify Bank 1; 2-7: Specify Banks 2-7)
+; --
+DEF rSVBK EQU $FF70
+DEF rSMBK EQU rSVBK
+
+
+; --
+; -- PCM12 ($FF76)
+; -- Sound channel 1&2 PCM amplitude (R)
+; --
+; -- Bit 7-4 - Copy of sound channel 2's PCM amplitude
+; -- Bit 3-0 - Copy of sound channel 1's PCM amplitude
+; --
+DEF rPCM12 EQU $FF76
+
+
+; --
+; -- PCM34 ($FF77)
+; -- Sound channel 3&4 PCM amplitude (R)
+; --
+; -- Bit 7-4 - Copy of sound channel 4's PCM amplitude
+; -- Bit 3-0 - Copy of sound channel 3's PCM amplitude
+; --
+DEF rPCM34 EQU $FF77
+
+
+; --
+; -- IE ($FFFF)
+; -- Interrupt Enable (R/W)
+; --
+DEF rIE EQU $FFFF
+
+DEF IEF_HILO   EQU %00010000 ; Transition from High to Low of Pin number P10-P13
+DEF IEF_SERIAL EQU %00001000 ; Serial I/O transfer end
+DEF IEF_TIMER  EQU %00000100 ; Timer Overflow
+DEF IEF_STAT   EQU %00000010 ; STAT
+DEF IEF_VBLANK EQU %00000001 ; V-Blank
+
+DEF IEB_HILO   EQU 4
+DEF IEB_SERIAL EQU 3
+DEF IEB_TIMER  EQU 2
+DEF IEB_STAT   EQU 1
+DEF IEB_VBLANK EQU 0
+
+
+;***************************************************************************
+;*
+;* Flags common to multiple sound channels
+;*
+;***************************************************************************
+
+; --
+; -- Square wave duty cycle
+; --
+; -- Can be used with AUD1LEN and AUD2LEN
+; -- See AUD1LEN for more info
+; --
+DEF AUDLEN_DUTY_12_5    EQU %00000000 ; 12.5%
+DEF AUDLEN_DUTY_25      EQU %01000000 ; 25%
+DEF AUDLEN_DUTY_50      EQU %10000000 ; 50%
+DEF AUDLEN_DUTY_75      EQU %11000000 ; 75%
+
+
+; --
+; -- Audio envelope flags
+; --
+; -- Can be used with AUD1ENV, AUD2ENV, AUD4ENV
+; -- See AUD1ENV for more info
+; --
+DEF AUDENV_UP           EQU %00001000
+DEF AUDENV_DOWN         EQU %00000000
+
+
+; --
+; -- Audio trigger flags
+; --
+; -- Can be used with AUD1HIGH, AUD2HIGH, AUD3HIGH
+; -- See AUD1HIGH for more info
+; --
+DEF AUDHIGH_RESTART     EQU %10000000
+DEF AUDHIGH_LENGTH_ON   EQU %01000000
+DEF AUDHIGH_LENGTH_OFF  EQU %00000000
+
+
+;***************************************************************************
+;*
+;* CPU values on bootup (a=type, b=qualifier)
+;*
+;***************************************************************************
+
+DEF BOOTUP_A_DMG    EQU $01 ; Dot Matrix Game
+DEF BOOTUP_A_CGB    EQU $11 ; Color GameBoy
+DEF BOOTUP_A_MGB    EQU $FF ; Mini GameBoy (Pocket GameBoy)
+
+; if a=BOOTUP_A_CGB, bit 0 in b can be checked to determine if real CGB or
+; other system running in GBC mode
+DEF BOOTUP_B_CGB    EQU %00000000
+DEF BOOTUP_B_AGB    EQU %00000001   ; GBA, GBA SP, Game Boy Player, or New GBA SP
+
+
+;***************************************************************************
+;*
+;* Header
+;*
+;***************************************************************************
+
+;*
+;* Nintendo scrolling logo
+;* (Code won't work on a real GameBoy)
+;* (if next lines are altered.)
+MACRO NINTENDO_LOGO
+    DB  $CE,$ED,$66,$66,$CC,$0D,$00,$0B,$03,$73,$00,$83,$00,$0C,$00,$0D
+    DB  $00,$08,$11,$1F,$88,$89,$00,$0E,$DC,$CC,$6E,$E6,$DD,$DD,$D9,$99
+    DB  $BB,$BB,$67,$63,$6E,$0E,$EC,$CC,$DD,$DC,$99,$9F,$BB,$B9,$33,$3E
+ENDM
+
+; $0143 Color GameBoy compatibility code
+DEF CART_COMPATIBLE_DMG     EQU $00
+DEF CART_COMPATIBLE_DMG_GBC EQU $80
+DEF CART_COMPATIBLE_GBC     EQU $C0
+
+; $0146 GameBoy/Super GameBoy indicator
+DEF CART_INDICATOR_GB       EQU $00
+DEF CART_INDICATOR_SGB      EQU $03
+
+; $0147 Cartridge type
+DEF CART_ROM                     EQU $00
+DEF CART_ROM_MBC1                EQU $01
+DEF CART_ROM_MBC1_RAM            EQU $02
+DEF CART_ROM_MBC1_RAM_BAT        EQU $03
+DEF CART_ROM_MBC2                EQU $05
+DEF CART_ROM_MBC2_BAT            EQU $06
+DEF CART_ROM_RAM                 EQU $08
+DEF CART_ROM_RAM_BAT             EQU $09
+DEF CART_ROM_MMM01               EQU $0B
+DEF CART_ROM_MMM01_RAM           EQU $0C
+DEF CART_ROM_MMM01_RAM_BAT       EQU $0D
+DEF CART_ROM_MBC3_BAT_RTC        EQU $0F
+DEF CART_ROM_MBC3_RAM_BAT_RTC    EQU $10
+DEF CART_ROM_MBC3                EQU $11
+DEF CART_ROM_MBC3_RAM            EQU $12
+DEF CART_ROM_MBC3_RAM_BAT        EQU $13
+DEF CART_ROM_MBC5                EQU $19
+DEF CART_ROM_MBC5_BAT            EQU $1A
+DEF CART_ROM_MBC5_RAM_BAT        EQU $1B
+DEF CART_ROM_MBC5_RUMBLE         EQU $1C
+DEF CART_ROM_MBC5_RAM_RUMBLE     EQU $1D
+DEF CART_ROM_MBC5_RAM_BAT_RUMBLE EQU $1E
+DEF CART_ROM_MBC7_RAM_BAT_GYRO   EQU $22
+DEF CART_ROM_POCKET_CAMERA       EQU $FC
+DEF CART_ROM_BANDAI_TAMA5        EQU $FD
+DEF CART_ROM_HUDSON_HUC3         EQU $FE
+DEF CART_ROM_HUDSON_HUC1         EQU $FF
+
+; $0148 ROM size
+; these are kilobytes
+DEF CART_ROM_32KB   EQU $00 ; 2 banks
+DEF CART_ROM_64KB   EQU $01 ; 4 banks
+DEF CART_ROM_128KB  EQU $02 ; 8 banks
+DEF CART_ROM_256KB  EQU $03 ; 16 banks
+DEF CART_ROM_512KB  EQU $04 ; 32 banks
+DEF CART_ROM_1024KB EQU $05 ; 64 banks
+DEF CART_ROM_2048KB EQU $06 ; 128 banks
+DEF CART_ROM_4096KB EQU $07 ; 256 banks
+DEF CART_ROM_8192KB EQU $08 ; 512 banks
+DEF CART_ROM_1152KB EQU $52 ; 72 banks
+DEF CART_ROM_1280KB EQU $53 ; 80 banks
+DEF CART_ROM_1536KB EQU $54 ; 96 banks
+
+; $0149 SRAM size
+; these are kilobytes
+DEF CART_SRAM_NONE  EQU 0
+DEF CART_SRAM_8KB   EQU 2 ; 1 bank
+DEF CART_SRAM_32KB  EQU 3 ; 4 banks
+DEF CART_SRAM_128KB EQU 4 ; 16 banks
+
+; $014A Destination code
+DEF CART_DEST_JAPANESE     EQU $00
+DEF CART_DEST_NON_JAPANESE EQU $01
+
+
+;***************************************************************************
+;*
+;* Keypad related
+;*
+;***************************************************************************
+
+DEF PADF_DOWN   EQU $80
+DEF PADF_UP     EQU $40
+DEF PADF_LEFT   EQU $20
+DEF PADF_RIGHT  EQU $10
+DEF PADF_START  EQU $08
+DEF PADF_SELECT EQU $04
+DEF PADF_B      EQU $02
+DEF PADF_A      EQU $01
+
+DEF PADB_DOWN   EQU $7
+DEF PADB_UP     EQU $6
+DEF PADB_LEFT   EQU $5
+DEF PADB_RIGHT  EQU $4
+DEF PADB_START  EQU $3
+DEF PADB_SELECT EQU $2
+DEF PADB_B      EQU $1
+DEF PADB_A      EQU $0
+
+
+;***************************************************************************
+;*
+;* Screen related
+;*
+;***************************************************************************
+
+DEF SCRN_X    EQU 160 ; Width of screen in pixels
+DEF SCRN_Y    EQU 144 ; Height of screen in pixels. Also corresponds to the value in LY at the beginning of VBlank.
+DEF SCRN_X_B  EQU 20  ; Width of screen in bytes
+DEF SCRN_Y_B  EQU 18  ; Height of screen in bytes
+
+DEF SCRN_VX   EQU 256 ; Virtual width of screen in pixels
+DEF SCRN_VY   EQU 256 ; Virtual height of screen in pixels
+DEF SCRN_VX_B EQU 32  ; Virtual width of screen in bytes
+DEF SCRN_VY_B EQU 32  ; Virtual height of screen in bytes
+
+
+;***************************************************************************
+;*
+;* OAM related
+;*
+;***************************************************************************
+
+; OAM attributes
+; each entry in OAM RAM is 4 bytes (sizeof_OAM_ATTRS)
+RSRESET
+DEF OAMA_Y              RB  1   ; y pos plus 16
+DEF OAMA_X              RB  1   ; x pos plus 8
+DEF OAMA_TILEID         RB  1   ; tile id
+DEF OAMA_FLAGS          RB  1   ; flags (see below)
+DEF sizeof_OAM_ATTRS    RB  0
+
+DEF OAM_Y_OFS EQU 16 ; add this to a screen-relative Y position to get an OAM Y position
+DEF OAM_X_OFS EQU 8  ; add this to a screen-relative X position to get an OAM X position
+
+DEF OAM_COUNT           EQU 40  ; number of OAM entries in OAM RAM
+
+; flags
+DEF OAMF_PRI        EQU %10000000 ; Priority
+DEF OAMF_YFLIP      EQU %01000000 ; Y flip
+DEF OAMF_XFLIP      EQU %00100000 ; X flip
+DEF OAMF_PAL0       EQU %00000000 ; Palette number; 0,1 (DMG)
+DEF OAMF_PAL1       EQU %00010000 ; Palette number; 0,1 (DMG)
+DEF OAMF_BANK0      EQU %00000000 ; Bank number; 0,1 (GBC)
+DEF OAMF_BANK1      EQU %00001000 ; Bank number; 0,1 (GBC)
+
+DEF OAMF_PALMASK    EQU %00000111 ; Palette (GBC)
+
+DEF OAMB_PRI        EQU 7 ; Priority
+DEF OAMB_YFLIP      EQU 6 ; Y flip
+DEF OAMB_XFLIP      EQU 5 ; X flip
+DEF OAMB_PAL1       EQU 4 ; Palette number; 0,1 (DMG)
+DEF OAMB_BANK1      EQU 3 ; Bank number; 0,1 (GBC)
+
+
+; Deprecated constants. Please avoid using.
+
+DEF IEF_LCDC   EQU %00000010 ; LCDC (see STAT)
+DEF _VRAM8000  EQU _VRAM
+DEF _VRAM8800  EQU _VRAM+$800
+DEF _VRAM9000  EQU _VRAM+$1000
+DEF CART_SRAM_2KB   EQU 1 ; 1 incomplete bank
+DEF LCDCF_BG8800  EQU %00000000 ; BG & Window Tile Data Select
+DEF LCDCF_BG8000  EQU %00010000 ; BG & Window Tile Data Select
+DEF LCDCB_BG8000  EQU 4 ; BG & Window Tile Data Select
+
+
+    ENDC ;HARDWARE_INC
diff --git a/tmp/macros.inc.txt b/tmp/macros.inc.txt
new file mode 100644
index 0000000..27a4428
--- /dev/null
+++ b/tmp/macros.inc.txt
@@ -0,0 +1,601 @@
+;* ============================================================================
+;* MACROS.INC - Abstractions pour Super Mario Land
+;* ============================================================================
+;*
+;* POURQUOI CES MACROS ?
+;* ---------------------
+;* Le code désassemblé contient des patterns répétitifs (boucles de clear,
+;* copies mémoire, attentes LCD). Ces patterns sont identiques en structure
+;* mais difficiles à lire car noyés dans le flux d'instructions.
+;*
+;* Les macros RGBASM permettent de :
+;* 1. DOCUMENTER l'intention (le nom de la macro dit ce qu'on fait)
+;* 2. FACTORISER sans changer le binaire (expansion à l'assemblage)
+;* 3. FACILITER la lecture du code d'initialisation
+;*
+;* GARANTIE : Ces macros génèrent EXACTEMENT le même code machine que
+;* l'original. Vérifié par `make verify` (hash identique).
+;*
+;* CONVENTION : On ne factorise que la BOUCLE, pas le setup des registres.
+;* Ainsi l'ordre des instructions de setup reste explicite et le binaire
+;* reste identique même si l'ordre original était particulier.
+;*
+;* ============================================================================
+
+; -----------------------------------------------------------------------------
+; CLEAR_LOOP_BC - Boucle de clear mémoire avec compteur double
+; -----------------------------------------------------------------------------
+; QUOI : Écrit la valeur de A en mémoire, en décrémentant HL, B*C fois.
+;
+; POURQUOI : Sur Game Boy, effacer de grandes zones mémoire (WRAM 16KB,
+; VRAM 8KB) nécessite une boucle imbriquée car un seul registre 8-bit
+; ne peut compter que jusqu'à 256. On utilise B (inner) et C (outer).
+;
+; PRÉREQUIS :
+;   HL = adresse de fin (on décrémente vers le bas)
+;   C  = nombre de blocs (outer loop)
+;   B  = taille de chaque bloc (inner loop, 0 = 256)
+;   A  = valeur à écrire (généralement 0 via xor a)
+;
+; USAGE :
+;   xor a                   ; A = 0
+;   ld hl, _WRAM_END        ; Fin WRAM
+;   ld c, WRAM_BLOCKS       ; 64 blocs
+;   ld b, $00               ; de 256 octets = 16KB
+;   CLEAR_LOOP_BC
+; -----------------------------------------------------------------------------
+MACRO CLEAR_LOOP_BC
+.clear\@:
+    ld [hl-], a
+    dec b
+    jr nz, .clear\@
+    dec c
+    jr nz, .clear\@
+ENDM
+
+; -----------------------------------------------------------------------------
+; CLEAR_LOOP_B - Boucle de clear mémoire avec compteur simple
+; -----------------------------------------------------------------------------
+; QUOI : Comme CLEAR_LOOP_BC mais pour des zones plus petites (≤256 octets).
+;
+; POURQUOI : Pour OAM (160 octets) ou HRAM (128 octets), un seul compteur
+; suffit. Plus simple et plus rapide que la version double.
+;
+; PRÉREQUIS :
+;   HL = adresse de fin
+;   B  = nombre d'octets (0 = 256)
+;   A  = valeur à écrire
+;
+; USAGE :
+;   ; A contient déjà 0 du clear précédent
+;   ld hl, _HRAM_END        ; Fin HRAM
+;   ld b, HRAM_SIZE         ; 128 octets
+;   CLEAR_LOOP_B
+; -----------------------------------------------------------------------------
+MACRO CLEAR_LOOP_B
+.clear\@:
+    ld [hl-], a
+    dec b
+    jr nz, .clear\@
+ENDM
+
+; -----------------------------------------------------------------------------
+; COPY_TO_HRAM_LOOP - Copie depuis ROM vers HRAM
+; -----------------------------------------------------------------------------
+; QUOI : Copie B octets depuis HL (ROM) vers $FF00+C (HRAM).
+;
+; POURQUOI : Pendant le DMA OAM (transfert sprites), seul HRAM est accessible.
+; On doit donc copier certaines routines critiques (comme le handler DMA)
+; en HRAM au démarrage. Cette copie utilise `ldh [c], a` qui est plus
+; rapide que `ld [hl], a` pour accéder à la page $FF00.
+;
+; PRÉREQUIS :
+;   HL = adresse source en ROM
+;   C  = offset destination dans HRAM ($FF00 + C)
+;   B  = nombre d'octets à copier
+;
+; USAGE :
+;   ld c, LOW(hDmaRoutine)  ; Destination $FFB6
+;   ld b, DMA_ROUTINE_SIZE  ; 12 octets
+;   ld hl, ROM_DMA_ROUTINE  ; Source en ROM
+;   COPY_TO_HRAM_LOOP
+; -----------------------------------------------------------------------------
+MACRO COPY_TO_HRAM_LOOP
+.copy\@:
+    ld a, [hl+]
+    ldh [c], a
+    inc c
+    dec b
+    jr nz, .copy\@
+ENDM
+
+; -----------------------------------------------------------------------------
+; WAIT_LY - Attente d'une ligne LCD spécifique
+; -----------------------------------------------------------------------------
+; QUOI : Boucle jusqu'à ce que le registre LY atteigne la valeur spécifiée.
+;
+; POURQUOI : Le LCD Game Boy ne peut pas être éteint (bit 7 de LCDC) en
+; dehors du VBlank sans risquer d'endommager le hardware. On doit donc
+; attendre que LY ≥ 144 (VBlank) avant d'éteindre l'écran pour modifier
+; la VRAM librement. $94 = 148 est une valeur sûre en plein VBlank.
+;
+; PARAMÈTRE :
+;   \1 = numéro de ligne LCD à attendre (ex: $94 pour VBlank)
+;
+; USAGE :
+;   ld a, LCDCF_ON
+;   ldh [rLCDC], a          ; LCD ON minimal
+;   WAIT_LY LY_VBLANK_SAFE  ; Attendre VBlank
+;   ld a, IE_VBLANK_STAT
+;   ldh [rLCDC], a          ; LCD OFF (safe maintenant)
+; -----------------------------------------------------------------------------
+MACRO WAIT_LY
+.wait\@:
+    ldh a, [rLY]
+    cp \1
+    jr nz, .wait\@
+ENDM
+
+; -----------------------------------------------------------------------------
+; WAIT_FOR_HBLANK - Attente du mode 0 (HBlank) du LCD
+; -----------------------------------------------------------------------------
+; QUOI : Boucle jusqu'à ce que le LCD soit en mode 0 (HBlank).
+;
+; POURQUOI : Pendant les modes 2 et 3, le PPU utilise la VRAM et l'OAM.
+; Toute lecture/écriture VRAM hors HBlank (mode 0) ou VBlank (mode 1) peut
+; retourner des données corrompues. Ce pattern "attendre mode 0" est
+; omniprésent dans le code pour garantir des accès VRAM sûrs.
+;
+; DÉTAIL : Les bits 0-1 de STAT indiquent le mode LCD :
+;   00 = Mode 0 (HBlank) - VRAM/OAM accessibles
+;   01 = Mode 1 (VBlank) - VRAM/OAM accessibles
+;   10 = Mode 2 (OAM scan) - VRAM accessible, OAM bloqué
+;   11 = Mode 3 (Drawing) - VRAM/OAM bloqués
+;
+; USAGE :
+;   WAIT_FOR_HBLANK         ; Attendre HBlank
+;   ld a, [hl]              ; Lecture VRAM sûre
+; -----------------------------------------------------------------------------
+MACRO WAIT_FOR_HBLANK
+.waitHBlank\@:
+    ldh a, [rSTAT]
+    and STATF_LCD
+    jr nz, .waitHBlank\@
+ENDM
+
+;* ============================================================================
+;* FREE FUNCTIONS - Décomposition algorithmique de SystemInit
+;* ============================================================================
+;*
+;* Ces macros découpent SystemInit (init système) en étapes nommées.
+;* Le code devient lisible comme une séquence d'appels de fonctions C++.
+;*
+;* ============================================================================
+
+; -----------------------------------------------------------------------------
+; ConfigureInterrupts - Configure et désactive les interruptions
+; -----------------------------------------------------------------------------
+; Active VBlank + LCD STAT dans IE, clear les pending dans IF, puis DI.
+; Les interruptions restent désactivées pendant toute l'init.
+MACRO ConfigureInterrupts
+    ld a, IE_VBLANK_STAT
+    di
+    ldh [rIF], a
+    ldh [rIE], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; ConfigureLCDStat - Configure le registre STAT pour interruption LYC
+; -----------------------------------------------------------------------------
+; Bit 6 = LYC interrupt enable. Permet les effets raster mid-screen.
+MACRO ConfigureLCDStat
+    ld a, STATF_LYC
+    ldh [rSTAT], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; ResetScroll - Remet le scroll à zéro
+; -----------------------------------------------------------------------------
+; SCX, SCY = 0. Aussi le shadow register $FFA4 utilisé pour effets raster.
+MACRO ResetScroll
+    xor a
+    ldh [rSCY], a
+    ldh [rSCX], a
+    ldh [hShadowSCX], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; WaitVBlankAndDisableLCD - Attend VBlank puis éteint le LCD
+; -----------------------------------------------------------------------------
+; POURQUOI : On ne peut éteindre le LCD (LCDC bit 7 = 0) que pendant VBlank,
+; sinon on risque d'endommager le hardware. On allume d'abord minimalement
+; ($80), on attend la ligne 148 (plein VBlank), puis on éteint ($03).
+MACRO WaitVBlankAndDisableLCD
+    ld a, LCDCF_ON
+    ldh [rLCDC], a
+    WAIT_LY LY_VBLANK_SAFE
+    ld a, IE_VBLANK_STAT
+    ldh [rLCDC], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; ConfigurePalettes - Initialise les palettes BG et sprites
+; -----------------------------------------------------------------------------
+; $E4 = %11100100 = couleurs 3,2,1,0 (noir→blanc standard)
+; $54 = %01010100 = palette alternative pour sprites (plus claire)
+MACRO ConfigurePalettes
+    ld a, PALETTE_STANDARD
+    ldh [rBGP], a
+    ldh [rOBP0], a
+    ld a, PALETTE_SPRITE_ALT
+    ldh [rOBP1], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; EnableAudio - Active le système audio avec volume max
+; -----------------------------------------------------------------------------
+; NR52 = $80 (master ON), NR51 = $FF (tous canaux L+R), NR50 = $77 (vol max)
+; Utilise ld [hl-] pour économiser des octets (astuce classique).
+MACRO EnableAudio
+    ld hl, rNR52
+    ld a, AUDENA_ON
+    ld [hl-], a
+    ld a, AUDTERM_ALL
+    ld [hl-], a
+    ld [hl], AUDVOL_MAX
+ENDM
+
+; -----------------------------------------------------------------------------
+; SetupStack - Initialise le stack pointer
+; -----------------------------------------------------------------------------
+; SP = $CFFF = haut de WRAM bank 0. La pile descend vers $C000.
+MACRO SetupStack
+    ld sp, _STACK_TOP
+ENDM
+
+; -----------------------------------------------------------------------------
+; ClearWRAM - Efface toute la WRAM (16KB)
+; -----------------------------------------------------------------------------
+; $C000-$DFFF = 16384 octets = 64 blocs de 256 octets
+MACRO ClearWRAM
+    xor a
+    ld hl, _WRAM_END
+    ld c, WRAM_BLOCKS
+    ld b, $00               ; 256 octets par bloc
+    CLEAR_LOOP_BC
+ENDM
+
+; -----------------------------------------------------------------------------
+; ClearVRAM - Efface toute la VRAM (8KB)
+; -----------------------------------------------------------------------------
+; $8000-$9FFF = 8192 octets = 32 blocs de 256 octets
+; Note: xor a est APRÈS ld hl/ld c dans l'original (ordre préservé)
+MACRO ClearVRAM
+    ld hl, _VRAM_END
+    ld c, VRAM_BLOCKS
+    xor a
+    ld b, $00               ; 256 octets par bloc
+    CLEAR_LOOP_BC
+ENDM
+
+; -----------------------------------------------------------------------------
+; ClearOAM - Efface l'OAM et la zone interdite
+; -----------------------------------------------------------------------------
+; $FE00-$FEFF = 256 octets (OAM = 160, reste = zone interdite)
+; Note: A contient déjà 0 du ClearVRAM précédent
+MACRO ClearOAM
+    ld hl, _OAM_END
+    ld b, $00               ; 256 octets (OAM + zone interdite)
+    CLEAR_LOOP_B
+ENDM
+
+; -----------------------------------------------------------------------------
+; ClearHRAM - Efface la HRAM
+; -----------------------------------------------------------------------------
+; $FF80-$FFFE = 128 octets de RAM rapide
+MACRO ClearHRAM
+    ld hl, _HRAM_END
+    ld b, HRAM_SIZE
+    CLEAR_LOOP_B
+ENDM
+
+; -----------------------------------------------------------------------------
+; CopyVBlankRoutine - Copie la routine DMA en HRAM
+; -----------------------------------------------------------------------------
+; POURQUOI : Pendant le DMA OAM, seul HRAM est accessible.
+; La routine à $3F7D (12 octets) est copiée vers $FFB6.
+MACRO CopyVBlankRoutine
+    ld c, LOW(hDmaRoutine)
+    ld b, DMA_ROUTINE_SIZE
+    ld hl, ROM_DMA_ROUTINE
+    COPY_TO_HRAM_LOOP
+ENDM
+
+; -----------------------------------------------------------------------------
+; InitGameVariables - Initialise les variables de jeu
+; -----------------------------------------------------------------------------
+; Configure les variables HRAM/WRAM initiales et fait le premier bank switch.
+; $FFE4 = 0, $FFB4 = $11, $C0A8 = $11, $C0DC = $02
+; $FFB3 = $0E (game_state), $C0A4 = $03, $C0E1 = 0, $FF9A = 0
+; Appelle la routine d'init en bank 3, puis switch vers bank 2.
+MACRO InitGameVariables
+    xor a
+    ldh [hRenderContext], a
+    ld a, INIT_ANIM_TILE_IDX
+    ldh [hAnimTileIndex], a
+    ld [wAnimTileIdx], a
+    ld a, INIT_UNKNOWN_DC
+    ld [wCurrentROMBank], a
+    ld a, INIT_GAME_STATE
+    ldh [hGameState], a
+    ld a, INIT_UNKNOWN_A4
+    ld [rROMB0], a
+    ld [wROMBankInit], a
+    ld a, $00
+    ld [wLevelType], a
+    ldh [hLevelIndex], a
+    call ROM_INIT_BANK3
+    ld a, INIT_UNKNOWN_DC
+    ld [rROMB0], a
+    ldh [hCurrentBank], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; WaitForNextFrame - Attend le prochain VBlank
+; -----------------------------------------------------------------------------
+; HALT économise la batterie en suspendant le CPU jusqu'à interruption.
+; Le VBlank handler met $FF85 à 1, on le remet à 0 et on continue.
+MACRO WaitForNextFrame
+.wait\@:
+    halt
+    ldh a, [hVBlankFlag]
+    and a
+    jr z, .wait\@
+    xor a
+    ldh [hVBlankFlag], a
+ENDM
+
+;* ============================================================================
+;* GUARD CLAUSES - Macros de contrôle de flux basées sur hUpdateLockFlag
+;* ============================================================================
+;*
+;* Ces macros encapsulent les patterns récurrents de vérification du flag
+;* de verrouillage des mises à jour graphiques (hUpdateLockFlag).
+;*
+;* ============================================================================
+
+; -----------------------------------------------------------------------------
+; ReturnIfLocked - Quitte la fonction si les updates sont verrouillées
+; -----------------------------------------------------------------------------
+; QUOI : Guard clause qui fait un early return si hUpdateLockFlag != 0
+; USAGE : En début de fonction pour éviter les updates graphiques pendant
+;         certaines phases critiques (transitions, etc.)
+MACRO ReturnIfLocked
+    ldh a, [hUpdateLockFlag]
+    and a
+    ret nz
+ENDM
+
+; -----------------------------------------------------------------------------
+; JumpIfLocked - Saute vers un label si les updates sont verrouillées
+; -----------------------------------------------------------------------------
+; QUOI : Branch conditionnel vers \1 si hUpdateLockFlag != 0
+; PARAMÈTRE : \1 = label de destination
+MACRO JumpIfLocked
+    ldh a, [hUpdateLockFlag]
+    and a
+    jr nz, \1
+ENDM
+
+; -----------------------------------------------------------------------------
+; ReturnIfUnlocked - Quitte la fonction si les updates sont déverrouillées
+; -----------------------------------------------------------------------------
+; QUOI : Guard clause inverse - early return si hUpdateLockFlag == 0
+; USAGE : Pour du code qui ne doit s'exécuter QUE pendant le verrouillage
+MACRO ReturnIfUnlocked
+    ldh a, [hUpdateLockFlag]
+    and a
+    ret z
+ENDM
+
+; -----------------------------------------------------------------------------
+; JumpIfUnlocked - Saute vers un label si les updates sont déverrouillées
+; -----------------------------------------------------------------------------
+; QUOI : Branch conditionnel vers \1 si hUpdateLockFlag == 0
+; PARAMÈTRE : \1 = label de destination
+MACRO JumpIfUnlocked
+    ldh a, [hUpdateLockFlag]
+    and a
+    jr z, \1
+ENDM
+
+;* ============================================================================
+;* GAMELOOP MACROS - Décomposition de la boucle principale
+;* ============================================================================
+;*
+;* Ces macros découpent GameLoop en étapes nommées et documentées.
+;* Chaque macro génère exactement le même code machine que l'original.
+;*
+;* GARANTIE : Le binaire reste bit-perfect (vérifié par `make verify`).
+;*
+;* ============================================================================
+
+; -----------------------------------------------------------------------------
+; CheckSpecialStateAndReset - Vérifie et reset l'état spécial si nécessaire
+; -----------------------------------------------------------------------------
+; QUOI : Si wSpecialState == SPECIAL_STATE_TRIGGER ($03), reset à $FF et
+;        appelle les routines d'initialisation.
+;
+; PARAMÈTRE :
+;   \1 = label destination si wSpecialState != $03
+;
+; INSTRUCTIONS GÉNÉRÉES :
+;   ld a, [wSpecialState]
+;   cp $03
+;   jr nz, \1
+;   ld a, $ff
+;   ld [wSpecialState], a
+;   call InitGameState
+;   call SwitchBankAndCallBank3Handler
+; -----------------------------------------------------------------------------
+MACRO CheckSpecialStateAndReset
+    ld a, [wSpecialState]
+    cp SPECIAL_STATE_TRIGGER
+    jr nz, \1
+    ld a, SPECIAL_STATE_RESET
+    ld [wSpecialState], a
+    call InitGameState
+    call SwitchBankAndCallBank3Handler
+ENDM
+
+; -----------------------------------------------------------------------------
+; CallBank3Routine - Appelle une routine en bank 3 avec switch sécurisé
+; -----------------------------------------------------------------------------
+; QUOI : Sauvegarde la bank courante, switch vers bank 3, appelle la routine,
+;        puis restaure la bank originale.
+;
+; PARAMÈTRE :
+;   \1 = adresse de la routine à appeler en bank 3
+;
+; INSTRUCTIONS GÉNÉRÉES :
+;   ldh a, [hCurrentBank]
+;   ldh [hSavedBank], a
+;   ld a, $03
+;   ldh [hCurrentBank], a
+;   ld [$2000], a
+;   call \1
+;   ldh a, [hSavedBank]
+;   ldh [hCurrentBank], a
+;   ld [$2000], a
+; -----------------------------------------------------------------------------
+MACRO CallBank3Routine
+    ldh a, [hCurrentBank]
+    ldh [hSavedBank], a
+    ld a, BANK_AUDIO
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+    call \1
+    ldh a, [hSavedBank]
+    ldh [hCurrentBank], a
+    ld [rROMB0], a
+ENDM
+
+; -----------------------------------------------------------------------------
+; CheckPauseAndSkip - Vérifie si on doit sauter les updates de frame
+; -----------------------------------------------------------------------------
+; QUOI : Si verrouillé, saute vers les timers. Sinon, vérifie pause et peut
+;        sauter directement au wait VBlank.
+;
+; PARAMÈTRES :
+;   \1 = label si verrouillé (vers DecrementTimers)
+;   \2 = label si pause active (vers WaitVBlank)
+;
+; INSTRUCTIONS GÉNÉRÉES :
+;   JumpIfLocked \1
+;   call CheckInputAndPause
+;   ldh a, [hPauseFlag]
+;   and a
+;   jr nz, \2
+; -----------------------------------------------------------------------------
+MACRO CheckPauseAndSkip
+    JumpIfLocked \1
+    call CheckInputAndPause
+    ldh a, [hPauseFlag]
+    and a
+    jr nz, \2
+ENDM
+
+; -----------------------------------------------------------------------------
+; DECREMENT_TIMERS_LOOP - Boucle de décrémentation de N timers consécutifs
+; -----------------------------------------------------------------------------
+; QUOI : Décrémente B timers consécutifs en mémoire, sautant ceux déjà à 0.
+;
+; PRÉREQUIS :
+;   HL = adresse du premier timer
+;   B  = nombre de timers à traiter
+;
+; NOTE : La boucle utilise inc l (pas inc hl) car les timers sont dans la
+;        même page mémoire ($FFA6, $FFA7).
+; -----------------------------------------------------------------------------
+MACRO DECREMENT_TIMERS_LOOP
+.timerLoop\@:
+    ld a, [hl]
+    and a
+    jr z, .nextTimer\@
+    dec [hl]
+.nextTimer\@:
+    inc l
+    dec b
+    jr nz, .timerLoop\@
+ENDM
+
+; -----------------------------------------------------------------------------
+; CheckAttractModeTimer - Vérifie le timer Attract Mode et déclenche la démo
+; -----------------------------------------------------------------------------
+; QUOI : Si déverrouillé, saute au handler. Sinon, vérifie si Start est pressé
+;        ou si le timer est expiré pour déclencher la démo automatique.
+;
+; PARAMÈTRES :
+;   \1 = label si déverrouillé ou timer non expiré (vers CallStateHandler)
+;   \2 = label si Start pressé ou timer expiré (vers TriggerAttractDemo)
+;
+; INSTRUCTIONS GÉNÉRÉES :
+;   JumpIfUnlocked \1
+;   ldh a, [hJoypadState]
+;   bit 3, a
+;   jr nz, \2
+;   ldh a, [hFrameCounter]
+;   and $0f
+;   jr nz, \1
+;   ld hl, wAttractModeTimer
+;   ld a, [hl]
+;   and a
+;   jr z, \2
+;   dec [hl]
+;   jr \1
+; -----------------------------------------------------------------------------
+MACRO CheckAttractModeTimer
+    JumpIfUnlocked \1
+    ldh a, [hJoypadState]
+    bit PADB_START, a
+    jr nz, \2
+    ldh a, [hFrameCounter]
+    and ATTRACT_FRAME_MASK
+    jr nz, \1
+    ld hl, wAttractModeTimer
+    ld a, [hl]
+    and a
+    jr z, \2
+    dec [hl]
+    jr \1
+ENDM
+
+; -----------------------------------------------------------------------------
+; TriggerAttractDemoIfOnTitle - Déclenche la démo si on est sur l'écran titre
+; -----------------------------------------------------------------------------
+; QUOI : Vérifie si hGameState == GAME_STATE_TITLE. Si oui, switch vers bank 2
+;        et lance la démo automatique. Sinon, saute vers le handler d'état.
+;
+; PARAMÈTRE :
+;   \1 = label si pas sur écran titre (vers CallStateHandler)
+;
+; INSTRUCTIONS GÉNÉRÉES :
+;   ldh a, [hGameState]
+;   and a
+;   jr nz, \1
+;   ld a, $02
+;   ld [$2000], a
+;   ldh [hCurrentBank], a
+;   ld a, GAME_STATE_DEMO
+;   ldh [hGameState], a
+; -----------------------------------------------------------------------------
+MACRO TriggerAttractDemoIfOnTitle
+    ldh a, [hGameState]
+    and a
+    jr nz, \1
+    ld a, BANK_DEMO
+    ld [rROMB0], a
+    ldh [hCurrentBank], a
+    ld a, GAME_STATE_DEMO
+    ldh [hGameState], a
+ENDM

</DiffGit>

Tes réflexions produites dans la production finale. Ces commenentaires ont été coupés.
<ReflexionAgent>

 │ Je vais analyser le code à l'adresse $584b dans le fichier src/bank_002.asm.
│ Bien, j'ai trouvé la fonction DecrementGameTimer. Laissez-moi lire la section complète pour analyser
│ Parfait. J'ai maintenant une vue complète de la fonction DecrementGameTimer à l'adresse $584b. Laiss
│ Excellent. Maintenant, vérifions l'adresse exacte de DecrementGameTimer dans le fichier .sym:
│ 4. `rTMA` - registre hardware
│ Vérifions si `$da00` et `$da1d` ont des labels:
│ Les adresses $da00 et $da1d n'ont pas encore de labels symboliques. Regardons si wSpecialState exist
│ Parfait! Donc `wSpecialState` est déjà défini à $DA1D. Donc `$da1d` dans le code devrait utiliser ce
│ - `$da1d` = `wSpecialState`
│ Vérifions aussi s'il y a des labels pour wLevelData+1 et wLevelData+2 (les octets du timer BCD):
│ 1. Remplacer `$da00` par `wLevelData`
│ 2. Remplacer `$da1d` par `wSpecialState`
│ 3. Améliorer les commentaires pour refléter la vraie structure
│ Excellent! Maintenant vérifions la compilation avec `make verify`:
│ - SetTimerForAlternateCase (via `jr nz`)
│ Vérifions les adresses de ces fonctions:
│   "summary": "Décrémente le timer BCD de niveau (3 octets: compteur frames + timer BCD 16-bit) et di
│ }
│ ```

</ReflexionAgent>

Je veux que tu améliores le [fichier des conseils](../recommendations.md) en y insérant :
- des critiques sur le prompt initial
- des pistes d'améliorations
- les découvertes que tu pourrais faire

Dans ce meme fichier, je souhaite que tu établisses une note de réalisation pour cette étape